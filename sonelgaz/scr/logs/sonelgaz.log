2025-08-19 11:21:16,267 - INFO - 1-get_arpege:54 - --- Script '1-get_arpege.py' started ---
2025-08-19 11:21:16,267 - INFO - 1-get_arpege:55 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 11:21:16,267 - INFO - 1-get_arpege:56 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 11:21:16,267 - INFO - 1-get_arpege:57 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 11:21:16,267 - INFO - 1-get_arpege:58 - Project root dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 11:21:16,267 - INFO - 1-get_arpege:59 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 11:21:16,267 - INFO - 1-get_arpege:60 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-19 11:21:16,268 - INFO - 1-get_arpege:63 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 11:21:16,268 - INFO - 1-get_arpege:75 - Fetching files for date: 20250819 with pattern: *SP1*20250819000*
2025-08-19 11:21:16,268 - INFO - 1-get_arpege:78 - Checking if files exist on FTP server...
2025-08-19 11:21:16,268 - INFO - fetchdata:48 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250819000*)...
2025-08-19 11:21:16,268 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 11:21:16,530 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 11:21:16,543 - INFO - fetchdata:61 - Found 9 files matching pattern '*SP1*20250819000*'.
2025-08-19 11:21:16,544 - INFO - 1-get_arpege:94 - Found 9 matching files on FTP server:
2025-08-19 11:21:16,544 - INFO - 1-get_arpege:96 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:16,545 - INFO - 1-get_arpege:96 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:16,545 - INFO - 1-get_arpege:96 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:16,545 - INFO - 1-get_arpege:96 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:16,545 - INFO - 1-get_arpege:96 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:16,545 - INFO - 1-get_arpege:96 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:16,545 - INFO - 1-get_arpege:96 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:16,546 - INFO - 1-get_arpege:96 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:16,546 - INFO - 1-get_arpege:96 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:16,546 - INFO - 1-get_arpege:99 - Proceeding with FTP download.
2025-08-19 11:21:16,546 - INFO - 1-get_arpege:100 - Downloading files matching pattern '*SP1*20250819000*' from /share/meteofrance/Arpege_Orig to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-19 11:21:16,546 - INFO - fetchdata:76 - Starting FTP file fetch process.
2025-08-19 11:21:16,546 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 11:21:16,755 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 11:21:16,756 - INFO - fetchdata:85 - Changed remote directory to: /share/meteofrance/Arpege_Orig
2025-08-19 11:21:16,756 - INFO - fetchdata:92 - Looking for files matching pattern: '*SP1*20250819000*'
2025-08-19 11:21:16,756 - INFO - fetchdata:96 - Local download directory: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 11:21:16,767 - INFO - fetchdata:105 - Found 9 files matching pattern on remote server.
2025-08-19 11:21:16,767 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:17,210 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:17,401 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:18,047 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:18,242 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:18,699 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:18,851 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:19,292 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:19,485 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:20,199 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:20,454 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:20,955 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:21,173 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:21,695 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:22,119 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:22,749 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:22,968 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:23,214 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 11:21:23,314 - INFO - fetchdata:129 - FTP file fetch process completed.
2025-08-19 11:21:23,315 - INFO - 1-get_arpege:112 - FTP transfer completed successfully.
2025-08-19 11:21:23,315 - INFO - 1-get_arpege:126 - Successfully verified 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-19 11:21:23,316 - INFO - 1-get_arpege:132 - --- Script '1-get_arpege.py' finished. ---
2025-08-19 13:35:39,488 - INFO - 1-get_arpege:67 - --- Script '1-get_arpege.py' started ---
2025-08-19 13:35:39,488 - INFO - 1-get_arpege:68 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 13:35:39,489 - INFO - 1-get_arpege:69 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:35:39,489 - INFO - 1-get_arpege:70 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:35:39,489 - INFO - 1-get_arpege:71 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 13:35:39,489 - INFO - 1-get_arpege:72 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:35:39,489 - INFO - 1-get_arpege:73 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-19 13:35:39,489 - INFO - 1-get_arpege:76 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:35:39,489 - INFO - 1-get_arpege:88 - Fetching files for date: 20250819 with pattern: *SP1*20250819000*
2025-08-19 13:35:39,489 - INFO - 1-get_arpege:91 - Checking if files exist on FTP server...
2025-08-19 13:35:39,489 - INFO - fetchdata:48 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250819000*)...
2025-08-19 13:35:39,489 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 13:35:39,755 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 13:35:39,768 - INFO - fetchdata:61 - Found 9 files matching pattern '*SP1*20250819000*'.
2025-08-19 13:35:39,768 - INFO - 1-get_arpege:119 - Found 9 matching files on FTP server:
2025-08-19 13:35:39,769 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:39,769 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:39,769 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:39,769 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:39,770 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:39,770 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:39,770 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:39,770 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:39,770 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:39,770 - INFO - 1-get_arpege:124 - Proceeding with FTP download.
2025-08-19 13:35:39,771 - INFO - 1-get_arpege:125 - Downloading files matching pattern '*SP1*20250819000*' from /share/meteofrance/Arpege_Orig to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-19 13:35:39,771 - INFO - fetchdata:76 - Starting FTP file fetch process.
2025-08-19 13:35:39,771 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 13:35:39,992 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 13:35:39,993 - INFO - fetchdata:85 - Changed remote directory to: /share/meteofrance/Arpege_Orig
2025-08-19 13:35:39,993 - INFO - fetchdata:92 - Looking for files matching pattern: '*SP1*20250819000*'
2025-08-19 13:35:39,994 - INFO - fetchdata:96 - Local download directory: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:35:40,004 - INFO - fetchdata:105 - Found 9 files matching pattern on remote server.
2025-08-19 13:35:40,004 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:40,828 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:41,100 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:41,670 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:41,950 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:42,455 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:42,698 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:43,231 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:43,473 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:43,988 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:44,205 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:44,713 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:44,949 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:45,436 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:45,749 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:46,243 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:46,469 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:46,712 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:35:46,797 - INFO - fetchdata:129 - FTP file fetch process completed.
2025-08-19 13:35:46,799 - INFO - 1-get_arpege:137 - FTP transfer completed successfully.
2025-08-19 13:35:46,799 - INFO - 1-get_arpege:151 - Successfully verified 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-19 13:35:46,800 - INFO - 1-get_arpege:154 - Attempting to run next program: 2-conv.py
2025-08-19 13:35:46,800 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:35:47,738 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 2.
2025-08-19 13:35:47,739 - ERROR - system_utils:58 - STDOUT: 
2025-08-19 13:35:47,739 - ERROR - system_utils:59 - STDERR: usage: 2-conv.py [-h]
2-conv.py: error: unrecognized arguments: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 13:35:47,739 - ERROR - 1-get_arpege:163 - An error occurred while running 2-conv.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get_arpege.py", line 157, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
2025-08-19 13:37:32,592 - INFO - 1-get_arpege:67 - --- Script '1-get_arpege.py' started ---
2025-08-19 13:37:32,593 - INFO - 1-get_arpege:68 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 13:37:32,593 - INFO - 1-get_arpege:69 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:37:32,593 - INFO - 1-get_arpege:70 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:37:32,593 - INFO - 1-get_arpege:71 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 13:37:32,593 - INFO - 1-get_arpege:72 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:37:32,593 - INFO - 1-get_arpege:73 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-19 13:37:32,593 - INFO - 1-get_arpege:76 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:37:32,593 - INFO - 1-get_arpege:88 - Fetching files for date: 20250819 with pattern: *SP1*20250819000*
2025-08-19 13:37:32,593 - INFO - 1-get_arpege:91 - Checking if files exist on FTP server...
2025-08-19 13:37:32,593 - INFO - fetchdata:48 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250819000*)...
2025-08-19 13:37:32,593 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 13:37:32,862 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 13:37:32,874 - INFO - fetchdata:61 - Found 9 files matching pattern '*SP1*20250819000*'.
2025-08-19 13:37:32,875 - INFO - 1-get_arpege:119 - Found 9 matching files on FTP server:
2025-08-19 13:37:32,876 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:32,876 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:32,876 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:32,876 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:32,876 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:32,876 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:32,877 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:32,877 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:32,877 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:32,877 - INFO - 1-get_arpege:124 - Proceeding with FTP download.
2025-08-19 13:37:32,877 - INFO - 1-get_arpege:125 - Downloading files matching pattern '*SP1*20250819000*' from /share/meteofrance/Arpege_Orig to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-19 13:37:32,878 - INFO - fetchdata:76 - Starting FTP file fetch process.
2025-08-19 13:37:32,878 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 13:37:33,077 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 13:37:33,078 - INFO - fetchdata:85 - Changed remote directory to: /share/meteofrance/Arpege_Orig
2025-08-19 13:37:33,078 - INFO - fetchdata:92 - Looking for files matching pattern: '*SP1*20250819000*'
2025-08-19 13:37:33,078 - INFO - fetchdata:96 - Local download directory: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:37:33,088 - INFO - fetchdata:105 - Found 9 files matching pattern on remote server.
2025-08-19 13:37:33,088 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:33,690 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:33,795 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:34,334 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:34,556 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:35,073 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:35,338 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:36,085 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:36,298 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:36,907 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:37,131 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:37,637 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:37,925 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:38,819 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:39,011 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:39,586 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:39,828 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:40,106 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:37:40,190 - INFO - fetchdata:129 - FTP file fetch process completed.
2025-08-19 13:37:40,191 - INFO - 1-get_arpege:137 - FTP transfer completed successfully.
2025-08-19 13:37:40,191 - INFO - 1-get_arpege:151 - Successfully verified 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-19 13:37:40,191 - INFO - 1-get_arpege:154 - Attempting to run next program: 2-conv.py
2025-08-19 13:37:40,192 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:37:41,177 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 2.
2025-08-19 13:37:41,177 - ERROR - system_utils:58 - STDOUT: 
2025-08-19 13:37:41,177 - ERROR - system_utils:59 - STDERR: usage: 2-conv.py [-h]
2-conv.py: error: unrecognized arguments: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 13:37:41,177 - ERROR - 1-get_arpege:163 - An error occurred while running 2-conv.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get_arpege.py", line 157, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
2025-08-19 13:39:49,273 - INFO - 1-get_arpege:67 - --- Script '1-get_arpege.py' started ---
2025-08-19 13:39:49,273 - INFO - 1-get_arpege:68 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 13:39:49,273 - INFO - 1-get_arpege:69 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:39:49,273 - INFO - 1-get_arpege:70 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:39:49,274 - INFO - 1-get_arpege:71 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 13:39:49,274 - INFO - 1-get_arpege:72 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:39:49,274 - INFO - 1-get_arpege:73 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-19 13:39:49,274 - INFO - 1-get_arpege:76 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:39:49,274 - INFO - 1-get_arpege:88 - Fetching files for date: 20250819 with pattern: *SP1*20250819000*
2025-08-19 13:39:49,274 - INFO - 1-get_arpege:91 - Checking if files exist on FTP server...
2025-08-19 13:39:49,274 - INFO - fetchdata:48 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250819000*)...
2025-08-19 13:39:49,274 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 13:39:49,522 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 13:39:49,530 - INFO - fetchdata:61 - Found 9 files matching pattern '*SP1*20250819000*'.
2025-08-19 13:39:49,530 - INFO - 1-get_arpege:119 - Found 9 matching files on FTP server:
2025-08-19 13:39:49,530 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:49,530 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:49,531 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:49,531 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:49,531 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:49,531 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:49,531 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:49,531 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:49,531 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:49,531 - INFO - 1-get_arpege:124 - Proceeding with FTP download.
2025-08-19 13:39:49,531 - INFO - 1-get_arpege:125 - Downloading files matching pattern '*SP1*20250819000*' from /share/meteofrance/Arpege_Orig to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-19 13:39:49,531 - INFO - fetchdata:76 - Starting FTP file fetch process.
2025-08-19 13:39:49,531 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 13:39:49,739 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 13:39:49,740 - INFO - fetchdata:85 - Changed remote directory to: /share/meteofrance/Arpege_Orig
2025-08-19 13:39:49,740 - INFO - fetchdata:92 - Looking for files matching pattern: '*SP1*20250819000*'
2025-08-19 13:39:49,740 - INFO - fetchdata:96 - Local download directory: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:39:49,747 - INFO - fetchdata:105 - Found 9 files matching pattern on remote server.
2025-08-19 13:39:49,748 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:50,506 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:50,731 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:51,236 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:51,453 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:51,951 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:52,135 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:52,640 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:52,869 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:53,374 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:53,569 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:54,082 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:54,300 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:54,815 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:55,027 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:55,546 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:55,746 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:56,002 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:39:56,108 - INFO - fetchdata:129 - FTP file fetch process completed.
2025-08-19 13:39:56,109 - INFO - 1-get_arpege:137 - FTP transfer completed successfully.
2025-08-19 13:39:56,109 - INFO - 1-get_arpege:151 - Successfully verified 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-19 13:39:56,110 - INFO - 1-get_arpege:154 - Attempting to run next program: 2-conv.py
2025-08-19 13:39:56,110 - INFO - system_utils:36 - Executing command: python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:39:57,097 - ERROR - system_utils:57 - Command 'python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 2.
2025-08-19 13:39:57,097 - ERROR - system_utils:58 - STDOUT: 
2025-08-19 13:39:57,097 - ERROR - system_utils:59 - STDERR: usage: 2-conv.py [-h]
2-conv.py: error: unrecognized arguments: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 13:39:57,097 - ERROR - 1-get_arpege:163 - An error occurred while running 2-conv.py: Command '['python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get_arpege.py", line 157, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
2025-08-19 13:43:02,459 - INFO - 1-get_arpege:67 - --- Script '1-get_arpege.py' started ---
2025-08-19 13:43:02,460 - INFO - 1-get_arpege:68 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 13:43:02,460 - INFO - 1-get_arpege:69 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:43:02,460 - INFO - 1-get_arpege:70 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:43:02,460 - INFO - 1-get_arpege:71 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 13:43:02,460 - INFO - 1-get_arpege:72 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:43:02,460 - INFO - 1-get_arpege:73 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-19 13:43:02,460 - INFO - 1-get_arpege:76 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:43:02,460 - INFO - 1-get_arpege:88 - Fetching files for date: 20250819 with pattern: *SP1*20250819000*
2025-08-19 13:43:02,460 - INFO - 1-get_arpege:91 - Checking if files exist on FTP server...
2025-08-19 13:43:02,460 - INFO - fetchdata:48 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250819000*)...
2025-08-19 13:43:02,460 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 13:43:02,720 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 13:43:02,741 - INFO - fetchdata:61 - Found 9 files matching pattern '*SP1*20250819000*'.
2025-08-19 13:43:02,745 - INFO - 1-get_arpege:119 - Found 9 matching files on FTP server:
2025-08-19 13:43:02,745 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:02,745 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:02,746 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:02,746 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:02,746 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:02,746 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:02,746 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:02,746 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:02,747 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:02,747 - INFO - 1-get_arpege:124 - Proceeding with FTP download.
2025-08-19 13:43:02,747 - INFO - 1-get_arpege:125 - Downloading files matching pattern '*SP1*20250819000*' from /share/meteofrance/Arpege_Orig to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-19 13:43:02,747 - INFO - fetchdata:76 - Starting FTP file fetch process.
2025-08-19 13:43:02,747 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 13:43:02,966 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 13:43:02,974 - INFO - fetchdata:85 - Changed remote directory to: /share/meteofrance/Arpege_Orig
2025-08-19 13:43:02,974 - INFO - fetchdata:92 - Looking for files matching pattern: '*SP1*20250819000*'
2025-08-19 13:43:02,975 - INFO - fetchdata:96 - Local download directory: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:43:03,030 - INFO - fetchdata:105 - Found 9 files matching pattern on remote server.
2025-08-19 13:43:03,030 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:04,183 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:04,404 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:05,195 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:05,370 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:05,898 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:06,099 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:06,585 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:06,847 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:07,339 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:07,533 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:08,050 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:08,254 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:08,767 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:08,986 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:09,484 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:09,705 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:09,960 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:43:10,023 - INFO - fetchdata:129 - FTP file fetch process completed.
2025-08-19 13:43:10,023 - INFO - 1-get_arpege:137 - FTP transfer completed successfully.
2025-08-19 13:43:10,024 - INFO - 1-get_arpege:151 - Successfully verified 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-19 13:43:10,024 - INFO - 1-get_arpege:154 - Attempting to run next program: 2-conv.py
2025-08-19 13:43:10,024 - INFO - system_utils:36 - Executing command: python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:43:10,937 - ERROR - system_utils:57 - Command 'python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 13:43:10,937 - ERROR - system_utils:58 - STDOUT: 
2025-08-19 13:43:10,937 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py", line 33, in <module>
    shared_log_file_path=args.shared_log_file_from_env 
AttributeError: 'Namespace' object has no attribute 'shared_log_file_from_env'
2025-08-19 13:43:10,937 - ERROR - 1-get_arpege:163 - An error occurred while running 2-conv.py: Command '['python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get_arpege.py", line 157, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 13:49:04,094 - INFO - 1-get_arpege:67 - --- Script '1-get_arpege.py' started ---
2025-08-19 13:49:04,094 - INFO - 1-get_arpege:68 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 13:49:04,094 - INFO - 1-get_arpege:69 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:49:04,094 - INFO - 1-get_arpege:70 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:49:04,094 - INFO - 1-get_arpege:71 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 13:49:04,094 - INFO - 1-get_arpege:72 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:49:04,094 - INFO - 1-get_arpege:73 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-19 13:49:04,094 - INFO - 1-get_arpege:76 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:49:04,094 - INFO - 1-get_arpege:88 - Fetching files for date: 20250819 with pattern: *SP1*20250819000*
2025-08-19 13:49:04,095 - INFO - 1-get_arpege:91 - Checking if files exist on FTP server...
2025-08-19 13:49:04,095 - INFO - fetchdata:48 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250819000*)...
2025-08-19 13:49:04,095 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 13:49:04,369 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 13:49:04,383 - INFO - fetchdata:61 - Found 9 files matching pattern '*SP1*20250819000*'.
2025-08-19 13:49:04,384 - INFO - 1-get_arpege:119 - Found 9 matching files on FTP server:
2025-08-19 13:49:04,384 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:04,384 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:04,385 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:04,385 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:04,385 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:04,385 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:04,386 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:04,386 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:04,386 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:04,387 - INFO - 1-get_arpege:124 - Proceeding with FTP download.
2025-08-19 13:49:04,387 - INFO - 1-get_arpege:125 - Downloading files matching pattern '*SP1*20250819000*' from /share/meteofrance/Arpege_Orig to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-19 13:49:04,387 - INFO - fetchdata:76 - Starting FTP file fetch process.
2025-08-19 13:49:04,387 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 13:49:04,589 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 13:49:04,590 - INFO - fetchdata:85 - Changed remote directory to: /share/meteofrance/Arpege_Orig
2025-08-19 13:49:04,590 - INFO - fetchdata:92 - Looking for files matching pattern: '*SP1*20250819000*'
2025-08-19 13:49:04,590 - INFO - fetchdata:96 - Local download directory: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:49:04,599 - INFO - fetchdata:105 - Found 9 files matching pattern on remote server.
2025-08-19 13:49:04,599 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:05,096 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:05,291 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:05,813 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:06,061 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:06,563 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:06,686 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:07,190 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:07,374 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:07,877 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:08,090 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:08,609 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:08,824 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:09,311 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:09,519 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:10,057 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:10,296 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:10,547 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:10,682 - INFO - fetchdata:129 - FTP file fetch process completed.
2025-08-19 13:49:10,682 - INFO - 1-get_arpege:137 - FTP transfer completed successfully.
2025-08-19 13:49:10,682 - INFO - 1-get_arpege:151 - Successfully verified 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-19 13:49:10,683 - INFO - 1-get_arpege:154 - Attempting to run next program: 2-conv.py
2025-08-19 13:49:10,683 - INFO - system_utils:36 - Executing command: python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:49:11,515 - INFO - 2-conv:38 - --- Script '2-conv.py' started ---
2025-08-19 13:49:11,515 - INFO - 2-conv:39 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 13:49:11,515 - INFO - 2-conv:40 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:49:11,515 - INFO - 2-conv:41 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:49:11,515 - INFO - 2-conv:42 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 13:49:11,515 - INFO - 2-conv:43 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 13:49:11,515 - INFO - 2-conv:53 - Processing for date: 20250819
2025-08-19 13:49:11,516 - INFO - 2-conv:54 - Starting extraction of temperature from ARPEGE files.
2025-08-19 13:49:11,516 - INFO - 2-conv:63 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2. Processing this branch.
2025-08-19 13:49:11,516 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-19 13:49:11,516 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2' to 't2m00-12.grib'.
2025-08-19 13:49:11,516 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:49:11,906 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 13:49:11,907 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2' to 't2m12-24.grib'.
2025-08-19 13:49:11,907 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:49:12,289 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 13:49:12,290 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2' to 't2m24-36.grib'.
2025-08-19 13:49:12,290 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:49:12,679 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 13:49:12,679 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2' to 't2m36-48.grib'.
2025-08-19 13:49:12,679 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:49:13,052 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 13:49:13,052 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 13:49:13,052 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 13:49:13,116 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 13:49:13,117 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 13:49:13,117 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-19 13:49:13,119 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-19 13:49:13,121 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-19 13:49:13,124 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-19 13:49:13,126 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-19 13:49:13,126 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-19 13:49:13,126 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-19 13:49:13,127 - INFO - 2-conv:88 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 13:49:13,127 - INFO - 2-conv:125 - Attempting to run next program: 3-create_forecast_table.py
2025-08-19 13:49:13,127 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:49:14,027 - INFO - 3-create_forecast_table:51 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-19 13:49:14,027 - INFO - 3-create_forecast_table:52 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 13:49:14,028 - INFO - 3-create_forecast_table:53 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:49:14,028 - INFO - 3-create_forecast_table:54 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 13:49:14,028 - INFO - 3-create_forecast_table:55 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:49:14,028 - INFO - 3-create_forecast_table:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 13:49:14,028 - INFO - 3-create_forecast_table:71 - Preparing dates for data processing.
2025-08-19 13:49:14,028 - INFO - 3-create_forecast_table:78 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 13:49:14,029 - INFO - 3-create_forecast_table:93 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 13:49:14,032 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 13:49:14,042 - INFO - 3-create_forecast_table:99 - Successfully loaded 75 stations.
2025-08-19 13:49:14,051 - INFO - 3-create_forecast_table:112 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 13:49:14,287 - INFO - grib_processor:113 - GRIB file '2t_20250819.grib' opened successfully.
2025-08-19 13:49:14,287 - INFO - 3-create_forecast_table:115 - GRIB file resource successfully opened.
2025-08-19 13:49:14,287 - INFO - 3-create_forecast_table:132 - Starting GRIB data extraction for 2m temperature.
2025-08-19 13:49:14,287 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-19 13:49:19,140 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-19 13:49:19,140 - INFO - 3-create_forecast_table:144 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-19 13:49:19,188 - INFO - 3-create_forecast_table:161 - GRIB file resource closed successfully.
2025-08-19 13:49:19,189 - INFO - 3-create_forecast_table:167 - Calculating min and max temperatures across all time steps for each station.
2025-08-19 13:49:19,189 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-19 13:49:19,189 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-19 13:49:19,189 - INFO - 3-create_forecast_table:172 - Min/Max temperatures calculated successfully.
2025-08-19 13:49:19,189 - INFO - 3-create_forecast_table:180 - Converting results dictionary to pandas DataFrame.
2025-08-19 13:49:19,191 - INFO - 3-create_forecast_table:184 - DataFrame created successfully.
2025-08-19 13:49:19,216 - INFO - 3-create_forecast_table:197 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 13:49:19,221 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 13:49:19,221 - INFO - 3-create_forecast_table:202 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 13:49:19,221 - INFO - 3-create_forecast_table:209 - Attempting to run next program: 4-traitement_obs.py
2025-08-19 13:49:19,221 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:49:20,091 - INFO - 4-traitement_obs:49 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:49:20,091 - INFO - 4-traitement_obs:53 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 13:49:20,091 - INFO - 4-traitement_obs:59 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 13:49:20,091 - INFO - 4-traitement_obs:83 - Processing data for today (2025-08-19) and yesterday (2025-08-18).
2025-08-19 13:49:20,092 - INFO - 4-traitement_obs:110 - Initialized DataFrame with 47 unique stations.
2025-08-19 13:49:20,092 - INFO - 4-traitement_obs:138 - Configured to process 5 time steps for observations.
2025-08-19 13:49:20,092 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508180600.bufr for key 'airTemperature'
2025-08-19 13:49:20,223 - INFO - 4-traitement_obs:166 - Merged data for t2m_06 into the main DataFrame.
2025-08-19 13:49:20,224 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181200.bufr for key 'airTemperature'
2025-08-19 13:49:20,336 - INFO - 4-traitement_obs:166 - Merged data for t2m_12 into the main DataFrame.
2025-08-19 13:49:20,336 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'airTemperature'
2025-08-19 13:49:20,446 - INFO - 4-traitement_obs:166 - Merged data for t2m_18 into the main DataFrame.
2025-08-19 13:49:20,446 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508182100.bufr for key 'airTemperature'
2025-08-19 13:49:20,473 - INFO - 4-traitement_obs:166 - Merged data for t2m_21 into the main DataFrame.
2025-08-19 13:49:20,474 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190000.bufr for key 'airTemperature'
2025-08-19 13:49:20,540 - INFO - 4-traitement_obs:166 - Merged data for t2m_24 into the main DataFrame.
2025-08-19 13:49:20,540 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-19 13:49:20,540 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-19 13:49:20,540 - INFO - 4-traitement_obs:184 - Final DataFrame head:
2025-08-19 13:49:20,544 - INFO - 4-traitement_obs:186 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    30.0    41.7    40.7     NaN    31.9
1            ANNABA    26.3    30.0    26.7     NaN    22.5
2      B-B-ARRERIDJ    22.3    35.0    32.7     NaN     NaN
3             BATNA    18.0    32.5    30.2     NaN    18.8
4            BECHAR    24.3    36.4    37.1     NaN    29.0
2025-08-19 13:49:20,545 - INFO - 4-traitement_obs:198 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250819.csv
2025-08-19 13:49:20,546 - INFO - 4-traitement_obs:204 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-19 13:49:20,546 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:49:21,489 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-19 13:49:21,489 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 13:49:21,489 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:49:21,489 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 13:49:21,489 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-19 13:49:21,489 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-19 13:49:21,490 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-19 13:49:21,490 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 13:49:21,490 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 13:49:21,490 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-19 13:49:21,490 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 13:49:21,649 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 13:49:21,649 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 13:49:21,762 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 13:49:21,762 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-19 13:49:21,762 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 13:49:21,766 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-19 13:49:21,768 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 13:49:21,770 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 13:49:21,770 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-19 13:49:21,770 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:49:22,316 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-19 13:49:22,316 - INFO - 6-create_tables:74 - Dates prepared: Today 20250819, Yesterday 20250818
2025-08-19 13:49:22,317 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 13:49:22,320 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 13:49:22,348 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-19 13:49:22,349 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-19 13:49:22,349 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-19 13:49:22,350 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 13:49:22,359 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 13:49:22,359 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-19 13:49:22,360 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 13:49:22,366 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 13:49:22,366 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-19 13:49:22,370 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-19 13:49:22,370 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 13:49:22,372 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-19 13:49:22,372 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-19 13:49:22,372 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-19 13:49:22,385 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 13:49:22,385 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 13:49:22,385 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-19 13:49:22,396 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 13:49:22,396 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 13:49:22,396 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-19 13:49:22,408 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 13:49:22,408 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 13:49:22,408 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-19 13:49:22,419 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 13:49:22,420 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 13:49:22,420 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-19 13:49:22,420 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-19 13:49:22,420 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:49:22,985 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-19 13:49:22,985 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 13:49:22,985 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:49:22,985 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 13:49:22,985 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:49:22,985 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 13:49:22,985 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-19 13:49:22,985 - INFO - 7-create_word:78 - Today's date: 19-08-2025, Tomorrow's date: 20-08-2025
2025-08-19 13:49:22,985 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-19 13:49:22,985 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 13:49:22,986 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 13:49:22,986 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 13:49:22,986 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 13:49:22,986 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 13:49:22,986 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 13:49:22,986 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-19 13:49:22,986 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 13:49:22,993 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-19 13:49:22,993 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 13:49:22,999 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-19 13:49:22,999 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 13:49:23,005 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-19 13:49:23,005 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 13:49:23,011 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-19 13:49:23,012 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-19 13:49:23,012 - INFO - 7-create_word:237 - Loading Word template...
2025-08-19 13:49:23,069 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 13:49:23,069 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-19 13:49:23,070 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-19 13:49:23,071 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 19-08-2025'.
2025-08-19 13:49:23,071 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-19 13:49:23,072 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 20-08-2025'.
2025-08-19 13:49:23,072 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-19 13:49:23,072 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-19 13:49:23,072 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-19 13:49:23,728 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-19 13:49:23,765 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-19 13:49:23,765 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-19 13:49:24,169 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-19 13:49:24,197 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-19 13:49:24,198 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-19 13:49:24,947 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-19 13:49:24,987 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-19 13:49:24,987 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-19 13:49:25,865 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-19 13:49:25,906 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-19 13:49:25,906 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-19 13:49:25,906 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 13:49:26,198 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 13:49:26,198 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_19-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962563 bytes).
2025-08-19 13:49:26,198 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-19 13:49:26,198 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-19 13:49:26,198 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-19 13:49:26,198 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 13:49:26,269 - INFO - 8-send_MSG:51 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 13:49:26,269 - INFO - 8-send_MSG:52 - Starting Sonelgaz bulletin sending script.
2025-08-19 13:49:26,269 - DEBUG - date_utils:41 - Calculated dates: Today=2025-08-19, Yesterday=2025-08-18
2025-08-19 13:49:26,269 - DEBUG - 8-send_MSG:60 - Today's date components: Year=2025, Month=08, Day=19
2025-08-19 13:49:26,269 - DEBUG - 8-send_MSG:63 - Base data path determined as: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 13:49:26,269 - INFO - 8-send_MSG:69 - Expected bulletin file path: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 13:49:26,269 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 13:49:26,269 - WARNING - file_operations:245 - File not found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/grib_2025081900_0000. Skipping this operation.
2025-08-19 13:49:26,269 - INFO - 8-send_MSG:83 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-19 13:49:26,269 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 13:49:26,269 - INFO - 8-send_MSG:94 - Attempting to send email with bulletin: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 13:49:26,269 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 19/08/2025 Généré avec ARPEGE'
2025-08-19 13:49:26,269 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx')]
2025-08-19 13:49:26,374 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-19 13:49:26,375 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-19 13:49:26,375 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx'
2025-08-19 13:49:26,375 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx'. Attempting to open and attach.
2025-08-19 13:49:26,470 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_19-08-2025.docx'
2025-08-19 13:49:27,088 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-19 13:49:27,091 - INFO - 8-send_MSG:107 - Bulletin email process completed successfully.
2025-08-19 13:49:27,091 - INFO - 8-send_MSG:113 - Script execution finished.
2025-08-19 13:49:27,102 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 13:49:27,102 - INFO - 7-create_word:320 - Successfully executed 8-send_MSG.py.
2025-08-19 13:49:27,102 - INFO - 7-create_word:328 - --- Script '7-create_word.py' finished. ---
2025-08-19 13:49:27,195 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 13:49:27,195 - INFO - 6-create_tables:265 - Successfully executed 7-create_word.py.
2025-08-19 13:49:27,195 - INFO - 6-create_tables:274 - --- Script '6-create_tables.py' finished. ---
2025-08-19 13:49:27,274 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 13:49:27,274 - INFO - 5-traitement_obs_min_max:201 - Successfully executed 6-create_tables.py.
2025-08-19 13:49:27,274 - INFO - 5-traitement_obs_min_max:210 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-19 13:49:27,406 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 13:49:27,406 - INFO - 4-traitement_obs:212 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-19 13:49:27,406 - INFO - 4-traitement_obs:221 - --- Script '4-traitement_obs.py' finished. ---
2025-08-19 13:49:27,537 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 13:49:27,537 - INFO - 3-create_forecast_table:216 - Successfully executed 4-traitement_obs.py.
2025-08-19 13:49:27,537 - INFO - 3-create_forecast_table:224 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-19 13:49:27,680 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 13:49:27,680 - INFO - 2-conv:132 - Successfully executed 3-create_forecast_table.py.
2025-08-19 13:49:27,680 - INFO - 2-conv:137 - --- Script '2-conv.py' finished. ---
2025-08-19 13:49:27,798 - INFO - system_utils:47 - Command 'python3' completed successfully.
2025-08-19 13:49:27,799 - INFO - 1-get_arpege:161 - Successfully executed 2-conv.py.
2025-08-19 13:49:27,799 - INFO - 1-get_arpege:170 - --- Script '1-get_arpege.py' finished. ---
2025-08-19 14:00:19,468 - INFO - 1-get_arpege:67 - --- Script '1-get_arpege.py' started ---
2025-08-19 14:00:19,468 - INFO - 1-get_arpege:68 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:19,468 - INFO - 1-get_arpege:69 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:19,468 - INFO - 1-get_arpege:70 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:19,468 - INFO - 1-get_arpege:71 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:19,468 - INFO - 1-get_arpege:72 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 14:00:19,468 - INFO - 1-get_arpege:73 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-19 14:00:19,468 - INFO - 1-get_arpege:76 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 14:00:19,469 - INFO - 1-get_arpege:88 - Fetching files for date: 20250819 with pattern: *SP1*20250819000*
2025-08-19 14:00:19,469 - INFO - 1-get_arpege:91 - Checking if files exist on FTP server...
2025-08-19 14:00:19,469 - INFO - fetchdata:48 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250819000*)...
2025-08-19 14:00:19,469 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 14:00:19,714 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 14:00:19,727 - INFO - fetchdata:61 - Found 9 files matching pattern '*SP1*20250819000*'.
2025-08-19 14:00:19,728 - INFO - 1-get_arpege:119 - Found 9 matching files on FTP server:
2025-08-19 14:00:19,728 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:19,729 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:19,730 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:19,730 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:19,731 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:19,731 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:19,731 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:19,731 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:19,732 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:19,732 - INFO - 1-get_arpege:124 - Proceeding with FTP download.
2025-08-19 14:00:19,732 - INFO - 1-get_arpege:125 - Downloading files matching pattern '*SP1*20250819000*' from /share/meteofrance/Arpege_Orig to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-19 14:00:19,733 - INFO - fetchdata:76 - Starting FTP file fetch process.
2025-08-19 14:00:19,733 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 14:00:19,941 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 14:00:19,942 - INFO - fetchdata:85 - Changed remote directory to: /share/meteofrance/Arpege_Orig
2025-08-19 14:00:19,942 - INFO - fetchdata:92 - Looking for files matching pattern: '*SP1*20250819000*'
2025-08-19 14:00:19,942 - INFO - fetchdata:96 - Local download directory: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 14:00:19,953 - INFO - fetchdata:105 - Found 9 files matching pattern on remote server.
2025-08-19 14:00:19,953 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:20,458 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:20,667 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:21,172 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:21,387 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:21,872 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:22,081 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:22,560 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:22,745 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:23,270 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:23,479 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:24,014 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:24,277 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:24,771 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:24,998 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:25,500 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:25,692 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:25,957 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 14:00:26,061 - INFO - fetchdata:129 - FTP file fetch process completed.
2025-08-19 14:00:26,061 - INFO - 1-get_arpege:137 - FTP transfer completed successfully.
2025-08-19 14:00:26,062 - INFO - 1-get_arpege:151 - Successfully verified 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-19 14:00:26,062 - INFO - 1-get_arpege:154 - Attempting to run next program: 2-conv.py
2025-08-19 14:00:26,063 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:26,931 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-19 14:00:26,931 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:26,931 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:26,931 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:26,931 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:26,931 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 14:00:26,931 - INFO - 2-conv:55 - Processing for date: 20250819
2025-08-19 14:00:26,931 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-19 14:00:26,931 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2. Processing this branch.
2025-08-19 14:00:26,931 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-19 14:00:26,931 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2' to 't2m00-12.grib'.
2025-08-19 14:00:26,931 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:27,426 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:00:27,426 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2' to 't2m12-24.grib'.
2025-08-19 14:00:27,427 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:27,815 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:00:27,815 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2' to 't2m24-36.grib'.
2025-08-19 14:00:27,815 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:28,196 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:00:28,196 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2' to 't2m36-48.grib'.
2025-08-19 14:00:28,196 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:28,583 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:00:28,584 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 14:00:28,584 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 14:00:28,617 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 14:00:28,617 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 14:00:28,617 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-19 14:00:28,618 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-19 14:00:28,619 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-19 14:00:28,620 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-19 14:00:28,620 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-19 14:00:28,620 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-19 14:00:28,620 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-19 14:00:28,621 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 14:00:28,621 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-19 14:00:28,621 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:45 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:46 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:47 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:48 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:49 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:54 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:65 - Preparing dates for data processing.
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:72 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 14:00:29,525 - INFO - 3-create_forecast_table:87 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 14:00:29,527 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 14:00:29,540 - INFO - 3-create_forecast_table:93 - Successfully loaded 75 stations.
2025-08-19 14:00:29,550 - INFO - 3-create_forecast_table:106 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 14:00:29,826 - INFO - grib_processor:113 - GRIB file '2t_20250819.grib' opened successfully.
2025-08-19 14:00:29,826 - INFO - 3-create_forecast_table:109 - GRIB file resource successfully opened.
2025-08-19 14:00:29,827 - INFO - 3-create_forecast_table:126 - Starting GRIB data extraction for 2m temperature.
2025-08-19 14:00:29,827 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-19 14:00:34,683 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-19 14:00:34,683 - INFO - 3-create_forecast_table:138 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-19 14:00:34,731 - INFO - 3-create_forecast_table:155 - GRIB file resource closed successfully.
2025-08-19 14:00:34,732 - INFO - 3-create_forecast_table:161 - Calculating min and max temperatures across all time steps for each station.
2025-08-19 14:00:34,732 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-19 14:00:34,732 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-19 14:00:34,732 - INFO - 3-create_forecast_table:166 - Min/Max temperatures calculated successfully.
2025-08-19 14:00:34,732 - INFO - 3-create_forecast_table:174 - Converting results dictionary to pandas DataFrame.
2025-08-19 14:00:34,734 - INFO - 3-create_forecast_table:178 - DataFrame created successfully.
2025-08-19 14:00:34,759 - INFO - 3-create_forecast_table:191 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:34,764 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:34,764 - INFO - 3-create_forecast_table:196 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:34,764 - INFO - 3-create_forecast_table:203 - Attempting to run next program: 4-traitement_obs.py
2025-08-19 14:00:34,764 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:84 - Processing data for today (2025-08-19) and yesterday (2025-08-18).
2025-08-19 14:00:35,644 - INFO - 4-traitement_obs:111 - Initialized DataFrame with 47 unique stations.
2025-08-19 14:00:35,644 - INFO - 4-traitement_obs:139 - Configured to process 5 time steps for observations.
2025-08-19 14:00:35,644 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508180600.bufr for key 'airTemperature'
2025-08-19 14:00:35,774 - INFO - 4-traitement_obs:167 - Merged data for t2m_06 into the main DataFrame.
2025-08-19 14:00:35,774 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181200.bufr for key 'airTemperature'
2025-08-19 14:00:35,883 - INFO - 4-traitement_obs:167 - Merged data for t2m_12 into the main DataFrame.
2025-08-19 14:00:35,883 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'airTemperature'
2025-08-19 14:00:35,990 - INFO - 4-traitement_obs:167 - Merged data for t2m_18 into the main DataFrame.
2025-08-19 14:00:35,991 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508182100.bufr for key 'airTemperature'
2025-08-19 14:00:36,018 - INFO - 4-traitement_obs:167 - Merged data for t2m_21 into the main DataFrame.
2025-08-19 14:00:36,018 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190000.bufr for key 'airTemperature'
2025-08-19 14:00:36,084 - INFO - 4-traitement_obs:167 - Merged data for t2m_24 into the main DataFrame.
2025-08-19 14:00:36,084 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-19 14:00:36,084 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-19 14:00:36,085 - INFO - 4-traitement_obs:185 - Final DataFrame head:
2025-08-19 14:00:36,088 - INFO - 4-traitement_obs:187 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    30.0    41.7    40.7     NaN    31.9
1            ANNABA    26.3    30.0    26.7     NaN    22.5
2      B-B-ARRERIDJ    22.3    35.0    32.7     NaN     NaN
3             BATNA    18.0    32.5    30.2     NaN    18.8
4            BECHAR    24.3    36.4    37.1     NaN    29.0
2025-08-19 14:00:36,090 - INFO - 4-traitement_obs:199 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250819.csv
2025-08-19 14:00:36,090 - INFO - 4-traitement_obs:205 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-19 14:00:36,090 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-19 14:00:36,974 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:00:37,131 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 14:00:37,131 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:00:37,240 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 14:00:37,240 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-19 14:00:37,240 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 14:00:37,244 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-19 14:00:37,246 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 14:00:37,247 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,247 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-19 14:00:37,248 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:37,806 - INFO - 6-create_tables:71 - Preparing date variables for file paths.
2025-08-19 14:00:37,806 - INFO - 6-create_tables:73 - Dates prepared: Today 20250819, Yesterday 20250818
2025-08-19 14:00:37,806 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 14:00:37,809 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:37,837 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 14:00:37,838 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 14:00:37,838 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 14:00:37,839 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:00:37,848 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:00:37,848 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 14:00:37,849 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,855 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,855 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 14:00:37,858 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 14:00:37,858 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 14:00:37,873 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 14:00:37,873 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:37,873 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 14:00:37,884 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 14:00:37,884 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:37,884 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 14:00:37,896 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 14:00:37,896 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:37,896 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 14:00:37,907 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 14:00:37,908 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:37,908 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 14:00:37,908 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 14:00:37,908 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:38,605 - INFO - 7-create_word:53 - --- Script '7-create_word.py' execution started. ---
2025-08-19 14:00:38,605 - INFO - 7-create_word:54 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:38,605 - INFO - 7-create_word:55 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,605 - INFO - 7-create_word:56 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,605 - INFO - 7-create_word:57 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,606 - INFO - 7-create_word:61 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,606 - INFO - 7-create_word:72 - Preparing today's and tomorrow's dates.
2025-08-19 14:00:38,606 - INFO - 7-create_word:79 - Today's date: 19-08-2025, Tomorrow's date: 20-08-2025
2025-08-19 14:00:38,606 - INFO - 7-create_word:207 - Defining file paths for Excel, Word template, and output.
2025-08-19 14:00:38,606 - INFO - 7-create_word:215 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:216 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:217 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:218 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:219 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:220 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:224 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-19 14:00:38,606 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,614 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-19 14:00:38,614 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,619 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-19 14:00:38,619 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,626 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-19 14:00:38,626 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,632 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-19 14:00:38,632 - INFO - 7-create_word:230 - All Excel workbooks loaded successfully.
2025-08-19 14:00:38,632 - INFO - 7-create_word:238 - Loading Word template...
2025-08-19 14:00:38,691 - INFO - 7-create_word:242 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,691 - INFO - 7-create_word:253 - Updating dates in the Word document using local modify_paragraph function.
2025-08-19 14:00:38,692 - INFO - 7-create_word:104 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-19 14:00:38,693 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 19-08-2025'.
2025-08-19 14:00:38,693 - INFO - 7-create_word:104 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-19 14:00:38,694 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 20-08-2025'.
2025-08-19 14:00:38,694 - INFO - 7-create_word:257 - Dates in Word document updated successfully.
2025-08-19 14:00:38,694 - INFO - 7-create_word:264 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-19 14:00:38,694 - INFO - 7-create_word:144 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-19 14:00:39,347 - INFO - 7-create_word:182 - Applying formatting to table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:144 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-19 14:00:39,787 - INFO - 7-create_word:182 - Applying formatting to table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:144 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-19 14:00:40,574 - INFO - 7-create_word:182 - Applying formatting to table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:144 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-19 14:00:41,495 - INFO - 7-create_word:182 - Applying formatting to table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:271 - All specified tables in Word document updated successfully.
2025-08-19 14:00:41,537 - INFO - 7-create_word:282 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:287 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:291 - CONFIRMATION: File 'Bulletin_Sonelgaz_19-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962563 bytes).
2025-08-19 14:00:41,830 - INFO - 7-create_word:304 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-19 14:00:41,830 - INFO - 7-create_word:307 - Temporary files cleanup complete.
2025-08-19 14:00:41,830 - INFO - 7-create_word:314 - Attempting to run next program: 8-send_MSG.py
2025-08-19 14:00:41,830 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:41,905 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 2.
2025-08-19 14:00:41,905 - ERROR - system_utils:58 - STDOUT: 
2025-08-19 14:00:41,905 - ERROR - system_utils:59 - STDERR: usage: 8-send_MSG.py [-h] [--shared-log-file SHARED_LOG_FILE]
8-send_MSG.py: error: unrecognized arguments: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:41,905 - ERROR - 7-create_word:323 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 317, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
2025-08-19 14:00:42,001 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,001 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:38,605 - INFO - 7-create_word:53 - --- Script '7-create_word.py' execution started. ---
2025-08-19 14:00:38,605 - INFO - 7-create_word:54 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:38,605 - INFO - 7-create_word:55 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,605 - INFO - 7-create_word:56 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,605 - INFO - 7-create_word:57 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,606 - INFO - 7-create_word:61 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,606 - INFO - 7-create_word:72 - Preparing today's and tomorrow's dates.
2025-08-19 14:00:38,606 - INFO - 7-create_word:79 - Today's date: 19-08-2025, Tomorrow's date: 20-08-2025
2025-08-19 14:00:38,606 - INFO - 7-create_word:207 - Defining file paths for Excel, Word template, and output.
2025-08-19 14:00:38,606 - INFO - 7-create_word:215 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:216 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:217 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:218 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:219 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:220 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:224 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-19 14:00:38,606 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,614 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-19 14:00:38,614 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,619 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-19 14:00:38,619 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,626 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-19 14:00:38,626 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,632 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-19 14:00:38,632 - INFO - 7-create_word:230 - All Excel workbooks loaded successfully.
2025-08-19 14:00:38,632 - INFO - 7-create_word:238 - Loading Word template...
2025-08-19 14:00:38,691 - INFO - 7-create_word:242 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,691 - INFO - 7-create_word:253 - Updating dates in the Word document using local modify_paragraph function.
2025-08-19 14:00:38,692 - INFO - 7-create_word:104 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-19 14:00:38,693 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 19-08-2025'.
2025-08-19 14:00:38,693 - INFO - 7-create_word:104 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-19 14:00:38,694 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 20-08-2025'.
2025-08-19 14:00:38,694 - INFO - 7-create_word:257 - Dates in Word document updated successfully.
2025-08-19 14:00:38,694 - INFO - 7-create_word:264 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-19 14:00:38,694 - INFO - 7-create_word:144 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-19 14:00:39,347 - INFO - 7-create_word:182 - Applying formatting to table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:144 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-19 14:00:39,787 - INFO - 7-create_word:182 - Applying formatting to table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:144 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-19 14:00:40,574 - INFO - 7-create_word:182 - Applying formatting to table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:144 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-19 14:00:41,495 - INFO - 7-create_word:182 - Applying formatting to table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:271 - All specified tables in Word document updated successfully.
2025-08-19 14:00:41,537 - INFO - 7-create_word:282 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:287 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:291 - CONFIRMATION: File 'Bulletin_Sonelgaz_19-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962563 bytes).
2025-08-19 14:00:41,830 - INFO - 7-create_word:304 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-19 14:00:41,830 - INFO - 7-create_word:307 - Temporary files cleanup complete.
2025-08-19 14:00:41,830 - INFO - 7-create_word:314 - Attempting to run next program: 8-send_MSG.py
2025-08-19 14:00:41,830 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:41,905 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 2.
2025-08-19 14:00:41,905 - ERROR - system_utils:58 - STDOUT: 
2025-08-19 14:00:41,905 - ERROR - system_utils:59 - STDERR: usage: 8-send_MSG.py [-h] [--shared-log-file SHARED_LOG_FILE]
8-send_MSG.py: error: unrecognized arguments: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:41,905 - ERROR - 7-create_word:323 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 317, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
2025-08-19 14:00:42,001 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,001 - ERROR - 6-create_tables:266 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 260, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,081 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,082 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:37,806 - INFO - 6-create_tables:71 - Preparing date variables for file paths.
2025-08-19 14:00:37,806 - INFO - 6-create_tables:73 - Dates prepared: Today 20250819, Yesterday 20250818
2025-08-19 14:00:37,806 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 14:00:37,809 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:37,837 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 14:00:37,838 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 14:00:37,838 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 14:00:37,839 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:00:37,848 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:00:37,848 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 14:00:37,849 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,855 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,855 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 14:00:37,858 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 14:00:37,858 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 14:00:37,873 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 14:00:37,873 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:37,873 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 14:00:37,884 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 14:00:37,884 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:37,884 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 14:00:37,896 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 14:00:37,896 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:37,896 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 14:00:37,907 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 14:00:37,908 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:37,908 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 14:00:37,908 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 14:00:37,908 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,001 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,001 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:38,605 - INFO - 7-create_word:53 - --- Script '7-create_word.py' execution started. ---
2025-08-19 14:00:38,605 - INFO - 7-create_word:54 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:38,605 - INFO - 7-create_word:55 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,605 - INFO - 7-create_word:56 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,605 - INFO - 7-create_word:57 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,606 - INFO - 7-create_word:61 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,606 - INFO - 7-create_word:72 - Preparing today's and tomorrow's dates.
2025-08-19 14:00:38,606 - INFO - 7-create_word:79 - Today's date: 19-08-2025, Tomorrow's date: 20-08-2025
2025-08-19 14:00:38,606 - INFO - 7-create_word:207 - Defining file paths for Excel, Word template, and output.
2025-08-19 14:00:38,606 - INFO - 7-create_word:215 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:216 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:217 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:218 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:219 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:220 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:224 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-19 14:00:38,606 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,614 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-19 14:00:38,614 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,619 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-19 14:00:38,619 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,626 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-19 14:00:38,626 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,632 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-19 14:00:38,632 - INFO - 7-create_word:230 - All Excel workbooks loaded successfully.
2025-08-19 14:00:38,632 - INFO - 7-create_word:238 - Loading Word template...
2025-08-19 14:00:38,691 - INFO - 7-create_word:242 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,691 - INFO - 7-create_word:253 - Updating dates in the Word document using local modify_paragraph function.
2025-08-19 14:00:38,692 - INFO - 7-create_word:104 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-19 14:00:38,693 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 19-08-2025'.
2025-08-19 14:00:38,693 - INFO - 7-create_word:104 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-19 14:00:38,694 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 20-08-2025'.
2025-08-19 14:00:38,694 - INFO - 7-create_word:257 - Dates in Word document updated successfully.
2025-08-19 14:00:38,694 - INFO - 7-create_word:264 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-19 14:00:38,694 - INFO - 7-create_word:144 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-19 14:00:39,347 - INFO - 7-create_word:182 - Applying formatting to table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:144 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-19 14:00:39,787 - INFO - 7-create_word:182 - Applying formatting to table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:144 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-19 14:00:40,574 - INFO - 7-create_word:182 - Applying formatting to table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:144 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-19 14:00:41,495 - INFO - 7-create_word:182 - Applying formatting to table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:271 - All specified tables in Word document updated successfully.
2025-08-19 14:00:41,537 - INFO - 7-create_word:282 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:287 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:291 - CONFIRMATION: File 'Bulletin_Sonelgaz_19-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962563 bytes).
2025-08-19 14:00:41,830 - INFO - 7-create_word:304 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-19 14:00:41,830 - INFO - 7-create_word:307 - Temporary files cleanup complete.
2025-08-19 14:00:41,830 - INFO - 7-create_word:314 - Attempting to run next program: 8-send_MSG.py
2025-08-19 14:00:41,830 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:41,905 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 2.
2025-08-19 14:00:41,905 - ERROR - system_utils:58 - STDOUT: 
2025-08-19 14:00:41,905 - ERROR - system_utils:59 - STDERR: usage: 8-send_MSG.py [-h] [--shared-log-file SHARED_LOG_FILE]
8-send_MSG.py: error: unrecognized arguments: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:41,905 - ERROR - 7-create_word:323 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 317, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
2025-08-19 14:00:42,001 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,001 - ERROR - 6-create_tables:266 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 260, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,082 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-19 14:00:42,082 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,213 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,213 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-19 14:00:36,974 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:00:37,131 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 14:00:37,131 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:00:37,240 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 14:00:37,240 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-19 14:00:37,240 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 14:00:37,244 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-19 14:00:37,246 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 14:00:37,247 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,247 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-19 14:00:37,248 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,081 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,082 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:37,806 - INFO - 6-create_tables:71 - Preparing date variables for file paths.
2025-08-19 14:00:37,806 - INFO - 6-create_tables:73 - Dates prepared: Today 20250819, Yesterday 20250818
2025-08-19 14:00:37,806 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 14:00:37,809 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:37,837 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 14:00:37,838 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 14:00:37,838 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 14:00:37,839 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:00:37,848 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:00:37,848 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 14:00:37,849 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,855 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,855 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 14:00:37,858 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 14:00:37,858 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 14:00:37,873 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 14:00:37,873 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:37,873 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 14:00:37,884 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 14:00:37,884 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:37,884 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 14:00:37,896 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 14:00:37,896 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:37,896 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 14:00:37,907 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 14:00:37,908 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:37,908 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 14:00:37,908 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 14:00:37,908 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,001 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,001 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:38,605 - INFO - 7-create_word:53 - --- Script '7-create_word.py' execution started. ---
2025-08-19 14:00:38,605 - INFO - 7-create_word:54 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:38,605 - INFO - 7-create_word:55 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,605 - INFO - 7-create_word:56 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,605 - INFO - 7-create_word:57 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,606 - INFO - 7-create_word:61 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,606 - INFO - 7-create_word:72 - Preparing today's and tomorrow's dates.
2025-08-19 14:00:38,606 - INFO - 7-create_word:79 - Today's date: 19-08-2025, Tomorrow's date: 20-08-2025
2025-08-19 14:00:38,606 - INFO - 7-create_word:207 - Defining file paths for Excel, Word template, and output.
2025-08-19 14:00:38,606 - INFO - 7-create_word:215 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:216 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:217 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:218 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:219 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:220 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:224 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-19 14:00:38,606 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,614 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-19 14:00:38,614 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,619 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-19 14:00:38,619 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,626 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-19 14:00:38,626 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,632 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-19 14:00:38,632 - INFO - 7-create_word:230 - All Excel workbooks loaded successfully.
2025-08-19 14:00:38,632 - INFO - 7-create_word:238 - Loading Word template...
2025-08-19 14:00:38,691 - INFO - 7-create_word:242 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,691 - INFO - 7-create_word:253 - Updating dates in the Word document using local modify_paragraph function.
2025-08-19 14:00:38,692 - INFO - 7-create_word:104 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-19 14:00:38,693 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 19-08-2025'.
2025-08-19 14:00:38,693 - INFO - 7-create_word:104 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-19 14:00:38,694 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 20-08-2025'.
2025-08-19 14:00:38,694 - INFO - 7-create_word:257 - Dates in Word document updated successfully.
2025-08-19 14:00:38,694 - INFO - 7-create_word:264 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-19 14:00:38,694 - INFO - 7-create_word:144 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-19 14:00:39,347 - INFO - 7-create_word:182 - Applying formatting to table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:144 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-19 14:00:39,787 - INFO - 7-create_word:182 - Applying formatting to table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:144 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-19 14:00:40,574 - INFO - 7-create_word:182 - Applying formatting to table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:144 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-19 14:00:41,495 - INFO - 7-create_word:182 - Applying formatting to table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:271 - All specified tables in Word document updated successfully.
2025-08-19 14:00:41,537 - INFO - 7-create_word:282 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:287 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:291 - CONFIRMATION: File 'Bulletin_Sonelgaz_19-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962563 bytes).
2025-08-19 14:00:41,830 - INFO - 7-create_word:304 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-19 14:00:41,830 - INFO - 7-create_word:307 - Temporary files cleanup complete.
2025-08-19 14:00:41,830 - INFO - 7-create_word:314 - Attempting to run next program: 8-send_MSG.py
2025-08-19 14:00:41,830 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:41,905 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 2.
2025-08-19 14:00:41,905 - ERROR - system_utils:58 - STDOUT: 
2025-08-19 14:00:41,905 - ERROR - system_utils:59 - STDERR: usage: 8-send_MSG.py [-h] [--shared-log-file SHARED_LOG_FILE]
8-send_MSG.py: error: unrecognized arguments: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:41,905 - ERROR - 7-create_word:323 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 317, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
2025-08-19 14:00:42,001 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,001 - ERROR - 6-create_tables:266 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 260, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,082 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-19 14:00:42,082 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,213 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,214 - ERROR - 4-traitement_obs:215 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 209, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,343 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,343 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:84 - Processing data for today (2025-08-19) and yesterday (2025-08-18).
2025-08-19 14:00:35,644 - INFO - 4-traitement_obs:111 - Initialized DataFrame with 47 unique stations.
2025-08-19 14:00:35,644 - INFO - 4-traitement_obs:139 - Configured to process 5 time steps for observations.
2025-08-19 14:00:35,644 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508180600.bufr for key 'airTemperature'
2025-08-19 14:00:35,774 - INFO - 4-traitement_obs:167 - Merged data for t2m_06 into the main DataFrame.
2025-08-19 14:00:35,774 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181200.bufr for key 'airTemperature'
2025-08-19 14:00:35,883 - INFO - 4-traitement_obs:167 - Merged data for t2m_12 into the main DataFrame.
2025-08-19 14:00:35,883 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'airTemperature'
2025-08-19 14:00:35,990 - INFO - 4-traitement_obs:167 - Merged data for t2m_18 into the main DataFrame.
2025-08-19 14:00:35,991 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508182100.bufr for key 'airTemperature'
2025-08-19 14:00:36,018 - INFO - 4-traitement_obs:167 - Merged data for t2m_21 into the main DataFrame.
2025-08-19 14:00:36,018 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190000.bufr for key 'airTemperature'
2025-08-19 14:00:36,084 - INFO - 4-traitement_obs:167 - Merged data for t2m_24 into the main DataFrame.
2025-08-19 14:00:36,084 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-19 14:00:36,084 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-19 14:00:36,085 - INFO - 4-traitement_obs:185 - Final DataFrame head:
2025-08-19 14:00:36,088 - INFO - 4-traitement_obs:187 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    30.0    41.7    40.7     NaN    31.9
1            ANNABA    26.3    30.0    26.7     NaN    22.5
2      B-B-ARRERIDJ    22.3    35.0    32.7     NaN     NaN
3             BATNA    18.0    32.5    30.2     NaN    18.8
4            BECHAR    24.3    36.4    37.1     NaN    29.0
2025-08-19 14:00:36,090 - INFO - 4-traitement_obs:199 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250819.csv
2025-08-19 14:00:36,090 - INFO - 4-traitement_obs:205 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-19 14:00:36,090 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,213 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,213 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-19 14:00:36,974 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:00:37,131 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 14:00:37,131 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:00:37,240 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 14:00:37,240 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-19 14:00:37,240 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 14:00:37,244 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-19 14:00:37,246 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 14:00:37,247 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,247 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-19 14:00:37,248 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,081 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,082 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:37,806 - INFO - 6-create_tables:71 - Preparing date variables for file paths.
2025-08-19 14:00:37,806 - INFO - 6-create_tables:73 - Dates prepared: Today 20250819, Yesterday 20250818
2025-08-19 14:00:37,806 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 14:00:37,809 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:37,837 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 14:00:37,838 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 14:00:37,838 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 14:00:37,839 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:00:37,848 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:00:37,848 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 14:00:37,849 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,855 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,855 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 14:00:37,858 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 14:00:37,858 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 14:00:37,873 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 14:00:37,873 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:37,873 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 14:00:37,884 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 14:00:37,884 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:37,884 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 14:00:37,896 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 14:00:37,896 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:37,896 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 14:00:37,907 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 14:00:37,908 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:37,908 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 14:00:37,908 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 14:00:37,908 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,001 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,001 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:38,605 - INFO - 7-create_word:53 - --- Script '7-create_word.py' execution started. ---
2025-08-19 14:00:38,605 - INFO - 7-create_word:54 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:38,605 - INFO - 7-create_word:55 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,605 - INFO - 7-create_word:56 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,605 - INFO - 7-create_word:57 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,606 - INFO - 7-create_word:61 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,606 - INFO - 7-create_word:72 - Preparing today's and tomorrow's dates.
2025-08-19 14:00:38,606 - INFO - 7-create_word:79 - Today's date: 19-08-2025, Tomorrow's date: 20-08-2025
2025-08-19 14:00:38,606 - INFO - 7-create_word:207 - Defining file paths for Excel, Word template, and output.
2025-08-19 14:00:38,606 - INFO - 7-create_word:215 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:216 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:217 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:218 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:219 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:220 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:224 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-19 14:00:38,606 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,614 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-19 14:00:38,614 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,619 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-19 14:00:38,619 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,626 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-19 14:00:38,626 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,632 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-19 14:00:38,632 - INFO - 7-create_word:230 - All Excel workbooks loaded successfully.
2025-08-19 14:00:38,632 - INFO - 7-create_word:238 - Loading Word template...
2025-08-19 14:00:38,691 - INFO - 7-create_word:242 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,691 - INFO - 7-create_word:253 - Updating dates in the Word document using local modify_paragraph function.
2025-08-19 14:00:38,692 - INFO - 7-create_word:104 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-19 14:00:38,693 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 19-08-2025'.
2025-08-19 14:00:38,693 - INFO - 7-create_word:104 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-19 14:00:38,694 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 20-08-2025'.
2025-08-19 14:00:38,694 - INFO - 7-create_word:257 - Dates in Word document updated successfully.
2025-08-19 14:00:38,694 - INFO - 7-create_word:264 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-19 14:00:38,694 - INFO - 7-create_word:144 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-19 14:00:39,347 - INFO - 7-create_word:182 - Applying formatting to table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:144 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-19 14:00:39,787 - INFO - 7-create_word:182 - Applying formatting to table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:144 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-19 14:00:40,574 - INFO - 7-create_word:182 - Applying formatting to table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:144 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-19 14:00:41,495 - INFO - 7-create_word:182 - Applying formatting to table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:271 - All specified tables in Word document updated successfully.
2025-08-19 14:00:41,537 - INFO - 7-create_word:282 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:287 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:291 - CONFIRMATION: File 'Bulletin_Sonelgaz_19-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962563 bytes).
2025-08-19 14:00:41,830 - INFO - 7-create_word:304 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-19 14:00:41,830 - INFO - 7-create_word:307 - Temporary files cleanup complete.
2025-08-19 14:00:41,830 - INFO - 7-create_word:314 - Attempting to run next program: 8-send_MSG.py
2025-08-19 14:00:41,830 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:41,905 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 2.
2025-08-19 14:00:41,905 - ERROR - system_utils:58 - STDOUT: 
2025-08-19 14:00:41,905 - ERROR - system_utils:59 - STDERR: usage: 8-send_MSG.py [-h] [--shared-log-file SHARED_LOG_FILE]
8-send_MSG.py: error: unrecognized arguments: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:41,905 - ERROR - 7-create_word:323 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 317, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
2025-08-19 14:00:42,001 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,001 - ERROR - 6-create_tables:266 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 260, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,082 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-19 14:00:42,082 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,213 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,214 - ERROR - 4-traitement_obs:215 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 209, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,343 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,343 - ERROR - 3-create_forecast_table:212 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 206, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,476 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,476 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:45 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:46 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:47 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:48 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:49 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:54 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:65 - Preparing dates for data processing.
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:72 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 14:00:29,525 - INFO - 3-create_forecast_table:87 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 14:00:29,527 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 14:00:29,540 - INFO - 3-create_forecast_table:93 - Successfully loaded 75 stations.
2025-08-19 14:00:29,550 - INFO - 3-create_forecast_table:106 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 14:00:29,826 - INFO - grib_processor:113 - GRIB file '2t_20250819.grib' opened successfully.
2025-08-19 14:00:29,826 - INFO - 3-create_forecast_table:109 - GRIB file resource successfully opened.
2025-08-19 14:00:29,827 - INFO - 3-create_forecast_table:126 - Starting GRIB data extraction for 2m temperature.
2025-08-19 14:00:29,827 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-19 14:00:34,683 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-19 14:00:34,683 - INFO - 3-create_forecast_table:138 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-19 14:00:34,731 - INFO - 3-create_forecast_table:155 - GRIB file resource closed successfully.
2025-08-19 14:00:34,732 - INFO - 3-create_forecast_table:161 - Calculating min and max temperatures across all time steps for each station.
2025-08-19 14:00:34,732 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-19 14:00:34,732 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-19 14:00:34,732 - INFO - 3-create_forecast_table:166 - Min/Max temperatures calculated successfully.
2025-08-19 14:00:34,732 - INFO - 3-create_forecast_table:174 - Converting results dictionary to pandas DataFrame.
2025-08-19 14:00:34,734 - INFO - 3-create_forecast_table:178 - DataFrame created successfully.
2025-08-19 14:00:34,759 - INFO - 3-create_forecast_table:191 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:34,764 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:34,764 - INFO - 3-create_forecast_table:196 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:34,764 - INFO - 3-create_forecast_table:203 - Attempting to run next program: 4-traitement_obs.py
2025-08-19 14:00:34,764 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,343 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,343 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:84 - Processing data for today (2025-08-19) and yesterday (2025-08-18).
2025-08-19 14:00:35,644 - INFO - 4-traitement_obs:111 - Initialized DataFrame with 47 unique stations.
2025-08-19 14:00:35,644 - INFO - 4-traitement_obs:139 - Configured to process 5 time steps for observations.
2025-08-19 14:00:35,644 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508180600.bufr for key 'airTemperature'
2025-08-19 14:00:35,774 - INFO - 4-traitement_obs:167 - Merged data for t2m_06 into the main DataFrame.
2025-08-19 14:00:35,774 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181200.bufr for key 'airTemperature'
2025-08-19 14:00:35,883 - INFO - 4-traitement_obs:167 - Merged data for t2m_12 into the main DataFrame.
2025-08-19 14:00:35,883 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'airTemperature'
2025-08-19 14:00:35,990 - INFO - 4-traitement_obs:167 - Merged data for t2m_18 into the main DataFrame.
2025-08-19 14:00:35,991 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508182100.bufr for key 'airTemperature'
2025-08-19 14:00:36,018 - INFO - 4-traitement_obs:167 - Merged data for t2m_21 into the main DataFrame.
2025-08-19 14:00:36,018 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190000.bufr for key 'airTemperature'
2025-08-19 14:00:36,084 - INFO - 4-traitement_obs:167 - Merged data for t2m_24 into the main DataFrame.
2025-08-19 14:00:36,084 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-19 14:00:36,084 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-19 14:00:36,085 - INFO - 4-traitement_obs:185 - Final DataFrame head:
2025-08-19 14:00:36,088 - INFO - 4-traitement_obs:187 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    30.0    41.7    40.7     NaN    31.9
1            ANNABA    26.3    30.0    26.7     NaN    22.5
2      B-B-ARRERIDJ    22.3    35.0    32.7     NaN     NaN
3             BATNA    18.0    32.5    30.2     NaN    18.8
4            BECHAR    24.3    36.4    37.1     NaN    29.0
2025-08-19 14:00:36,090 - INFO - 4-traitement_obs:199 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250819.csv
2025-08-19 14:00:36,090 - INFO - 4-traitement_obs:205 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-19 14:00:36,090 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,213 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,213 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-19 14:00:36,974 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:00:37,131 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 14:00:37,131 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:00:37,240 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 14:00:37,240 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-19 14:00:37,240 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 14:00:37,244 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-19 14:00:37,246 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 14:00:37,247 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,247 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-19 14:00:37,248 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,081 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,082 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:37,806 - INFO - 6-create_tables:71 - Preparing date variables for file paths.
2025-08-19 14:00:37,806 - INFO - 6-create_tables:73 - Dates prepared: Today 20250819, Yesterday 20250818
2025-08-19 14:00:37,806 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 14:00:37,809 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:37,837 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 14:00:37,838 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 14:00:37,838 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 14:00:37,839 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:00:37,848 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:00:37,848 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 14:00:37,849 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,855 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,855 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 14:00:37,858 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 14:00:37,858 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 14:00:37,873 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 14:00:37,873 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:37,873 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 14:00:37,884 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 14:00:37,884 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:37,884 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 14:00:37,896 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 14:00:37,896 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:37,896 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 14:00:37,907 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 14:00:37,908 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:37,908 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 14:00:37,908 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 14:00:37,908 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,001 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,001 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:38,605 - INFO - 7-create_word:53 - --- Script '7-create_word.py' execution started. ---
2025-08-19 14:00:38,605 - INFO - 7-create_word:54 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:38,605 - INFO - 7-create_word:55 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,605 - INFO - 7-create_word:56 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,605 - INFO - 7-create_word:57 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,606 - INFO - 7-create_word:61 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,606 - INFO - 7-create_word:72 - Preparing today's and tomorrow's dates.
2025-08-19 14:00:38,606 - INFO - 7-create_word:79 - Today's date: 19-08-2025, Tomorrow's date: 20-08-2025
2025-08-19 14:00:38,606 - INFO - 7-create_word:207 - Defining file paths for Excel, Word template, and output.
2025-08-19 14:00:38,606 - INFO - 7-create_word:215 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:216 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:217 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:218 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:219 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:220 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:224 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-19 14:00:38,606 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,614 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-19 14:00:38,614 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,619 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-19 14:00:38,619 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,626 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-19 14:00:38,626 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,632 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-19 14:00:38,632 - INFO - 7-create_word:230 - All Excel workbooks loaded successfully.
2025-08-19 14:00:38,632 - INFO - 7-create_word:238 - Loading Word template...
2025-08-19 14:00:38,691 - INFO - 7-create_word:242 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,691 - INFO - 7-create_word:253 - Updating dates in the Word document using local modify_paragraph function.
2025-08-19 14:00:38,692 - INFO - 7-create_word:104 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-19 14:00:38,693 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 19-08-2025'.
2025-08-19 14:00:38,693 - INFO - 7-create_word:104 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-19 14:00:38,694 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 20-08-2025'.
2025-08-19 14:00:38,694 - INFO - 7-create_word:257 - Dates in Word document updated successfully.
2025-08-19 14:00:38,694 - INFO - 7-create_word:264 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-19 14:00:38,694 - INFO - 7-create_word:144 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-19 14:00:39,347 - INFO - 7-create_word:182 - Applying formatting to table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:144 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-19 14:00:39,787 - INFO - 7-create_word:182 - Applying formatting to table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:144 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-19 14:00:40,574 - INFO - 7-create_word:182 - Applying formatting to table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:144 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-19 14:00:41,495 - INFO - 7-create_word:182 - Applying formatting to table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:271 - All specified tables in Word document updated successfully.
2025-08-19 14:00:41,537 - INFO - 7-create_word:282 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:287 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:291 - CONFIRMATION: File 'Bulletin_Sonelgaz_19-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962563 bytes).
2025-08-19 14:00:41,830 - INFO - 7-create_word:304 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-19 14:00:41,830 - INFO - 7-create_word:307 - Temporary files cleanup complete.
2025-08-19 14:00:41,830 - INFO - 7-create_word:314 - Attempting to run next program: 8-send_MSG.py
2025-08-19 14:00:41,830 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:41,905 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 2.
2025-08-19 14:00:41,905 - ERROR - system_utils:58 - STDOUT: 
2025-08-19 14:00:41,905 - ERROR - system_utils:59 - STDERR: usage: 8-send_MSG.py [-h] [--shared-log-file SHARED_LOG_FILE]
8-send_MSG.py: error: unrecognized arguments: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:41,905 - ERROR - 7-create_word:323 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 317, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
2025-08-19 14:00:42,001 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,001 - ERROR - 6-create_tables:266 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 260, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,082 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-19 14:00:42,082 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,213 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,214 - ERROR - 4-traitement_obs:215 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 209, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,343 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,343 - ERROR - 3-create_forecast_table:212 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 206, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,476 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,476 - ERROR - 2-conv:136 - An error occurred while running 3-create_forecast_table.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py", line 130, in main
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,590 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,590 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:26,931 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-19 14:00:26,931 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:26,931 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:26,931 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:26,931 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:26,931 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 14:00:26,931 - INFO - 2-conv:55 - Processing for date: 20250819
2025-08-19 14:00:26,931 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-19 14:00:26,931 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2. Processing this branch.
2025-08-19 14:00:26,931 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-19 14:00:26,931 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2' to 't2m00-12.grib'.
2025-08-19 14:00:26,931 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:27,426 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:00:27,426 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2' to 't2m12-24.grib'.
2025-08-19 14:00:27,427 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:27,815 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:00:27,815 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2' to 't2m24-36.grib'.
2025-08-19 14:00:27,815 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:28,196 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:00:28,196 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2' to 't2m36-48.grib'.
2025-08-19 14:00:28,196 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:28,583 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:00:28,584 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 14:00:28,584 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 14:00:28,617 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 14:00:28,617 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 14:00:28,617 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-19 14:00:28,618 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-19 14:00:28,619 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-19 14:00:28,620 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-19 14:00:28,620 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-19 14:00:28,620 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-19 14:00:28,620 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-19 14:00:28,621 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 14:00:28,621 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-19 14:00:28,621 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,476 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,476 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:45 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:46 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:47 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:48 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:49 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:54 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:65 - Preparing dates for data processing.
2025-08-19 14:00:29,523 - INFO - 3-create_forecast_table:72 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 14:00:29,525 - INFO - 3-create_forecast_table:87 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 14:00:29,527 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 14:00:29,540 - INFO - 3-create_forecast_table:93 - Successfully loaded 75 stations.
2025-08-19 14:00:29,550 - INFO - 3-create_forecast_table:106 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 14:00:29,826 - INFO - grib_processor:113 - GRIB file '2t_20250819.grib' opened successfully.
2025-08-19 14:00:29,826 - INFO - 3-create_forecast_table:109 - GRIB file resource successfully opened.
2025-08-19 14:00:29,827 - INFO - 3-create_forecast_table:126 - Starting GRIB data extraction for 2m temperature.
2025-08-19 14:00:29,827 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-19 14:00:34,683 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-19 14:00:34,683 - INFO - 3-create_forecast_table:138 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-19 14:00:34,731 - INFO - 3-create_forecast_table:155 - GRIB file resource closed successfully.
2025-08-19 14:00:34,732 - INFO - 3-create_forecast_table:161 - Calculating min and max temperatures across all time steps for each station.
2025-08-19 14:00:34,732 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-19 14:00:34,732 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-19 14:00:34,732 - INFO - 3-create_forecast_table:166 - Min/Max temperatures calculated successfully.
2025-08-19 14:00:34,732 - INFO - 3-create_forecast_table:174 - Converting results dictionary to pandas DataFrame.
2025-08-19 14:00:34,734 - INFO - 3-create_forecast_table:178 - DataFrame created successfully.
2025-08-19 14:00:34,759 - INFO - 3-create_forecast_table:191 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:34,764 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:34,764 - INFO - 3-create_forecast_table:196 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:34,764 - INFO - 3-create_forecast_table:203 - Attempting to run next program: 4-traitement_obs.py
2025-08-19 14:00:34,764 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,343 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,343 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 14:00:35,643 - INFO - 4-traitement_obs:84 - Processing data for today (2025-08-19) and yesterday (2025-08-18).
2025-08-19 14:00:35,644 - INFO - 4-traitement_obs:111 - Initialized DataFrame with 47 unique stations.
2025-08-19 14:00:35,644 - INFO - 4-traitement_obs:139 - Configured to process 5 time steps for observations.
2025-08-19 14:00:35,644 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508180600.bufr for key 'airTemperature'
2025-08-19 14:00:35,774 - INFO - 4-traitement_obs:167 - Merged data for t2m_06 into the main DataFrame.
2025-08-19 14:00:35,774 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181200.bufr for key 'airTemperature'
2025-08-19 14:00:35,883 - INFO - 4-traitement_obs:167 - Merged data for t2m_12 into the main DataFrame.
2025-08-19 14:00:35,883 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'airTemperature'
2025-08-19 14:00:35,990 - INFO - 4-traitement_obs:167 - Merged data for t2m_18 into the main DataFrame.
2025-08-19 14:00:35,991 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508182100.bufr for key 'airTemperature'
2025-08-19 14:00:36,018 - INFO - 4-traitement_obs:167 - Merged data for t2m_21 into the main DataFrame.
2025-08-19 14:00:36,018 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190000.bufr for key 'airTemperature'
2025-08-19 14:00:36,084 - INFO - 4-traitement_obs:167 - Merged data for t2m_24 into the main DataFrame.
2025-08-19 14:00:36,084 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-19 14:00:36,084 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-19 14:00:36,085 - INFO - 4-traitement_obs:185 - Final DataFrame head:
2025-08-19 14:00:36,088 - INFO - 4-traitement_obs:187 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    30.0    41.7    40.7     NaN    31.9
1            ANNABA    26.3    30.0    26.7     NaN    22.5
2      B-B-ARRERIDJ    22.3    35.0    32.7     NaN     NaN
3             BATNA    18.0    32.5    30.2     NaN    18.8
4            BECHAR    24.3    36.4    37.1     NaN    29.0
2025-08-19 14:00:36,090 - INFO - 4-traitement_obs:199 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250819.csv
2025-08-19 14:00:36,090 - INFO - 4-traitement_obs:205 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-19 14:00:36,090 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,213 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,213 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-19 14:00:36,973 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 14:00:36,974 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-19 14:00:36,974 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:00:37,131 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 14:00:37,131 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:00:37,240 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 14:00:37,240 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-19 14:00:37,240 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 14:00:37,244 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-19 14:00:37,246 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 14:00:37,247 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,247 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-19 14:00:37,248 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,081 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,082 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:37,806 - INFO - 6-create_tables:71 - Preparing date variables for file paths.
2025-08-19 14:00:37,806 - INFO - 6-create_tables:73 - Dates prepared: Today 20250819, Yesterday 20250818
2025-08-19 14:00:37,806 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 14:00:37,809 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:00:37,837 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 14:00:37,838 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 14:00:37,838 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 14:00:37,839 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:00:37,848 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:00:37,848 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 14:00:37,849 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,855 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:00:37,855 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 14:00:37,858 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 14:00:37,858 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 14:00:37,860 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 14:00:37,873 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 14:00:37,873 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:37,873 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 14:00:37,884 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 14:00:37,884 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:37,884 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 14:00:37,896 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 14:00:37,896 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:37,896 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 14:00:37,907 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 14:00:37,908 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:37,908 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 14:00:37,908 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 14:00:37,908 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:42,001 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 14:00:42,001 - ERROR - system_utils:58 - STDOUT: 2025-08-19 14:00:38,605 - INFO - 7-create_word:53 - --- Script '7-create_word.py' execution started. ---
2025-08-19 14:00:38,605 - INFO - 7-create_word:54 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:38,605 - INFO - 7-create_word:55 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,605 - INFO - 7-create_word:56 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,605 - INFO - 7-create_word:57 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:00:38,606 - INFO - 7-create_word:61 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:00:38,606 - INFO - 7-create_word:72 - Preparing today's and tomorrow's dates.
2025-08-19 14:00:38,606 - INFO - 7-create_word:79 - Today's date: 19-08-2025, Tomorrow's date: 20-08-2025
2025-08-19 14:00:38,606 - INFO - 7-create_word:207 - Defining file paths for Excel, Word template, and output.
2025-08-19 14:00:38,606 - INFO - 7-create_word:215 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:216 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:217 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:218 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,606 - INFO - 7-create_word:219 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:220 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:38,606 - INFO - 7-create_word:224 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-19 14:00:38,606 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:00:38,614 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-19 14:00:38,614 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:00:38,619 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-19 14:00:38,619 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:00:38,626 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-19 14:00:38,626 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:00:38,632 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-19 14:00:38,632 - INFO - 7-create_word:230 - All Excel workbooks loaded successfully.
2025-08-19 14:00:38,632 - INFO - 7-create_word:238 - Loading Word template...
2025-08-19 14:00:38,691 - INFO - 7-create_word:242 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:00:38,691 - INFO - 7-create_word:253 - Updating dates in the Word document using local modify_paragraph function.
2025-08-19 14:00:38,692 - INFO - 7-create_word:104 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-19 14:00:38,693 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 19-08-2025'.
2025-08-19 14:00:38,693 - INFO - 7-create_word:104 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-19 14:00:38,694 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 20-08-2025'.
2025-08-19 14:00:38,694 - INFO - 7-create_word:257 - Dates in Word document updated successfully.
2025-08-19 14:00:38,694 - INFO - 7-create_word:264 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-19 14:00:38,694 - INFO - 7-create_word:144 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-19 14:00:39,347 - INFO - 7-create_word:182 - Applying formatting to table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-19 14:00:39,385 - INFO - 7-create_word:144 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-19 14:00:39,787 - INFO - 7-create_word:182 - Applying formatting to table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-19 14:00:39,816 - INFO - 7-create_word:144 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-19 14:00:40,574 - INFO - 7-create_word:182 - Applying formatting to table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Est Region Table'.
2025-08-19 14:00:40,613 - INFO - 7-create_word:144 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-19 14:00:41,495 - INFO - 7-create_word:182 - Applying formatting to table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-19 14:00:41,537 - INFO - 7-create_word:271 - All specified tables in Word document updated successfully.
2025-08-19 14:00:41,537 - INFO - 7-create_word:282 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:287 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:00:41,830 - INFO - 7-create_word:291 - CONFIRMATION: File 'Bulletin_Sonelgaz_19-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962563 bytes).
2025-08-19 14:00:41,830 - INFO - 7-create_word:304 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-19 14:00:41,830 - INFO - 7-create_word:307 - Temporary files cleanup complete.
2025-08-19 14:00:41,830 - INFO - 7-create_word:314 - Attempting to run next program: 8-send_MSG.py
2025-08-19 14:00:41,830 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:00:41,905 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 2.
2025-08-19 14:00:41,905 - ERROR - system_utils:58 - STDOUT: 
2025-08-19 14:00:41,905 - ERROR - system_utils:59 - STDERR: usage: 8-send_MSG.py [-h] [--shared-log-file SHARED_LOG_FILE]
8-send_MSG.py: error: unrecognized arguments: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:00:41,905 - ERROR - 7-create_word:323 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 317, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 2.
2025-08-19 14:00:42,001 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,001 - ERROR - 6-create_tables:266 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 260, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,082 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-19 14:00:42,082 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,213 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,214 - ERROR - 4-traitement_obs:215 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 209, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,343 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,343 - ERROR - 3-create_forecast_table:212 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 206, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,476 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,476 - ERROR - 2-conv:136 - An error occurred while running 3-create_forecast_table.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py", line 130, in main
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:00:42,590 - ERROR - system_utils:59 - STDERR: 
2025-08-19 14:00:42,591 - ERROR - 1-get_arpege:163 - An error occurred while running 2-conv.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get_arpege.py", line 157, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 14:01:22,914 - INFO - 1-get_arpege:67 - --- Script '1-get_arpege.py' started ---
2025-08-19 14:01:22,914 - INFO - 1-get_arpege:68 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:01:22,915 - INFO - 1-get_arpege:69 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:01:22,915 - INFO - 1-get_arpege:70 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:01:22,915 - INFO - 1-get_arpege:71 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:01:22,915 - INFO - 1-get_arpege:72 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 14:01:22,915 - INFO - 1-get_arpege:73 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-19 14:01:22,915 - INFO - 1-get_arpege:76 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 14:01:22,915 - INFO - 1-get_arpege:88 - Fetching files for date: 20250819 with pattern: *SP1*20250819000*
2025-08-19 14:01:22,915 - INFO - 1-get_arpege:91 - Checking if files exist on FTP server...
2025-08-19 14:01:22,915 - INFO - fetchdata:48 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250819000*)...
2025-08-19 14:01:22,915 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 14:01:23,164 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 14:01:23,177 - INFO - fetchdata:61 - Found 9 files matching pattern '*SP1*20250819000*'.
2025-08-19 14:01:23,179 - INFO - 1-get_arpege:119 - Found 9 matching files on FTP server:
2025-08-19 14:01:23,179 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:23,179 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:23,179 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:23,179 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:23,180 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:23,180 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:23,180 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:23,180 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:23,180 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:23,180 - INFO - 1-get_arpege:124 - Proceeding with FTP download.
2025-08-19 14:01:23,181 - INFO - 1-get_arpege:125 - Downloading files matching pattern '*SP1*20250819000*' from /share/meteofrance/Arpege_Orig to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-19 14:01:23,181 - INFO - fetchdata:76 - Starting FTP file fetch process.
2025-08-19 14:01:23,181 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 14:01:23,394 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 14:01:23,394 - INFO - fetchdata:85 - Changed remote directory to: /share/meteofrance/Arpege_Orig
2025-08-19 14:01:23,395 - INFO - fetchdata:92 - Looking for files matching pattern: '*SP1*20250819000*'
2025-08-19 14:01:23,395 - INFO - fetchdata:96 - Local download directory: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 14:01:23,405 - INFO - fetchdata:105 - Found 9 files matching pattern on remote server.
2025-08-19 14:01:23,405 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:23,948 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:24,152 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:24,633 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:24,805 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:25,482 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:25,672 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:26,170 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:26,329 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:26,817 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:27,064 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:27,569 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:27,743 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:28,246 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:28,476 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:28,988 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:29,255 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:29,538 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:29,632 - INFO - fetchdata:129 - FTP file fetch process completed.
2025-08-19 14:01:29,632 - INFO - 1-get_arpege:137 - FTP transfer completed successfully.
2025-08-19 14:01:29,633 - INFO - 1-get_arpege:151 - Successfully verified 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-19 14:01:29,633 - INFO - 1-get_arpege:154 - Attempting to run next program: 2-conv.py
2025-08-19 14:01:29,633 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:01:30,595 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-19 14:01:30,595 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:01:30,595 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:01:30,595 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:01:30,595 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:01:30,595 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 14:01:30,595 - INFO - 2-conv:55 - Processing for date: 20250819
2025-08-19 14:01:30,595 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-19 14:01:30,595 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2. Processing this branch.
2025-08-19 14:01:30,595 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-19 14:01:30,595 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2' to 't2m00-12.grib'.
2025-08-19 14:01:30,596 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:01:31,066 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:01:31,066 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2' to 't2m12-24.grib'.
2025-08-19 14:01:31,066 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:01:31,528 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:01:31,528 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2' to 't2m24-36.grib'.
2025-08-19 14:01:31,529 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:01:31,996 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:01:31,996 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2' to 't2m36-48.grib'.
2025-08-19 14:01:31,996 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:01:32,523 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:01:32,523 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 14:01:32,523 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 14:01:32,625 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 14:01:32,625 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 14:01:32,625 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-19 14:01:32,627 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-19 14:01:32,629 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-19 14:01:32,631 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-19 14:01:32,632 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-19 14:01:32,633 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-19 14:01:32,633 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-19 14:01:32,633 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 14:01:32,633 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-19 14:01:32,634 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:01:33,596 - INFO - 3-create_forecast_table:45 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-19 14:01:33,596 - INFO - 3-create_forecast_table:46 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:01:33,597 - INFO - 3-create_forecast_table:47 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:01:33,597 - INFO - 3-create_forecast_table:48 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:01:33,597 - INFO - 3-create_forecast_table:49 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:01:33,597 - INFO - 3-create_forecast_table:54 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:01:33,597 - INFO - 3-create_forecast_table:65 - Preparing dates for data processing.
2025-08-19 14:01:33,597 - INFO - 3-create_forecast_table:72 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 14:01:33,598 - INFO - 3-create_forecast_table:87 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 14:01:33,601 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 14:01:33,613 - INFO - 3-create_forecast_table:93 - Successfully loaded 75 stations.
2025-08-19 14:01:33,623 - INFO - 3-create_forecast_table:106 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 14:01:33,870 - INFO - grib_processor:113 - GRIB file '2t_20250819.grib' opened successfully.
2025-08-19 14:01:33,870 - INFO - 3-create_forecast_table:109 - GRIB file resource successfully opened.
2025-08-19 14:01:33,870 - INFO - 3-create_forecast_table:126 - Starting GRIB data extraction for 2m temperature.
2025-08-19 14:01:33,870 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-19 14:01:39,108 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-19 14:01:39,108 - INFO - 3-create_forecast_table:138 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-19 14:01:39,165 - INFO - 3-create_forecast_table:155 - GRIB file resource closed successfully.
2025-08-19 14:01:39,165 - INFO - 3-create_forecast_table:161 - Calculating min and max temperatures across all time steps for each station.
2025-08-19 14:01:39,165 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-19 14:01:39,165 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-19 14:01:39,166 - INFO - 3-create_forecast_table:166 - Min/Max temperatures calculated successfully.
2025-08-19 14:01:39,166 - INFO - 3-create_forecast_table:174 - Converting results dictionary to pandas DataFrame.
2025-08-19 14:01:39,168 - INFO - 3-create_forecast_table:178 - DataFrame created successfully.
2025-08-19 14:01:39,196 - INFO - 3-create_forecast_table:191 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:01:39,202 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:01:39,202 - INFO - 3-create_forecast_table:196 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:01:39,202 - INFO - 3-create_forecast_table:203 - Attempting to run next program: 4-traitement_obs.py
2025-08-19 14:01:39,203 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:01:40,095 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:01:40,095 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 14:01:40,095 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 14:01:40,095 - INFO - 4-traitement_obs:84 - Processing data for today (2025-08-19) and yesterday (2025-08-18).
2025-08-19 14:01:40,096 - INFO - 4-traitement_obs:111 - Initialized DataFrame with 47 unique stations.
2025-08-19 14:01:40,096 - INFO - 4-traitement_obs:139 - Configured to process 5 time steps for observations.
2025-08-19 14:01:40,096 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508180600.bufr for key 'airTemperature'
2025-08-19 14:01:40,225 - INFO - 4-traitement_obs:167 - Merged data for t2m_06 into the main DataFrame.
2025-08-19 14:01:40,225 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181200.bufr for key 'airTemperature'
2025-08-19 14:01:40,334 - INFO - 4-traitement_obs:167 - Merged data for t2m_12 into the main DataFrame.
2025-08-19 14:01:40,335 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'airTemperature'
2025-08-19 14:01:40,445 - INFO - 4-traitement_obs:167 - Merged data for t2m_18 into the main DataFrame.
2025-08-19 14:01:40,446 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508182100.bufr for key 'airTemperature'
2025-08-19 14:01:40,473 - INFO - 4-traitement_obs:167 - Merged data for t2m_21 into the main DataFrame.
2025-08-19 14:01:40,473 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190000.bufr for key 'airTemperature'
2025-08-19 14:01:40,538 - INFO - 4-traitement_obs:167 - Merged data for t2m_24 into the main DataFrame.
2025-08-19 14:01:40,538 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-19 14:01:40,538 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-19 14:01:40,539 - INFO - 4-traitement_obs:185 - Final DataFrame head:
2025-08-19 14:01:40,542 - INFO - 4-traitement_obs:187 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    30.0    41.7    40.7     NaN    31.9
1            ANNABA    26.3    30.0    26.7     NaN    22.5
2      B-B-ARRERIDJ    22.3    35.0    32.7     NaN     NaN
3             BATNA    18.0    32.5    30.2     NaN    18.8
4            BECHAR    24.3    36.4    37.1     NaN    29.0
2025-08-19 14:01:40,544 - INFO - 4-traitement_obs:199 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250819.csv
2025-08-19 14:01:40,544 - INFO - 4-traitement_obs:205 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-19 14:01:40,544 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:01:41,401 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-19 14:01:41,401 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:01:41,401 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:01:41,401 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 14:01:41,401 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-19 14:01:41,401 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-19 14:01:41,401 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-19 14:01:41,402 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 14:01:41,402 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 14:01:41,402 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-19 14:01:41,402 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:01:41,552 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 14:01:41,553 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:01:41,661 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 14:01:41,661 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-19 14:01:41,661 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 14:01:41,665 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-19 14:01:41,667 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 14:01:41,669 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:01:41,669 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-19 14:01:41,669 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:01:42,199 - INFO - 6-create_tables:71 - Preparing date variables for file paths.
2025-08-19 14:01:42,200 - INFO - 6-create_tables:73 - Dates prepared: Today 20250819, Yesterday 20250818
2025-08-19 14:01:42,200 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 14:01:42,203 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:01:42,230 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 14:01:42,231 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 14:01:42,231 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 14:01:42,232 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:01:42,240 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:01:42,240 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 14:01:42,242 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:01:42,247 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:01:42,247 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 14:01:42,251 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 14:01:42,251 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 14:01:42,253 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 14:01:42,253 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 14:01:42,253 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 14:01:42,266 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 14:01:42,266 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:01:42,266 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 14:01:42,277 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 14:01:42,277 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:01:42,277 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 14:01:42,288 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 14:01:42,289 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:01:42,289 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 14:01:42,300 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 14:01:42,300 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:01:42,300 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 14:01:42,300 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 14:01:42,301 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:01:42,876 - INFO - 7-create_word:53 - --- Script '7-create_word.py' execution started. ---
2025-08-19 14:01:42,876 - INFO - 7-create_word:54 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:01:42,876 - INFO - 7-create_word:55 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:01:42,876 - INFO - 7-create_word:56 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:01:42,876 - INFO - 7-create_word:57 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:01:42,876 - INFO - 7-create_word:61 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:01:42,876 - INFO - 7-create_word:72 - Preparing today's and tomorrow's dates.
2025-08-19 14:01:42,876 - INFO - 7-create_word:79 - Today's date: 19-08-2025, Tomorrow's date: 20-08-2025
2025-08-19 14:01:42,876 - INFO - 7-create_word:207 - Defining file paths for Excel, Word template, and output.
2025-08-19 14:01:42,876 - INFO - 7-create_word:215 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:01:42,876 - INFO - 7-create_word:216 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:01:42,877 - INFO - 7-create_word:217 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:01:42,877 - INFO - 7-create_word:218 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:01:42,877 - INFO - 7-create_word:219 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:01:42,877 - INFO - 7-create_word:220 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:01:42,877 - INFO - 7-create_word:224 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-19 14:01:42,877 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:01:42,885 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-19 14:01:42,885 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:01:42,891 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-19 14:01:42,892 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:01:42,899 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-19 14:01:42,899 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:01:42,907 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-19 14:01:42,907 - INFO - 7-create_word:230 - All Excel workbooks loaded successfully.
2025-08-19 14:01:42,907 - INFO - 7-create_word:238 - Loading Word template...
2025-08-19 14:01:42,967 - INFO - 7-create_word:242 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:01:42,967 - INFO - 7-create_word:253 - Updating dates in the Word document using local modify_paragraph function.
2025-08-19 14:01:42,968 - INFO - 7-create_word:104 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-19 14:01:42,969 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 19-08-2025'.
2025-08-19 14:01:42,970 - INFO - 7-create_word:104 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-19 14:01:42,970 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 20-08-2025'.
2025-08-19 14:01:42,970 - INFO - 7-create_word:257 - Dates in Word document updated successfully.
2025-08-19 14:01:42,970 - INFO - 7-create_word:264 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-19 14:01:42,970 - INFO - 7-create_word:144 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-19 14:01:43,638 - INFO - 7-create_word:182 - Applying formatting to table: 'Ouest Region Table'.
2025-08-19 14:01:43,675 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-19 14:01:43,676 - INFO - 7-create_word:144 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-19 14:01:44,082 - INFO - 7-create_word:182 - Applying formatting to table: 'Centre Region Table'.
2025-08-19 14:01:44,110 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-19 14:01:44,111 - INFO - 7-create_word:144 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-19 14:01:44,873 - INFO - 7-create_word:182 - Applying formatting to table: 'Est Region Table'.
2025-08-19 14:01:44,912 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Est Region Table'.
2025-08-19 14:01:44,913 - INFO - 7-create_word:144 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-19 14:01:45,798 - INFO - 7-create_word:182 - Applying formatting to table: 'Sud Region Table'.
2025-08-19 14:01:45,841 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-19 14:01:45,841 - INFO - 7-create_word:271 - All specified tables in Word document updated successfully.
2025-08-19 14:01:45,841 - INFO - 7-create_word:282 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:01:46,134 - INFO - 7-create_word:287 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:01:46,134 - INFO - 7-create_word:291 - CONFIRMATION: File 'Bulletin_Sonelgaz_19-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962563 bytes).
2025-08-19 14:01:46,134 - INFO - 7-create_word:304 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-19 14:01:46,134 - INFO - 7-create_word:307 - Temporary files cleanup complete.
2025-08-19 14:01:46,134 - INFO - 7-create_word:314 - Attempting to run next program: 8-send_MSG.py
2025-08-19 14:01:46,134 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:01:46,200 - INFO - 8-send_MSG:63 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:01:46,200 - INFO - 8-send_MSG:64 - Starting Sonelgaz bulletin sending script.
2025-08-19 14:01:46,200 - DEBUG - date_utils:41 - Calculated dates: Today=2025-08-19, Yesterday=2025-08-18
2025-08-19 14:01:46,200 - DEBUG - 8-send_MSG:72 - Today's date components: Year=2025, Month=08, Day=19
2025-08-19 14:01:46,200 - DEBUG - 8-send_MSG:75 - Base data path determined as: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:01:46,200 - INFO - 8-send_MSG:81 - Expected bulletin file path: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:01:46,200 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 14:01:46,200 - WARNING - file_operations:245 - File not found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/grib_2025081900_0000. Skipping this operation.
2025-08-19 14:01:46,200 - INFO - 8-send_MSG:95 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-19 14:01:46,200 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:01:46,200 - INFO - 8-send_MSG:106 - Attempting to send email with bulletin: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:01:46,200 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 19/08/2025 Généré avec ARPEGE'
2025-08-19 14:01:46,200 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx')]
2025-08-19 14:01:46,299 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-19 14:01:46,300 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-19 14:01:46,300 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx'
2025-08-19 14:01:46,300 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx'. Attempting to open and attach.
2025-08-19 14:01:46,421 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_19-08-2025.docx'
2025-08-19 14:01:47,042 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-19 14:01:47,049 - INFO - 8-send_MSG:119 - Bulletin email process completed successfully.
2025-08-19 14:01:47,049 - INFO - 8-send_MSG:125 - Script execution finished.
2025-08-19 14:01:47,078 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:01:47,078 - INFO - 7-create_word:321 - Successfully executed 8-send_MSG.py.
2025-08-19 14:01:47,078 - INFO - 7-create_word:329 - --- Script '7-create_word.py' finished. ---
2025-08-19 14:01:47,181 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:01:47,181 - INFO - 6-create_tables:264 - Successfully executed 7-create_word.py.
2025-08-19 14:01:47,181 - INFO - 6-create_tables:273 - --- Script '6-create_tables.py' finished. ---
2025-08-19 14:01:47,259 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:01:47,260 - INFO - 5-traitement_obs_min_max:201 - Successfully executed 6-create_tables.py.
2025-08-19 14:01:47,260 - INFO - 5-traitement_obs_min_max:210 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-19 14:01:47,389 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:01:47,389 - INFO - 4-traitement_obs:213 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-19 14:01:47,389 - INFO - 4-traitement_obs:222 - --- Script '4-traitement_obs.py' finished. ---
2025-08-19 14:01:47,521 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:01:47,521 - INFO - 3-create_forecast_table:210 - Successfully executed 4-traitement_obs.py.
2025-08-19 14:01:47,521 - INFO - 3-create_forecast_table:218 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-19 14:01:47,652 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:01:47,652 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-19 14:01:47,652 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-19 14:01:47,770 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:01:47,770 - INFO - 1-get_arpege:161 - Successfully executed 2-conv.py.
2025-08-19 14:01:47,770 - INFO - 1-get_arpege:170 - --- Script '1-get_arpege.py' finished. ---
2025-08-19 14:05:57,942 - INFO - 1-get_arpege:67 - --- Script '1-get_arpege.py' started ---
2025-08-19 14:05:57,942 - INFO - 1-get_arpege:68 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:05:57,942 - INFO - 1-get_arpege:69 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:05:57,942 - INFO - 1-get_arpege:70 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:05:57,942 - INFO - 1-get_arpege:71 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:05:57,942 - INFO - 1-get_arpege:72 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 14:05:57,942 - INFO - 1-get_arpege:73 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-19 14:05:57,943 - INFO - 1-get_arpege:76 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 14:05:57,943 - INFO - 1-get_arpege:88 - Fetching files for date: 20250819 with pattern: *SP1*20250819000*
2025-08-19 14:05:57,943 - INFO - 1-get_arpege:91 - Checking if files exist on FTP server...
2025-08-19 14:05:57,943 - INFO - fetchdata:48 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250819000*)...
2025-08-19 14:05:57,943 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 14:05:58,203 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 14:05:58,212 - INFO - fetchdata:61 - Found 9 files matching pattern '*SP1*20250819000*'.
2025-08-19 14:05:58,213 - INFO - 1-get_arpege:119 - Found 9 matching files on FTP server:
2025-08-19 14:05:58,213 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 14:05:58,213 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 14:05:58,213 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 14:05:58,213 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 14:05:58,213 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 14:05:58,213 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 14:05:58,213 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 14:05:58,213 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 14:05:58,213 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 14:05:58,213 - INFO - 1-get_arpege:124 - Proceeding with FTP download.
2025-08-19 14:05:58,213 - INFO - 1-get_arpege:125 - Downloading files matching pattern '*SP1*20250819000*' from /share/meteofrance/Arpege_Orig to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-19 14:05:58,213 - INFO - fetchdata:76 - Starting FTP file fetch process.
2025-08-19 14:05:58,213 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 14:05:58,424 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 14:05:58,424 - INFO - fetchdata:85 - Changed remote directory to: /share/meteofrance/Arpege_Orig
2025-08-19 14:05:58,425 - INFO - fetchdata:92 - Looking for files matching pattern: '*SP1*20250819000*'
2025-08-19 14:05:58,425 - INFO - fetchdata:96 - Local download directory: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 14:05:58,435 - INFO - fetchdata:105 - Found 9 files matching pattern on remote server.
2025-08-19 14:05:58,435 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 14:05:58,893 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 14:05:59,088 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 14:05:59,551 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 14:05:59,780 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:00,237 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:00,444 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:00,900 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:01,116 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:01,573 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:01,779 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:02,265 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:02,492 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:02,982 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:03,336 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:03,846 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:04,066 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:04,331 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:04,420 - INFO - fetchdata:129 - FTP file fetch process completed.
2025-08-19 14:06:04,420 - INFO - 1-get_arpege:137 - FTP transfer completed successfully.
2025-08-19 14:06:04,421 - INFO - 1-get_arpege:151 - Successfully verified 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-19 14:06:04,421 - INFO - 1-get_arpege:154 - Attempting to run next program: 2-conv.py
2025-08-19 14:06:04,422 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:06:05,424 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-19 14:06:05,425 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:06:05,425 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:06:05,425 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:06:05,425 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:06:05,425 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 14:06:05,425 - INFO - 2-conv:55 - Processing for date: 20250819
2025-08-19 14:06:05,425 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-19 14:06:05,425 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2. Processing this branch.
2025-08-19 14:06:05,425 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-19 14:06:05,425 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2' to 't2m00-12.grib'.
2025-08-19 14:06:05,425 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:06:05,834 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:06:05,834 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2' to 't2m12-24.grib'.
2025-08-19 14:06:05,834 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:06:06,243 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:06:06,243 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2' to 't2m24-36.grib'.
2025-08-19 14:06:06,243 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:06:06,627 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:06:06,627 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2' to 't2m36-48.grib'.
2025-08-19 14:06:06,627 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:06:07,029 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 14:06:07,029 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 14:06:07,029 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 14:06:07,067 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 14:06:07,067 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 14:06:07,067 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-19 14:06:07,068 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-19 14:06:07,069 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-19 14:06:07,070 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-19 14:06:07,070 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-19 14:06:07,070 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-19 14:06:07,070 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-19 14:06:07,071 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 14:06:07,071 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-19 14:06:07,071 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:06:07,968 - INFO - 3-create_forecast_table:45 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-19 14:06:07,968 - INFO - 3-create_forecast_table:46 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:06:07,969 - INFO - 3-create_forecast_table:47 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:06:07,969 - INFO - 3-create_forecast_table:48 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:06:07,969 - INFO - 3-create_forecast_table:49 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:06:07,969 - INFO - 3-create_forecast_table:54 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:06:07,969 - INFO - 3-create_forecast_table:65 - Preparing dates for data processing.
2025-08-19 14:06:07,969 - INFO - 3-create_forecast_table:72 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 14:06:07,970 - INFO - 3-create_forecast_table:87 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 14:06:07,973 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 14:06:07,984 - INFO - 3-create_forecast_table:93 - Successfully loaded 75 stations.
2025-08-19 14:06:07,996 - INFO - 3-create_forecast_table:106 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 14:06:08,232 - INFO - grib_processor:113 - GRIB file '2t_20250819.grib' opened successfully.
2025-08-19 14:06:08,232 - INFO - 3-create_forecast_table:109 - GRIB file resource successfully opened.
2025-08-19 14:06:08,233 - INFO - 3-create_forecast_table:126 - Starting GRIB data extraction for 2m temperature.
2025-08-19 14:06:08,233 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-19 14:06:13,415 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-19 14:06:13,415 - INFO - 3-create_forecast_table:138 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-19 14:06:13,478 - INFO - 3-create_forecast_table:155 - GRIB file resource closed successfully.
2025-08-19 14:06:13,478 - INFO - 3-create_forecast_table:161 - Calculating min and max temperatures across all time steps for each station.
2025-08-19 14:06:13,478 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-19 14:06:13,479 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-19 14:06:13,479 - INFO - 3-create_forecast_table:166 - Min/Max temperatures calculated successfully.
2025-08-19 14:06:13,479 - INFO - 3-create_forecast_table:174 - Converting results dictionary to pandas DataFrame.
2025-08-19 14:06:13,481 - INFO - 3-create_forecast_table:178 - DataFrame created successfully.
2025-08-19 14:06:13,509 - INFO - 3-create_forecast_table:191 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:06:13,515 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:06:13,515 - INFO - 3-create_forecast_table:196 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:06:13,515 - INFO - 3-create_forecast_table:203 - Attempting to run next program: 4-traitement_obs.py
2025-08-19 14:06:13,515 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:06:14,447 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:06:14,447 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 14:06:14,447 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 14:06:14,447 - INFO - 4-traitement_obs:84 - Processing data for today (2025-08-19) and yesterday (2025-08-18).
2025-08-19 14:06:14,448 - INFO - 4-traitement_obs:111 - Initialized DataFrame with 47 unique stations.
2025-08-19 14:06:14,448 - INFO - 4-traitement_obs:139 - Configured to process 5 time steps for observations.
2025-08-19 14:06:14,448 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508180600.bufr for key 'airTemperature'
2025-08-19 14:06:14,579 - INFO - 4-traitement_obs:167 - Merged data for t2m_06 into the main DataFrame.
2025-08-19 14:06:14,579 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181200.bufr for key 'airTemperature'
2025-08-19 14:06:14,693 - INFO - 4-traitement_obs:167 - Merged data for t2m_12 into the main DataFrame.
2025-08-19 14:06:14,693 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'airTemperature'
2025-08-19 14:06:14,808 - INFO - 4-traitement_obs:167 - Merged data for t2m_18 into the main DataFrame.
2025-08-19 14:06:14,809 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508182100.bufr for key 'airTemperature'
2025-08-19 14:06:14,838 - INFO - 4-traitement_obs:167 - Merged data for t2m_21 into the main DataFrame.
2025-08-19 14:06:14,838 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190000.bufr for key 'airTemperature'
2025-08-19 14:06:14,906 - INFO - 4-traitement_obs:167 - Merged data for t2m_24 into the main DataFrame.
2025-08-19 14:06:14,907 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-19 14:06:14,907 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-19 14:06:14,907 - INFO - 4-traitement_obs:185 - Final DataFrame head:
2025-08-19 14:06:14,911 - INFO - 4-traitement_obs:187 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    30.0    41.7    40.7     NaN    31.9
1            ANNABA    26.3    30.0    26.7     NaN    22.5
2      B-B-ARRERIDJ    22.3    35.0    32.7     NaN     NaN
3             BATNA    18.0    32.5    30.2     NaN    18.8
4            BECHAR    24.3    36.4    37.1     NaN    29.0
2025-08-19 14:06:14,913 - INFO - 4-traitement_obs:199 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250819.csv
2025-08-19 14:06:14,913 - INFO - 4-traitement_obs:205 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-19 14:06:14,913 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:06:15,804 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-19 14:06:15,804 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:06:15,805 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:06:15,805 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 14:06:15,805 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-19 14:06:15,805 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-19 14:06:15,805 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-19 14:06:15,805 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 14:06:15,805 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 14:06:15,806 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-19 14:06:15,806 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:06:15,958 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 14:06:15,958 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 14:06:16,065 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 14:06:16,066 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-19 14:06:16,066 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 14:06:16,069 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-19 14:06:16,071 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 14:06:16,073 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:06:16,073 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-19 14:06:16,073 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:06:16,659 - INFO - 6-create_tables:71 - Preparing date variables for file paths.
2025-08-19 14:06:16,660 - INFO - 6-create_tables:73 - Dates prepared: Today 20250819, Yesterday 20250818
2025-08-19 14:06:16,660 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 14:06:16,663 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 14:06:16,694 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 14:06:16,695 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 14:06:16,695 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 14:06:16,696 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:06:16,706 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 14:06:16,706 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 14:06:16,707 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:06:16,714 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 14:06:16,714 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 14:06:16,718 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 14:06:16,718 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 14:06:16,720 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 14:06:16,720 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 14:06:16,720 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 14:06:16,734 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 14:06:16,734 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:06:16,734 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 14:06:16,747 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 14:06:16,747 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:06:16,747 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 14:06:16,760 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 14:06:16,760 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:06:16,760 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 14:06:16,774 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 14:06:16,774 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:06:16,774 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 14:06:16,774 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 14:06:16,774 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:06:17,345 - INFO - 7-create_word:53 - --- Script '7-create_word.py' execution started. ---
2025-08-19 14:06:17,345 - INFO - 7-create_word:54 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:06:17,345 - INFO - 7-create_word:55 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:06:17,345 - INFO - 7-create_word:56 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:06:17,345 - INFO - 7-create_word:57 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:06:17,346 - INFO - 7-create_word:61 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 14:06:17,346 - INFO - 7-create_word:72 - Preparing today's and tomorrow's dates.
2025-08-19 14:06:17,346 - INFO - 7-create_word:79 - Today's date: 19-08-2025, Tomorrow's date: 20-08-2025
2025-08-19 14:06:17,346 - INFO - 7-create_word:207 - Defining file paths for Excel, Word template, and output.
2025-08-19 14:06:17,346 - INFO - 7-create_word:215 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:06:17,346 - INFO - 7-create_word:216 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:06:17,346 - INFO - 7-create_word:217 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:06:17,346 - INFO - 7-create_word:218 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:06:17,346 - INFO - 7-create_word:219 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:06:17,346 - INFO - 7-create_word:220 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:06:17,346 - INFO - 7-create_word:224 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-19 14:06:17,346 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 14:06:17,354 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-19 14:06:17,354 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 14:06:17,359 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-19 14:06:17,359 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 14:06:17,365 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-19 14:06:17,366 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 14:06:17,372 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-19 14:06:17,372 - INFO - 7-create_word:230 - All Excel workbooks loaded successfully.
2025-08-19 14:06:17,372 - INFO - 7-create_word:238 - Loading Word template...
2025-08-19 14:06:17,429 - INFO - 7-create_word:242 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 14:06:17,430 - INFO - 7-create_word:253 - Updating dates in the Word document using local modify_paragraph function.
2025-08-19 14:06:17,430 - INFO - 7-create_word:104 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-19 14:06:17,431 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 19-08-2025'.
2025-08-19 14:06:17,432 - INFO - 7-create_word:104 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-19 14:06:17,432 - INFO - 7-create_word:127 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 20-08-2025'.
2025-08-19 14:06:17,432 - INFO - 7-create_word:257 - Dates in Word document updated successfully.
2025-08-19 14:06:17,433 - INFO - 7-create_word:264 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-19 14:06:17,433 - INFO - 7-create_word:144 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-19 14:06:18,104 - INFO - 7-create_word:182 - Applying formatting to table: 'Ouest Region Table'.
2025-08-19 14:06:18,142 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-19 14:06:18,142 - INFO - 7-create_word:144 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-19 14:06:18,550 - INFO - 7-create_word:182 - Applying formatting to table: 'Centre Region Table'.
2025-08-19 14:06:18,579 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-19 14:06:18,579 - INFO - 7-create_word:144 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-19 14:06:19,357 - INFO - 7-create_word:182 - Applying formatting to table: 'Est Region Table'.
2025-08-19 14:06:19,397 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Est Region Table'.
2025-08-19 14:06:19,397 - INFO - 7-create_word:144 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-19 14:06:20,290 - INFO - 7-create_word:182 - Applying formatting to table: 'Sud Region Table'.
2025-08-19 14:06:20,332 - INFO - 7-create_word:203 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-19 14:06:20,332 - INFO - 7-create_word:271 - All specified tables in Word document updated successfully.
2025-08-19 14:06:20,332 - INFO - 7-create_word:282 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:06:20,625 - INFO - 7-create_word:287 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:06:20,625 - INFO - 7-create_word:291 - CONFIRMATION: File 'Bulletin_Sonelgaz_19-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962563 bytes).
2025-08-19 14:06:20,625 - INFO - 7-create_word:304 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-19 14:06:20,625 - INFO - 7-create_word:307 - Temporary files cleanup complete.
2025-08-19 14:06:20,625 - INFO - 7-create_word:314 - Attempting to run next program: 8-send_MSG.py
2025-08-19 14:06:20,625 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 14:06:20,690 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 14:06:20,690 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-19 14:06:20,690 - DEBUG - date_utils:41 - Calculated dates: Today=2025-08-19, Yesterday=2025-08-18
2025-08-19 14:06:20,690 - DEBUG - 8-send_MSG:71 - Today's date components: Year=2025, Month=08, Day=19
2025-08-19 14:06:20,690 - DEBUG - 8-send_MSG:74 - Base data path determined as: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 14:06:20,690 - INFO - 8-send_MSG:80 - Expected bulletin file path: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:06:20,691 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 14:06:20,691 - WARNING - file_operations:245 - File not found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/grib_2025081900_0000. Skipping this operation.
2025-08-19 14:06:20,691 - INFO - 8-send_MSG:94 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-19 14:06:20,691 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:06:20,691 - INFO - 8-send_MSG:105 - Attempting to send email with bulletin: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 14:06:20,691 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 19/08/2025 Généré avec ARPEGE'
2025-08-19 14:06:20,691 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx')]
2025-08-19 14:06:20,785 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-19 14:06:20,786 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-19 14:06:20,786 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx'
2025-08-19 14:06:20,786 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx'. Attempting to open and attach.
2025-08-19 14:06:20,900 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_19-08-2025.docx'
2025-08-19 14:06:21,313 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-19 14:06:21,319 - INFO - 8-send_MSG:118 - Bulletin email process completed successfully.
2025-08-19 14:06:21,319 - INFO - 8-send_MSG:124 - Script execution finished.
2025-08-19 14:06:21,349 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:06:21,349 - INFO - 7-create_word:321 - Successfully executed 8-send_MSG.py.
2025-08-19 14:06:21,349 - INFO - 7-create_word:329 - --- Script '7-create_word.py' finished. ---
2025-08-19 14:06:21,454 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:06:21,454 - INFO - 6-create_tables:264 - Successfully executed 7-create_word.py.
2025-08-19 14:06:21,454 - INFO - 6-create_tables:273 - --- Script '6-create_tables.py' finished. ---
2025-08-19 14:06:21,535 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:06:21,535 - INFO - 5-traitement_obs_min_max:201 - Successfully executed 6-create_tables.py.
2025-08-19 14:06:21,535 - INFO - 5-traitement_obs_min_max:210 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-19 14:06:21,668 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:06:21,669 - INFO - 4-traitement_obs:213 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-19 14:06:21,669 - INFO - 4-traitement_obs:222 - --- Script '4-traitement_obs.py' finished. ---
2025-08-19 14:06:21,800 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:06:21,800 - INFO - 3-create_forecast_table:210 - Successfully executed 4-traitement_obs.py.
2025-08-19 14:06:21,800 - INFO - 3-create_forecast_table:218 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-19 14:06:21,933 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:06:21,933 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-19 14:06:21,933 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-19 14:06:22,049 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 14:06:22,049 - INFO - 1-get_arpege:161 - Successfully executed 2-conv.py.
2025-08-19 14:06:22,049 - INFO - 1-get_arpege:170 - --- Script '1-get_arpege.py' finished. ---
2025-08-19 15:01:33,961 - INFO - 1-get_arpege:67 - --- Script '1-get_arpege.py' started ---
2025-08-19 15:01:33,962 - INFO - 1-get_arpege:68 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:01:33,962 - INFO - 1-get_arpege:69 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:33,962 - INFO - 1-get_arpege:70 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:33,962 - INFO - 1-get_arpege:71 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:01:33,962 - INFO - 1-get_arpege:72 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:01:33,962 - INFO - 1-get_arpege:73 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-19 15:01:33,962 - INFO - 1-get_arpege:76 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:01:33,962 - INFO - 1-get_arpege:88 - Fetching files for date: 20250819 with pattern: *SP1*20250819000*
2025-08-19 15:01:33,962 - INFO - 1-get_arpege:91 - Checking if files exist on FTP server...
2025-08-19 15:01:33,962 - INFO - fetchdata:48 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250819000*)...
2025-08-19 15:01:33,962 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 15:01:34,203 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 15:01:34,209 - INFO - fetchdata:61 - Found 9 files matching pattern '*SP1*20250819000*'.
2025-08-19 15:01:34,209 - INFO - 1-get_arpege:119 - Found 9 matching files on FTP server:
2025-08-19 15:01:34,209 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:34,209 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:34,210 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:34,210 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:34,210 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:34,210 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:34,210 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:34,210 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:34,210 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:34,210 - INFO - 1-get_arpege:124 - Proceeding with FTP download.
2025-08-19 15:01:34,210 - INFO - 1-get_arpege:125 - Downloading files matching pattern '*SP1*20250819000*' from /share/meteofrance/Arpege_Orig to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-19 15:01:34,210 - INFO - fetchdata:76 - Starting FTP file fetch process.
2025-08-19 15:01:34,210 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 15:01:34,411 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 15:01:34,412 - INFO - fetchdata:85 - Changed remote directory to: /share/meteofrance/Arpege_Orig
2025-08-19 15:01:34,412 - INFO - fetchdata:92 - Looking for files matching pattern: '*SP1*20250819000*'
2025-08-19 15:01:34,412 - INFO - fetchdata:96 - Local download directory: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:01:34,420 - INFO - fetchdata:105 - Found 9 files matching pattern on remote server.
2025-08-19 15:01:34,420 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:35,019 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:35,230 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:35,662 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:35,867 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:36,332 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:36,526 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:37,033 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:37,211 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:37,735 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:37,952 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:38,461 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:38,637 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:39,173 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:39,389 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:39,908 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:40,163 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:40,426 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 15:01:40,544 - INFO - fetchdata:129 - FTP file fetch process completed.
2025-08-19 15:01:40,544 - INFO - 1-get_arpege:137 - FTP transfer completed successfully.
2025-08-19 15:01:40,545 - INFO - 1-get_arpege:151 - Successfully verified 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-19 15:01:40,545 - INFO - 1-get_arpege:154 - Attempting to run next program: 2-conv.py
2025-08-19 15:01:40,545 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:41,521 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-19 15:01:41,521 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:01:41,521 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:41,521 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:41,522 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:01:41,522 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:01:41,522 - INFO - 2-conv:55 - Processing for date: 20250819
2025-08-19 15:01:41,522 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-19 15:01:41,522 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2. Processing this branch.
2025-08-19 15:01:41,522 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-19 15:01:41,522 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2' to 't2m00-12.grib'.
2025-08-19 15:01:41,522 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:42,029 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:01:42,029 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2' to 't2m12-24.grib'.
2025-08-19 15:01:42,029 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:42,453 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:01:42,453 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2' to 't2m24-36.grib'.
2025-08-19 15:01:42,453 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:42,838 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:01:42,838 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2' to 't2m36-48.grib'.
2025-08-19 15:01:42,838 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:43,207 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:01:43,208 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:01:43,208 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:01:43,239 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:01:43,239 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:01:43,239 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-19 15:01:43,240 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-19 15:01:43,240 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-19 15:01:43,241 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-19 15:01:43,242 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-19 15:01:43,242 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-19 15:01:43,242 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-19 15:01:43,242 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:01:43,242 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-19 15:01:43,242 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:44,102 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:01:44,102 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:01:44
2025-08-19 15:01:44,102 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:01:44
2025-08-19 15:01:44,102 - INFO - 3-create_forecast_table:73 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:01:44,103 - INFO - 3-create_forecast_table:87 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:01:44,105 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:01:44,115 - INFO - 3-create_forecast_table:93 - Successfully loaded 75 stations.
2025-08-19 15:01:44,124 - INFO - 3-create_forecast_table:106 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:01:44,358 - INFO - grib_processor:113 - GRIB file '2t_20250819.grib' opened successfully.
2025-08-19 15:01:44,359 - INFO - 3-create_forecast_table:109 - GRIB file resource successfully opened.
2025-08-19 15:01:44,359 - INFO - 3-create_forecast_table:126 - Starting GRIB data extraction for 2m temperature.
2025-08-19 15:01:44,359 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-19 15:01:49,260 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-19 15:01:49,260 - INFO - 3-create_forecast_table:138 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-19 15:01:49,308 - INFO - 3-create_forecast_table:155 - GRIB file resource closed successfully.
2025-08-19 15:01:49,308 - INFO - 3-create_forecast_table:161 - Calculating min and max temperatures across all time steps for each station.
2025-08-19 15:01:49,308 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-19 15:01:49,308 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-19 15:01:49,309 - INFO - 3-create_forecast_table:166 - Min/Max temperatures calculated successfully.
2025-08-19 15:01:49,309 - INFO - 3-create_forecast_table:174 - Converting results dictionary to pandas DataFrame.
2025-08-19 15:01:49,310 - INFO - 3-create_forecast_table:178 - DataFrame created successfully.
2025-08-19 15:01:49,336 - INFO - 3-create_forecast_table:191 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:01:49,341 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:01:49,341 - INFO - 3-create_forecast_table:196 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:01:49,341 - INFO - 3-create_forecast_table:203 - Attempting to run next program: 4-traitement_obs.py
2025-08-19 15:01:49,341 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:50,222 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:50,222 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 15:01:50,222 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 15:01:50,223 - INFO - 4-traitement_obs:113 - Initialized DataFrame with 47 unique stations.
2025-08-19 15:01:50,350 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:01:50,350 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:50,222 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:50,222 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 15:01:50,222 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 15:01:50,223 - INFO - 4-traitement_obs:113 - Initialized DataFrame with 47 unique stations.
2025-08-19 15:01:50,350 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 124, in <module>
    'year': AA_yesterday,
NameError: name 'AA_yesterday' is not defined
2025-08-19 15:01:50,350 - ERROR - 3-create_forecast_table:212 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 206, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:01:50,481 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:01:50,482 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:44,102 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:01:44,102 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:01:44
2025-08-19 15:01:44,102 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:01:44
2025-08-19 15:01:44,102 - INFO - 3-create_forecast_table:73 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:01:44,103 - INFO - 3-create_forecast_table:87 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:01:44,105 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:01:44,115 - INFO - 3-create_forecast_table:93 - Successfully loaded 75 stations.
2025-08-19 15:01:44,124 - INFO - 3-create_forecast_table:106 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:01:44,358 - INFO - grib_processor:113 - GRIB file '2t_20250819.grib' opened successfully.
2025-08-19 15:01:44,359 - INFO - 3-create_forecast_table:109 - GRIB file resource successfully opened.
2025-08-19 15:01:44,359 - INFO - 3-create_forecast_table:126 - Starting GRIB data extraction for 2m temperature.
2025-08-19 15:01:44,359 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-19 15:01:49,260 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-19 15:01:49,260 - INFO - 3-create_forecast_table:138 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-19 15:01:49,308 - INFO - 3-create_forecast_table:155 - GRIB file resource closed successfully.
2025-08-19 15:01:49,308 - INFO - 3-create_forecast_table:161 - Calculating min and max temperatures across all time steps for each station.
2025-08-19 15:01:49,308 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-19 15:01:49,308 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-19 15:01:49,309 - INFO - 3-create_forecast_table:166 - Min/Max temperatures calculated successfully.
2025-08-19 15:01:49,309 - INFO - 3-create_forecast_table:174 - Converting results dictionary to pandas DataFrame.
2025-08-19 15:01:49,310 - INFO - 3-create_forecast_table:178 - DataFrame created successfully.
2025-08-19 15:01:49,336 - INFO - 3-create_forecast_table:191 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:01:49,341 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:01:49,341 - INFO - 3-create_forecast_table:196 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:01:49,341 - INFO - 3-create_forecast_table:203 - Attempting to run next program: 4-traitement_obs.py
2025-08-19 15:01:49,341 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:50,350 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:01:50,350 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:50,222 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:50,222 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 15:01:50,222 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 15:01:50,223 - INFO - 4-traitement_obs:113 - Initialized DataFrame with 47 unique stations.
2025-08-19 15:01:50,350 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 124, in <module>
    'year': AA_yesterday,
NameError: name 'AA_yesterday' is not defined
2025-08-19 15:01:50,350 - ERROR - 3-create_forecast_table:212 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 206, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:01:50,482 - ERROR - system_utils:59 - STDERR: 
2025-08-19 15:01:50,482 - ERROR - 2-conv:136 - An error occurred while running 3-create_forecast_table.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py", line 130, in main
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:01:50,602 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:01:50,603 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:01:41,521 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-19 15:01:41,521 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:01:41,521 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:41,521 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:41,522 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:01:41,522 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:01:41,522 - INFO - 2-conv:55 - Processing for date: 20250819
2025-08-19 15:01:41,522 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-19 15:01:41,522 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2. Processing this branch.
2025-08-19 15:01:41,522 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-19 15:01:41,522 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2' to 't2m00-12.grib'.
2025-08-19 15:01:41,522 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:42,029 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:01:42,029 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2' to 't2m12-24.grib'.
2025-08-19 15:01:42,029 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:42,453 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:01:42,453 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2' to 't2m24-36.grib'.
2025-08-19 15:01:42,453 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:42,838 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:01:42,838 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2' to 't2m36-48.grib'.
2025-08-19 15:01:42,838 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:43,207 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:01:43,208 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:01:43,208 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:01:43,239 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:01:43,239 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:01:43,239 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-19 15:01:43,240 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-19 15:01:43,240 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-19 15:01:43,241 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-19 15:01:43,242 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-19 15:01:43,242 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-19 15:01:43,242 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-19 15:01:43,242 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:01:43,242 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-19 15:01:43,242 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:50,481 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:01:50,482 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:01:44,101 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:44,102 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:01:44,102 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:01:44
2025-08-19 15:01:44,102 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:01:44
2025-08-19 15:01:44,102 - INFO - 3-create_forecast_table:73 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:01:44,103 - INFO - 3-create_forecast_table:87 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:01:44,105 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:01:44,115 - INFO - 3-create_forecast_table:93 - Successfully loaded 75 stations.
2025-08-19 15:01:44,124 - INFO - 3-create_forecast_table:106 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:01:44,358 - INFO - grib_processor:113 - GRIB file '2t_20250819.grib' opened successfully.
2025-08-19 15:01:44,359 - INFO - 3-create_forecast_table:109 - GRIB file resource successfully opened.
2025-08-19 15:01:44,359 - INFO - 3-create_forecast_table:126 - Starting GRIB data extraction for 2m temperature.
2025-08-19 15:01:44,359 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-19 15:01:49,260 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-19 15:01:49,260 - INFO - 3-create_forecast_table:138 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-19 15:01:49,308 - INFO - 3-create_forecast_table:155 - GRIB file resource closed successfully.
2025-08-19 15:01:49,308 - INFO - 3-create_forecast_table:161 - Calculating min and max temperatures across all time steps for each station.
2025-08-19 15:01:49,308 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-19 15:01:49,308 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-19 15:01:49,309 - INFO - 3-create_forecast_table:166 - Min/Max temperatures calculated successfully.
2025-08-19 15:01:49,309 - INFO - 3-create_forecast_table:174 - Converting results dictionary to pandas DataFrame.
2025-08-19 15:01:49,310 - INFO - 3-create_forecast_table:178 - DataFrame created successfully.
2025-08-19 15:01:49,336 - INFO - 3-create_forecast_table:191 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:01:49,341 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:01:49,341 - INFO - 3-create_forecast_table:196 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:01:49,341 - INFO - 3-create_forecast_table:203 - Attempting to run next program: 4-traitement_obs.py
2025-08-19 15:01:49,341 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:01:50,350 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:01:50,350 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:50,222 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:01:50,222 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 15:01:50,222 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 15:01:50,223 - INFO - 4-traitement_obs:113 - Initialized DataFrame with 47 unique stations.
2025-08-19 15:01:50,350 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 124, in <module>
    'year': AA_yesterday,
NameError: name 'AA_yesterday' is not defined
2025-08-19 15:01:50,350 - ERROR - 3-create_forecast_table:212 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 206, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:01:50,482 - ERROR - system_utils:59 - STDERR: 
2025-08-19 15:01:50,482 - ERROR - 2-conv:136 - An error occurred while running 3-create_forecast_table.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py", line 130, in main
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:01:50,604 - ERROR - system_utils:59 - STDERR: 
2025-08-19 15:01:50,604 - ERROR - 1-get_arpege:163 - An error occurred while running 2-conv.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get_arpege.py", line 157, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:13,918 - INFO - 1-get_arpege:67 - --- Script '1-get_arpege.py' started ---
2025-08-19 15:03:13,918 - INFO - 1-get_arpege:68 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:03:13,918 - INFO - 1-get_arpege:69 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:13,918 - INFO - 1-get_arpege:70 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:13,918 - INFO - 1-get_arpege:71 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:13,918 - INFO - 1-get_arpege:72 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:03:13,918 - INFO - 1-get_arpege:73 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-19 15:03:13,918 - INFO - 1-get_arpege:76 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:03:13,918 - INFO - 1-get_arpege:88 - Fetching files for date: 20250819 with pattern: *SP1*20250819000*
2025-08-19 15:03:13,918 - INFO - 1-get_arpege:91 - Checking if files exist on FTP server...
2025-08-19 15:03:13,918 - INFO - fetchdata:48 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250819000*)...
2025-08-19 15:03:13,918 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 15:03:14,181 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 15:03:14,197 - INFO - fetchdata:61 - Found 9 files matching pattern '*SP1*20250819000*'.
2025-08-19 15:03:14,198 - INFO - 1-get_arpege:119 - Found 9 matching files on FTP server:
2025-08-19 15:03:14,198 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:14,199 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:14,199 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:14,199 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:14,199 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:14,200 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:14,200 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:14,200 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:14,201 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:14,201 - INFO - 1-get_arpege:124 - Proceeding with FTP download.
2025-08-19 15:03:14,201 - INFO - 1-get_arpege:125 - Downloading files matching pattern '*SP1*20250819000*' from /share/meteofrance/Arpege_Orig to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-19 15:03:14,202 - INFO - fetchdata:76 - Starting FTP file fetch process.
2025-08-19 15:03:14,202 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 15:03:14,420 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 15:03:14,421 - INFO - fetchdata:85 - Changed remote directory to: /share/meteofrance/Arpege_Orig
2025-08-19 15:03:14,421 - INFO - fetchdata:92 - Looking for files matching pattern: '*SP1*20250819000*'
2025-08-19 15:03:14,422 - INFO - fetchdata:96 - Local download directory: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:03:14,431 - INFO - fetchdata:105 - Found 9 files matching pattern on remote server.
2025-08-19 15:03:14,431 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:14,974 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:15,197 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:15,861 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:16,066 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:16,744 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:16,915 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:17,399 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:17,573 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:18,077 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:18,314 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:18,835 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:19,046 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:19,551 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:19,756 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:20,277 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:20,496 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:20,763 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 15:03:20,867 - INFO - fetchdata:129 - FTP file fetch process completed.
2025-08-19 15:03:20,867 - INFO - 1-get_arpege:137 - FTP transfer completed successfully.
2025-08-19 15:03:20,867 - INFO - 1-get_arpege:151 - Successfully verified 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-19 15:03:20,868 - INFO - 1-get_arpege:154 - Attempting to run next program: 2-conv.py
2025-08-19 15:03:20,868 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:21,679 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-19 15:03:21,679 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:03:21,679 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:21,679 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:21,679 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:21,679 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:03:21,679 - INFO - 2-conv:55 - Processing for date: 20250819
2025-08-19 15:03:21,679 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-19 15:03:21,679 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2. Processing this branch.
2025-08-19 15:03:21,680 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-19 15:03:21,680 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2' to 't2m00-12.grib'.
2025-08-19 15:03:21,680 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:22,074 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:03:22,074 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2' to 't2m12-24.grib'.
2025-08-19 15:03:22,074 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:22,516 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:03:22,516 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2' to 't2m24-36.grib'.
2025-08-19 15:03:22,516 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:22,921 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:03:22,921 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2' to 't2m36-48.grib'.
2025-08-19 15:03:22,922 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:23,295 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:03:23,295 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:03:23,295 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:03:23,345 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:03:23,345 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:03:23,345 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-19 15:03:23,347 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-19 15:03:23,349 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-19 15:03:23,351 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-19 15:03:23,353 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-19 15:03:23,353 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-19 15:03:23,354 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-19 15:03:23,354 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:03:23,354 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-19 15:03:23,354 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:24,343 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:24
2025-08-19 15:03:24,343 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:24
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:73 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:24,345 - INFO - 3-create_forecast_table:87 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:03:24,347 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:03:24,357 - INFO - 3-create_forecast_table:93 - Successfully loaded 75 stations.
2025-08-19 15:03:24,367 - INFO - 3-create_forecast_table:106 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:03:24,608 - INFO - grib_processor:113 - GRIB file '2t_20250819.grib' opened successfully.
2025-08-19 15:03:24,608 - INFO - 3-create_forecast_table:109 - GRIB file resource successfully opened.
2025-08-19 15:03:24,608 - INFO - 3-create_forecast_table:126 - Starting GRIB data extraction for 2m temperature.
2025-08-19 15:03:24,608 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-19 15:03:29,723 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-19 15:03:29,723 - INFO - 3-create_forecast_table:138 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-19 15:03:29,781 - INFO - 3-create_forecast_table:155 - GRIB file resource closed successfully.
2025-08-19 15:03:29,781 - INFO - 3-create_forecast_table:161 - Calculating min and max temperatures across all time steps for each station.
2025-08-19 15:03:29,782 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-19 15:03:29,782 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-19 15:03:29,782 - INFO - 3-create_forecast_table:166 - Min/Max temperatures calculated successfully.
2025-08-19 15:03:29,782 - INFO - 3-create_forecast_table:174 - Converting results dictionary to pandas DataFrame.
2025-08-19 15:03:29,784 - INFO - 3-create_forecast_table:178 - DataFrame created successfully.
2025-08-19 15:03:29,809 - INFO - 3-create_forecast_table:191 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:29,814 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:29,814 - INFO - 3-create_forecast_table:196 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:29,814 - INFO - 3-create_forecast_table:203 - Attempting to run next program: 4-traitement_obs.py
2025-08-19 15:03:29,814 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:30,755 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 15:03:30,756 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:30
2025-08-19 15:03:30,756 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:30
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:81 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:114 - Initialized DataFrame with 47 unique stations.
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:142 - Configured to process 5 time steps for observations.
2025-08-19 15:03:30,757 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508180600.bufr for key 'airTemperature'
2025-08-19 15:03:30,886 - INFO - 4-traitement_obs:170 - Merged data for t2m_06 into the main DataFrame.
2025-08-19 15:03:30,887 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181200.bufr for key 'airTemperature'
2025-08-19 15:03:31,005 - INFO - 4-traitement_obs:170 - Merged data for t2m_12 into the main DataFrame.
2025-08-19 15:03:31,006 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'airTemperature'
2025-08-19 15:03:31,113 - INFO - 4-traitement_obs:170 - Merged data for t2m_18 into the main DataFrame.
2025-08-19 15:03:31,114 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508182100.bufr for key 'airTemperature'
2025-08-19 15:03:31,140 - INFO - 4-traitement_obs:170 - Merged data for t2m_21 into the main DataFrame.
2025-08-19 15:03:31,141 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190000.bufr for key 'airTemperature'
2025-08-19 15:03:31,208 - INFO - 4-traitement_obs:170 - Merged data for t2m_24 into the main DataFrame.
2025-08-19 15:03:31,208 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-19 15:03:31,208 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-19 15:03:31,209 - INFO - 4-traitement_obs:188 - Final DataFrame head:
2025-08-19 15:03:31,212 - INFO - 4-traitement_obs:190 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    30.0    41.7    40.7     NaN    31.9
1            ANNABA    26.3    30.0    26.7     NaN    22.5
2      B-B-ARRERIDJ    22.3    35.0    32.7     NaN     NaN
3             BATNA    18.0    32.5    30.2     NaN    18.8
4            BECHAR    24.3    36.4    37.1     NaN    29.0
2025-08-19 15:03:31,214 - INFO - 4-traitement_obs:202 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250819.csv
2025-08-19 15:03:31,214 - INFO - 4-traitement_obs:208 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-19 15:03:31,214 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:32,105 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:32,106 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:32
2025-08-19 15:03:32,106 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:32
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:69 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:90 - Defined 4 regions with a total of 47 stations.
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:93 - Unique stations identified: 47
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:97 - Initial DataFrame created with all station names.
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:105 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:106 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:116 - Proceeding with available BUFR files.
2025-08-19 15:03:32,107 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 15:03:32,263 - INFO - 5-traitement_obs_min_max:128 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 15:03:32,263 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 15:03:32,376 - INFO - 5-traitement_obs_min_max:143 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 15:03:32,377 - INFO - 5-traitement_obs_min_max:150 - Starting DataFrame cleaning and filtering.
2025-08-19 15:03:32,377 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 15:03:32,380 - INFO - 5-traitement_obs_min_max:177 - Final cleaned DataFrame has 47 rows.
2025-08-19 15:03:32,382 - INFO - 5-traitement_obs_min_max:187 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 15:03:32,384 - INFO - 5-traitement_obs_min_max:197 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,384 - INFO - 5-traitement_obs_min_max:204 - Attempting to run next program: 6-create_tables.py
2025-08-19 15:03:32,384 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:32,925 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:32
2025-08-19 15:03:32,925 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:32
2025-08-19 15:03:32,925 - INFO - 6-create_tables:68 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:32,925 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 15:03:32,929 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:32,959 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 15:03:32,961 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 15:03:32,961 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 15:03:32,963 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:03:32,973 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:03:32,973 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 15:03:32,974 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,980 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,981 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 15:03:32,985 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 15:03:32,985 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 15:03:33,002 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 15:03:33,002 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 15:03:33,002 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 15:03:33,014 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 15:03:33,014 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 15:03:33,014 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 15:03:33,028 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 15:03:33,029 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 15:03:33,029 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 15:03:33,042 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 15:03:33,042 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 15:03:33,042 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 15:03:33,043 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 15:03:33,043 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:33,647 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-19 15:03:33,647 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:03:33,647 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:33
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:33
2025-08-19 15:03:33,648 - INFO - 7-create_word:78 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:33,648 - INFO - 7-create_word:204 - Defining file paths for Excel, Word template, and output.
2025-08-19 15:03:33,736 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,737 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:33,647 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-19 15:03:33,647 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:03:33,647 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:33
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:33
2025-08-19 15:03:33,648 - INFO - 7-create_word:78 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:33,648 - INFO - 7-create_word:204 - Defining file paths for Excel, Word template, and output.
2025-08-19 15:03:33,737 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 210, in <module>
    output_word_path = PROJECT_ROOT / "bulletins" / f"Bulletin_Sonelgaz_{date_today}.docx"
NameError: name 'date_today' is not defined. Did you mean: 'AA_today'?
2025-08-19 15:03:33,737 - ERROR - 6-create_tables:266 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 260, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:33,817 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,817 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:32,925 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:32
2025-08-19 15:03:32,925 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:32
2025-08-19 15:03:32,925 - INFO - 6-create_tables:68 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:32,925 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 15:03:32,929 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:32,959 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 15:03:32,961 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 15:03:32,961 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 15:03:32,963 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:03:32,973 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:03:32,973 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 15:03:32,974 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,980 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,981 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 15:03:32,985 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 15:03:32,985 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 15:03:33,002 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 15:03:33,002 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 15:03:33,002 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 15:03:33,014 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 15:03:33,014 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 15:03:33,014 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 15:03:33,028 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 15:03:33,029 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 15:03:33,029 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 15:03:33,042 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 15:03:33,042 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 15:03:33,042 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 15:03:33,043 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 15:03:33,043 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:33,736 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,737 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:33,647 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-19 15:03:33,647 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:03:33,647 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:33
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:33
2025-08-19 15:03:33,648 - INFO - 7-create_word:78 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:33,648 - INFO - 7-create_word:204 - Defining file paths for Excel, Word template, and output.
2025-08-19 15:03:33,737 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 210, in <module>
    output_word_path = PROJECT_ROOT / "bulletins" / f"Bulletin_Sonelgaz_{date_today}.docx"
NameError: name 'date_today' is not defined. Did you mean: 'AA_today'?
2025-08-19 15:03:33,737 - ERROR - 6-create_tables:266 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 260, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:33,817 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-19 15:03:33,817 - ERROR - 5-traitement_obs_min_max:214 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 208, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:33,957 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,957 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:32,105 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:32,106 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:32
2025-08-19 15:03:32,106 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:32
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:69 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:90 - Defined 4 regions with a total of 47 stations.
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:93 - Unique stations identified: 47
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:97 - Initial DataFrame created with all station names.
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:105 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:106 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:116 - Proceeding with available BUFR files.
2025-08-19 15:03:32,107 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 15:03:32,263 - INFO - 5-traitement_obs_min_max:128 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 15:03:32,263 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 15:03:32,376 - INFO - 5-traitement_obs_min_max:143 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 15:03:32,377 - INFO - 5-traitement_obs_min_max:150 - Starting DataFrame cleaning and filtering.
2025-08-19 15:03:32,377 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 15:03:32,380 - INFO - 5-traitement_obs_min_max:177 - Final cleaned DataFrame has 47 rows.
2025-08-19 15:03:32,382 - INFO - 5-traitement_obs_min_max:187 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 15:03:32,384 - INFO - 5-traitement_obs_min_max:197 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,384 - INFO - 5-traitement_obs_min_max:204 - Attempting to run next program: 6-create_tables.py
2025-08-19 15:03:32,384 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:33,817 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,817 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:32,925 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:32
2025-08-19 15:03:32,925 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:32
2025-08-19 15:03:32,925 - INFO - 6-create_tables:68 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:32,925 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 15:03:32,929 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:32,959 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 15:03:32,961 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 15:03:32,961 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 15:03:32,963 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:03:32,973 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:03:32,973 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 15:03:32,974 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,980 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,981 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 15:03:32,985 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 15:03:32,985 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 15:03:33,002 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 15:03:33,002 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 15:03:33,002 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 15:03:33,014 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 15:03:33,014 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 15:03:33,014 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 15:03:33,028 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 15:03:33,029 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 15:03:33,029 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 15:03:33,042 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 15:03:33,042 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 15:03:33,042 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 15:03:33,043 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 15:03:33,043 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:33,736 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,737 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:33,647 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-19 15:03:33,647 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:03:33,647 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:33
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:33
2025-08-19 15:03:33,648 - INFO - 7-create_word:78 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:33,648 - INFO - 7-create_word:204 - Defining file paths for Excel, Word template, and output.
2025-08-19 15:03:33,737 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 210, in <module>
    output_word_path = PROJECT_ROOT / "bulletins" / f"Bulletin_Sonelgaz_{date_today}.docx"
NameError: name 'date_today' is not defined. Did you mean: 'AA_today'?
2025-08-19 15:03:33,737 - ERROR - 6-create_tables:266 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 260, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:33,817 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-19 15:03:33,817 - ERROR - 5-traitement_obs_min_max:214 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 208, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:33,957 - ERROR - system_utils:59 - STDERR: 
2025-08-19 15:03:33,957 - ERROR - 4-traitement_obs:218 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 212, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:34,092 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:34,093 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:30,755 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 15:03:30,756 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:30
2025-08-19 15:03:30,756 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:30
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:81 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:114 - Initialized DataFrame with 47 unique stations.
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:142 - Configured to process 5 time steps for observations.
2025-08-19 15:03:30,757 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508180600.bufr for key 'airTemperature'
2025-08-19 15:03:30,886 - INFO - 4-traitement_obs:170 - Merged data for t2m_06 into the main DataFrame.
2025-08-19 15:03:30,887 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181200.bufr for key 'airTemperature'
2025-08-19 15:03:31,005 - INFO - 4-traitement_obs:170 - Merged data for t2m_12 into the main DataFrame.
2025-08-19 15:03:31,006 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'airTemperature'
2025-08-19 15:03:31,113 - INFO - 4-traitement_obs:170 - Merged data for t2m_18 into the main DataFrame.
2025-08-19 15:03:31,114 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508182100.bufr for key 'airTemperature'
2025-08-19 15:03:31,140 - INFO - 4-traitement_obs:170 - Merged data for t2m_21 into the main DataFrame.
2025-08-19 15:03:31,141 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190000.bufr for key 'airTemperature'
2025-08-19 15:03:31,208 - INFO - 4-traitement_obs:170 - Merged data for t2m_24 into the main DataFrame.
2025-08-19 15:03:31,208 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-19 15:03:31,208 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-19 15:03:31,209 - INFO - 4-traitement_obs:188 - Final DataFrame head:
2025-08-19 15:03:31,212 - INFO - 4-traitement_obs:190 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    30.0    41.7    40.7     NaN    31.9
1            ANNABA    26.3    30.0    26.7     NaN    22.5
2      B-B-ARRERIDJ    22.3    35.0    32.7     NaN     NaN
3             BATNA    18.0    32.5    30.2     NaN    18.8
4            BECHAR    24.3    36.4    37.1     NaN    29.0
2025-08-19 15:03:31,214 - INFO - 4-traitement_obs:202 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250819.csv
2025-08-19 15:03:31,214 - INFO - 4-traitement_obs:208 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-19 15:03:31,214 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:33,957 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,957 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:32,105 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:32,106 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:32
2025-08-19 15:03:32,106 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:32
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:69 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:90 - Defined 4 regions with a total of 47 stations.
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:93 - Unique stations identified: 47
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:97 - Initial DataFrame created with all station names.
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:105 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:106 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:116 - Proceeding with available BUFR files.
2025-08-19 15:03:32,107 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 15:03:32,263 - INFO - 5-traitement_obs_min_max:128 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 15:03:32,263 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 15:03:32,376 - INFO - 5-traitement_obs_min_max:143 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 15:03:32,377 - INFO - 5-traitement_obs_min_max:150 - Starting DataFrame cleaning and filtering.
2025-08-19 15:03:32,377 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 15:03:32,380 - INFO - 5-traitement_obs_min_max:177 - Final cleaned DataFrame has 47 rows.
2025-08-19 15:03:32,382 - INFO - 5-traitement_obs_min_max:187 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 15:03:32,384 - INFO - 5-traitement_obs_min_max:197 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,384 - INFO - 5-traitement_obs_min_max:204 - Attempting to run next program: 6-create_tables.py
2025-08-19 15:03:32,384 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:33,817 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,817 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:32,925 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:32
2025-08-19 15:03:32,925 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:32
2025-08-19 15:03:32,925 - INFO - 6-create_tables:68 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:32,925 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 15:03:32,929 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:32,959 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 15:03:32,961 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 15:03:32,961 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 15:03:32,963 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:03:32,973 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:03:32,973 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 15:03:32,974 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,980 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,981 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 15:03:32,985 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 15:03:32,985 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 15:03:33,002 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 15:03:33,002 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 15:03:33,002 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 15:03:33,014 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 15:03:33,014 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 15:03:33,014 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 15:03:33,028 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 15:03:33,029 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 15:03:33,029 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 15:03:33,042 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 15:03:33,042 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 15:03:33,042 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 15:03:33,043 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 15:03:33,043 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:33,736 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,737 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:33,647 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-19 15:03:33,647 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:03:33,647 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:33
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:33
2025-08-19 15:03:33,648 - INFO - 7-create_word:78 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:33,648 - INFO - 7-create_word:204 - Defining file paths for Excel, Word template, and output.
2025-08-19 15:03:33,737 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 210, in <module>
    output_word_path = PROJECT_ROOT / "bulletins" / f"Bulletin_Sonelgaz_{date_today}.docx"
NameError: name 'date_today' is not defined. Did you mean: 'AA_today'?
2025-08-19 15:03:33,737 - ERROR - 6-create_tables:266 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 260, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:33,817 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-19 15:03:33,817 - ERROR - 5-traitement_obs_min_max:214 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 208, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:33,957 - ERROR - system_utils:59 - STDERR: 
2025-08-19 15:03:33,957 - ERROR - 4-traitement_obs:218 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 212, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:34,093 - ERROR - system_utils:59 - STDERR: 
2025-08-19 15:03:34,093 - ERROR - 3-create_forecast_table:212 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 206, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:34,250 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:34,250 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:24,343 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:24
2025-08-19 15:03:24,343 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:24
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:73 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:24,345 - INFO - 3-create_forecast_table:87 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:03:24,347 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:03:24,357 - INFO - 3-create_forecast_table:93 - Successfully loaded 75 stations.
2025-08-19 15:03:24,367 - INFO - 3-create_forecast_table:106 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:03:24,608 - INFO - grib_processor:113 - GRIB file '2t_20250819.grib' opened successfully.
2025-08-19 15:03:24,608 - INFO - 3-create_forecast_table:109 - GRIB file resource successfully opened.
2025-08-19 15:03:24,608 - INFO - 3-create_forecast_table:126 - Starting GRIB data extraction for 2m temperature.
2025-08-19 15:03:24,608 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-19 15:03:29,723 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-19 15:03:29,723 - INFO - 3-create_forecast_table:138 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-19 15:03:29,781 - INFO - 3-create_forecast_table:155 - GRIB file resource closed successfully.
2025-08-19 15:03:29,781 - INFO - 3-create_forecast_table:161 - Calculating min and max temperatures across all time steps for each station.
2025-08-19 15:03:29,782 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-19 15:03:29,782 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-19 15:03:29,782 - INFO - 3-create_forecast_table:166 - Min/Max temperatures calculated successfully.
2025-08-19 15:03:29,782 - INFO - 3-create_forecast_table:174 - Converting results dictionary to pandas DataFrame.
2025-08-19 15:03:29,784 - INFO - 3-create_forecast_table:178 - DataFrame created successfully.
2025-08-19 15:03:29,809 - INFO - 3-create_forecast_table:191 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:29,814 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:29,814 - INFO - 3-create_forecast_table:196 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:29,814 - INFO - 3-create_forecast_table:203 - Attempting to run next program: 4-traitement_obs.py
2025-08-19 15:03:29,814 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:34,092 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:34,093 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:30,755 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 15:03:30,756 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:30
2025-08-19 15:03:30,756 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:30
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:81 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:114 - Initialized DataFrame with 47 unique stations.
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:142 - Configured to process 5 time steps for observations.
2025-08-19 15:03:30,757 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508180600.bufr for key 'airTemperature'
2025-08-19 15:03:30,886 - INFO - 4-traitement_obs:170 - Merged data for t2m_06 into the main DataFrame.
2025-08-19 15:03:30,887 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181200.bufr for key 'airTemperature'
2025-08-19 15:03:31,005 - INFO - 4-traitement_obs:170 - Merged data for t2m_12 into the main DataFrame.
2025-08-19 15:03:31,006 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'airTemperature'
2025-08-19 15:03:31,113 - INFO - 4-traitement_obs:170 - Merged data for t2m_18 into the main DataFrame.
2025-08-19 15:03:31,114 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508182100.bufr for key 'airTemperature'
2025-08-19 15:03:31,140 - INFO - 4-traitement_obs:170 - Merged data for t2m_21 into the main DataFrame.
2025-08-19 15:03:31,141 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190000.bufr for key 'airTemperature'
2025-08-19 15:03:31,208 - INFO - 4-traitement_obs:170 - Merged data for t2m_24 into the main DataFrame.
2025-08-19 15:03:31,208 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-19 15:03:31,208 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-19 15:03:31,209 - INFO - 4-traitement_obs:188 - Final DataFrame head:
2025-08-19 15:03:31,212 - INFO - 4-traitement_obs:190 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    30.0    41.7    40.7     NaN    31.9
1            ANNABA    26.3    30.0    26.7     NaN    22.5
2      B-B-ARRERIDJ    22.3    35.0    32.7     NaN     NaN
3             BATNA    18.0    32.5    30.2     NaN    18.8
4            BECHAR    24.3    36.4    37.1     NaN    29.0
2025-08-19 15:03:31,214 - INFO - 4-traitement_obs:202 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250819.csv
2025-08-19 15:03:31,214 - INFO - 4-traitement_obs:208 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-19 15:03:31,214 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:33,957 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,957 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:32,105 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:32,106 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:32
2025-08-19 15:03:32,106 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:32
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:69 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:90 - Defined 4 regions with a total of 47 stations.
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:93 - Unique stations identified: 47
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:97 - Initial DataFrame created with all station names.
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:105 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:106 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:116 - Proceeding with available BUFR files.
2025-08-19 15:03:32,107 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 15:03:32,263 - INFO - 5-traitement_obs_min_max:128 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 15:03:32,263 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 15:03:32,376 - INFO - 5-traitement_obs_min_max:143 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 15:03:32,377 - INFO - 5-traitement_obs_min_max:150 - Starting DataFrame cleaning and filtering.
2025-08-19 15:03:32,377 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 15:03:32,380 - INFO - 5-traitement_obs_min_max:177 - Final cleaned DataFrame has 47 rows.
2025-08-19 15:03:32,382 - INFO - 5-traitement_obs_min_max:187 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 15:03:32,384 - INFO - 5-traitement_obs_min_max:197 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,384 - INFO - 5-traitement_obs_min_max:204 - Attempting to run next program: 6-create_tables.py
2025-08-19 15:03:32,384 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:33,817 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,817 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:32,925 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:32
2025-08-19 15:03:32,925 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:32
2025-08-19 15:03:32,925 - INFO - 6-create_tables:68 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:32,925 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 15:03:32,929 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:32,959 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 15:03:32,961 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 15:03:32,961 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 15:03:32,963 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:03:32,973 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:03:32,973 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 15:03:32,974 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,980 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,981 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 15:03:32,985 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 15:03:32,985 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 15:03:33,002 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 15:03:33,002 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 15:03:33,002 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 15:03:33,014 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 15:03:33,014 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 15:03:33,014 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 15:03:33,028 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 15:03:33,029 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 15:03:33,029 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 15:03:33,042 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 15:03:33,042 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 15:03:33,042 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 15:03:33,043 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 15:03:33,043 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:33,736 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,737 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:33,647 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-19 15:03:33,647 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:03:33,647 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:33
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:33
2025-08-19 15:03:33,648 - INFO - 7-create_word:78 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:33,648 - INFO - 7-create_word:204 - Defining file paths for Excel, Word template, and output.
2025-08-19 15:03:33,737 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 210, in <module>
    output_word_path = PROJECT_ROOT / "bulletins" / f"Bulletin_Sonelgaz_{date_today}.docx"
NameError: name 'date_today' is not defined. Did you mean: 'AA_today'?
2025-08-19 15:03:33,737 - ERROR - 6-create_tables:266 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 260, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:33,817 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-19 15:03:33,817 - ERROR - 5-traitement_obs_min_max:214 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 208, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:33,957 - ERROR - system_utils:59 - STDERR: 
2025-08-19 15:03:33,957 - ERROR - 4-traitement_obs:218 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 212, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:34,093 - ERROR - system_utils:59 - STDERR: 
2025-08-19 15:03:34,093 - ERROR - 3-create_forecast_table:212 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 206, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:34,251 - ERROR - system_utils:59 - STDERR: 
2025-08-19 15:03:34,251 - ERROR - 2-conv:136 - An error occurred while running 3-create_forecast_table.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py", line 130, in main
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:34,399 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:34,399 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:21,679 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-19 15:03:21,679 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:03:21,679 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:21,679 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:21,679 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:21,679 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:03:21,679 - INFO - 2-conv:55 - Processing for date: 20250819
2025-08-19 15:03:21,679 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-19 15:03:21,679 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2. Processing this branch.
2025-08-19 15:03:21,680 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-19 15:03:21,680 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2' to 't2m00-12.grib'.
2025-08-19 15:03:21,680 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:22,074 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:03:22,074 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2' to 't2m12-24.grib'.
2025-08-19 15:03:22,074 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:22,516 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:03:22,516 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2' to 't2m24-36.grib'.
2025-08-19 15:03:22,516 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:22,921 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:03:22,921 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2' to 't2m36-48.grib'.
2025-08-19 15:03:22,922 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:23,295 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:03:23,295 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:03:23,295 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:03:23,345 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:03:23,345 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:03:23,345 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-19 15:03:23,347 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-19 15:03:23,349 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-19 15:03:23,351 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-19 15:03:23,353 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-19 15:03:23,353 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-19 15:03:23,354 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-19 15:03:23,354 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:03:23,354 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-19 15:03:23,354 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:34,250 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:34,250 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:24,343 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:24
2025-08-19 15:03:24,343 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:24
2025-08-19 15:03:24,343 - INFO - 3-create_forecast_table:73 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:24,345 - INFO - 3-create_forecast_table:87 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:03:24,347 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:03:24,357 - INFO - 3-create_forecast_table:93 - Successfully loaded 75 stations.
2025-08-19 15:03:24,367 - INFO - 3-create_forecast_table:106 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:03:24,608 - INFO - grib_processor:113 - GRIB file '2t_20250819.grib' opened successfully.
2025-08-19 15:03:24,608 - INFO - 3-create_forecast_table:109 - GRIB file resource successfully opened.
2025-08-19 15:03:24,608 - INFO - 3-create_forecast_table:126 - Starting GRIB data extraction for 2m temperature.
2025-08-19 15:03:24,608 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-19 15:03:29,723 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-19 15:03:29,723 - INFO - 3-create_forecast_table:138 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-19 15:03:29,781 - INFO - 3-create_forecast_table:155 - GRIB file resource closed successfully.
2025-08-19 15:03:29,781 - INFO - 3-create_forecast_table:161 - Calculating min and max temperatures across all time steps for each station.
2025-08-19 15:03:29,782 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-19 15:03:29,782 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-19 15:03:29,782 - INFO - 3-create_forecast_table:166 - Min/Max temperatures calculated successfully.
2025-08-19 15:03:29,782 - INFO - 3-create_forecast_table:174 - Converting results dictionary to pandas DataFrame.
2025-08-19 15:03:29,784 - INFO - 3-create_forecast_table:178 - DataFrame created successfully.
2025-08-19 15:03:29,809 - INFO - 3-create_forecast_table:191 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:29,814 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:29,814 - INFO - 3-create_forecast_table:196 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:29,814 - INFO - 3-create_forecast_table:203 - Attempting to run next program: 4-traitement_obs.py
2025-08-19 15:03:29,814 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:34,092 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:34,093 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:30,755 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 15:03:30,756 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:30
2025-08-19 15:03:30,756 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:30
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:81 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:114 - Initialized DataFrame with 47 unique stations.
2025-08-19 15:03:30,756 - INFO - 4-traitement_obs:142 - Configured to process 5 time steps for observations.
2025-08-19 15:03:30,757 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508180600.bufr for key 'airTemperature'
2025-08-19 15:03:30,886 - INFO - 4-traitement_obs:170 - Merged data for t2m_06 into the main DataFrame.
2025-08-19 15:03:30,887 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181200.bufr for key 'airTemperature'
2025-08-19 15:03:31,005 - INFO - 4-traitement_obs:170 - Merged data for t2m_12 into the main DataFrame.
2025-08-19 15:03:31,006 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'airTemperature'
2025-08-19 15:03:31,113 - INFO - 4-traitement_obs:170 - Merged data for t2m_18 into the main DataFrame.
2025-08-19 15:03:31,114 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508182100.bufr for key 'airTemperature'
2025-08-19 15:03:31,140 - INFO - 4-traitement_obs:170 - Merged data for t2m_21 into the main DataFrame.
2025-08-19 15:03:31,141 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190000.bufr for key 'airTemperature'
2025-08-19 15:03:31,208 - INFO - 4-traitement_obs:170 - Merged data for t2m_24 into the main DataFrame.
2025-08-19 15:03:31,208 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-19 15:03:31,208 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-19 15:03:31,209 - INFO - 4-traitement_obs:188 - Final DataFrame head:
2025-08-19 15:03:31,212 - INFO - 4-traitement_obs:190 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    30.0    41.7    40.7     NaN    31.9
1            ANNABA    26.3    30.0    26.7     NaN    22.5
2      B-B-ARRERIDJ    22.3    35.0    32.7     NaN     NaN
3             BATNA    18.0    32.5    30.2     NaN    18.8
4            BECHAR    24.3    36.4    37.1     NaN    29.0
2025-08-19 15:03:31,214 - INFO - 4-traitement_obs:202 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250819.csv
2025-08-19 15:03:31,214 - INFO - 4-traitement_obs:208 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-19 15:03:31,214 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:33,957 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,957 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:32,105 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:32,106 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:32
2025-08-19 15:03:32,106 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:32
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:69 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:90 - Defined 4 regions with a total of 47 stations.
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:93 - Unique stations identified: 47
2025-08-19 15:03:32,106 - INFO - 5-traitement_obs_min_max:97 - Initial DataFrame created with all station names.
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:105 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:106 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 15:03:32,107 - INFO - 5-traitement_obs_min_max:116 - Proceeding with available BUFR files.
2025-08-19 15:03:32,107 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 15:03:32,263 - INFO - 5-traitement_obs_min_max:128 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 15:03:32,263 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 15:03:32,376 - INFO - 5-traitement_obs_min_max:143 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 15:03:32,377 - INFO - 5-traitement_obs_min_max:150 - Starting DataFrame cleaning and filtering.
2025-08-19 15:03:32,377 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 15:03:32,380 - INFO - 5-traitement_obs_min_max:177 - Final cleaned DataFrame has 47 rows.
2025-08-19 15:03:32,382 - INFO - 5-traitement_obs_min_max:187 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 15:03:32,384 - INFO - 5-traitement_obs_min_max:197 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,384 - INFO - 5-traitement_obs_min_max:204 - Attempting to run next program: 6-create_tables.py
2025-08-19 15:03:32,384 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:33,817 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,817 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:32,925 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:32
2025-08-19 15:03:32,925 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:32
2025-08-19 15:03:32,925 - INFO - 6-create_tables:68 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:32,925 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 15:03:32,929 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:03:32,959 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 15:03:32,961 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 15:03:32,961 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 15:03:32,963 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:03:32,973 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:03:32,973 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 15:03:32,974 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,980 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:03:32,981 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 15:03:32,985 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 15:03:32,985 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 15:03:32,987 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 15:03:33,002 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 15:03:33,002 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 15:03:33,002 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 15:03:33,014 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 15:03:33,014 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 15:03:33,014 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 15:03:33,028 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 15:03:33,029 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 15:03:33,029 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 15:03:33,042 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 15:03:33,042 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 15:03:33,042 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 15:03:33,043 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 15:03:33,043 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:03:33,736 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-19 15:03:33,737 - ERROR - system_utils:58 - STDOUT: 2025-08-19 15:03:33,647 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-19 15:03:33,647 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:03:33,647 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:03:33,647 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:03:33
2025-08-19 15:03:33,647 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:03:33
2025-08-19 15:03:33,648 - INFO - 7-create_word:78 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:03:33,648 - INFO - 7-create_word:204 - Defining file paths for Excel, Word template, and output.
2025-08-19 15:03:33,737 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 210, in <module>
    output_word_path = PROJECT_ROOT / "bulletins" / f"Bulletin_Sonelgaz_{date_today}.docx"
NameError: name 'date_today' is not defined. Did you mean: 'AA_today'?
2025-08-19 15:03:33,737 - ERROR - 6-create_tables:266 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 260, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:33,817 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:221: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-19 15:03:33,817 - ERROR - 5-traitement_obs_min_max:214 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 208, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:33,957 - ERROR - system_utils:59 - STDERR: 
2025-08-19 15:03:33,957 - ERROR - 4-traitement_obs:218 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 212, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:34,093 - ERROR - system_utils:59 - STDERR: 
2025-08-19 15:03:34,093 - ERROR - 3-create_forecast_table:212 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 206, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:34,251 - ERROR - system_utils:59 - STDERR: 
2025-08-19 15:03:34,251 - ERROR - 2-conv:136 - An error occurred while running 3-create_forecast_table.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py", line 130, in main
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:03:34,400 - ERROR - system_utils:59 - STDERR: 
2025-08-19 15:03:34,400 - ERROR - 1-get_arpege:163 - An error occurred while running 2-conv.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get_arpege.py", line 157, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-19 15:08:54,956 - INFO - 1-get_arpege:67 - --- Script '1-get_arpege.py' started ---
2025-08-19 15:08:54,956 - INFO - 1-get_arpege:68 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:08:54,956 - INFO - 1-get_arpege:69 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:08:54,957 - INFO - 1-get_arpege:70 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:08:54,957 - INFO - 1-get_arpege:71 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:08:54,957 - INFO - 1-get_arpege:72 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:08:54,957 - INFO - 1-get_arpege:73 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-19 15:08:54,957 - INFO - 1-get_arpege:76 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:08:54,957 - INFO - 1-get_arpege:88 - Fetching files for date: 20250819 with pattern: *SP1*20250819000*
2025-08-19 15:08:54,957 - INFO - 1-get_arpege:91 - Checking if files exist on FTP server...
2025-08-19 15:08:54,957 - INFO - fetchdata:48 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250819000*)...
2025-08-19 15:08:54,957 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 15:08:55,204 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 15:08:55,210 - INFO - fetchdata:61 - Found 9 files matching pattern '*SP1*20250819000*'.
2025-08-19 15:08:55,211 - INFO - 1-get_arpege:119 - Found 9 matching files on FTP server:
2025-08-19 15:08:55,211 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:55,211 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:55,211 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:55,211 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:55,211 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:55,211 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:55,211 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:55,211 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:55,211 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:55,211 - INFO - 1-get_arpege:124 - Proceeding with FTP download.
2025-08-19 15:08:55,212 - INFO - 1-get_arpege:125 - Downloading files matching pattern '*SP1*20250819000*' from /share/meteofrance/Arpege_Orig to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-19 15:08:55,212 - INFO - fetchdata:76 - Starting FTP file fetch process.
2025-08-19 15:08:55,212 - INFO - fetchdata:15 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-19 15:08:55,427 - INFO - fetchdata:18 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-19 15:08:55,427 - INFO - fetchdata:85 - Changed remote directory to: /share/meteofrance/Arpege_Orig
2025-08-19 15:08:55,427 - INFO - fetchdata:92 - Looking for files matching pattern: '*SP1*20250819000*'
2025-08-19 15:08:55,428 - INFO - fetchdata:96 - Local download directory: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:08:55,432 - INFO - fetchdata:105 - Found 9 files matching pattern on remote server.
2025-08-19 15:08:55,432 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:55,882 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:56,046 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:56,676 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:56,860 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:57,329 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:57,532 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:58,047 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:58,228 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:58,943 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:59,213 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 15:08:59,847 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-19 15:09:00,092 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 15:09:00,622 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-19 15:09:00,823 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 15:09:01,368 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-19 15:09:01,609 - INFO - fetchdata:118 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 15:09:01,907 - INFO - fetchdata:121 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-19 15:09:02,007 - INFO - fetchdata:129 - FTP file fetch process completed.
2025-08-19 15:09:02,008 - INFO - 1-get_arpege:137 - FTP transfer completed successfully.
2025-08-19 15:09:02,008 - INFO - 1-get_arpege:151 - Successfully verified 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-19 15:09:02,008 - INFO - 1-get_arpege:154 - Attempting to run next program: 2-conv.py
2025-08-19 15:09:02,008 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:09:02,838 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-19 15:09:02,838 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:09:02,838 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:09:02,838 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:09:02,838 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:09:02,839 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-19 15:09:02,839 - INFO - 2-conv:55 - Processing for date: 20250819
2025-08-19 15:09:02,839 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-19 15:09:02,839 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2. Processing this branch.
2025-08-19 15:09:02,839 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-19 15:09:02,839 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2' to 't2m00-12.grib'.
2025-08-19 15:09:02,839 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:09:03,272 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:09:03,272 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2' to 't2m12-24.grib'.
2025-08-19 15:09:03,272 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:09:03,696 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:09:03,696 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2' to 't2m24-36.grib'.
2025-08-19 15:09:03,696 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:09:04,122 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:09:04,122 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2' to 't2m36-48.grib'.
2025-08-19 15:09:04,122 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:09:04,532 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-19 15:09:04,532 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:09:04,532 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:09:04,572 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib'.
2025-08-19 15:09:04,572 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:09:04,573 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-19 15:09:04,575 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-19 15:09:04,577 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-19 15:09:04,579 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-19 15:09:04,581 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-19 15:09:04,581 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-19 15:09:04,581 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-19 15:09:04,581 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:09:04,582 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-19 15:09:04,582 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:09:05,539 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-19 15:09:05,539 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:09:05,539 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:09:05,539 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:09:05,539 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:09:05,539 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:09:05,539 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:09:05
2025-08-19 15:09:05,539 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:09:05
2025-08-19 15:09:05,540 - INFO - 3-create_forecast_table:73 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:09:05,541 - INFO - 3-create_forecast_table:87 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:09:05,543 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-19 15:09:05,555 - INFO - 3-create_forecast_table:93 - Successfully loaded 75 stations.
2025-08-19 15:09:05,566 - INFO - 3-create_forecast_table:106 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-19 15:09:05,831 - INFO - grib_processor:113 - GRIB file '2t_20250819.grib' opened successfully.
2025-08-19 15:09:05,831 - INFO - 3-create_forecast_table:109 - GRIB file resource successfully opened.
2025-08-19 15:09:05,831 - INFO - 3-create_forecast_table:126 - Starting GRIB data extraction for 2m temperature.
2025-08-19 15:09:05,831 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-19 15:09:11,140 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-19 15:09:11,140 - INFO - 3-create_forecast_table:138 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-19 15:09:11,196 - INFO - 3-create_forecast_table:155 - GRIB file resource closed successfully.
2025-08-19 15:09:11,196 - INFO - 3-create_forecast_table:161 - Calculating min and max temperatures across all time steps for each station.
2025-08-19 15:09:11,196 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-19 15:09:11,196 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-19 15:09:11,196 - INFO - 3-create_forecast_table:166 - Min/Max temperatures calculated successfully.
2025-08-19 15:09:11,196 - INFO - 3-create_forecast_table:174 - Converting results dictionary to pandas DataFrame.
2025-08-19 15:09:11,198 - INFO - 3-create_forecast_table:178 - DataFrame created successfully.
2025-08-19 15:09:11,225 - INFO - 3-create_forecast_table:191 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:09:11,230 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:09:11,230 - INFO - 3-create_forecast_table:196 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:09:11,230 - INFO - 3-create_forecast_table:203 - Attempting to run next program: 4-traitement_obs.py
2025-08-19 15:09:11,230 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:09:12,177 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:09:12,177 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-19 15:09:12,177 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-19 15:09:12,177 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:09:12
2025-08-19 15:09:12,177 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:09:12
2025-08-19 15:09:12,177 - INFO - 4-traitement_obs:81 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:09:12,178 - INFO - 4-traitement_obs:114 - Initialized DataFrame with 47 unique stations.
2025-08-19 15:09:12,178 - INFO - 4-traitement_obs:142 - Configured to process 5 time steps for observations.
2025-08-19 15:09:12,178 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508180600.bufr for key 'airTemperature'
2025-08-19 15:09:12,310 - INFO - 4-traitement_obs:170 - Merged data for t2m_06 into the main DataFrame.
2025-08-19 15:09:12,310 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181200.bufr for key 'airTemperature'
2025-08-19 15:09:12,420 - INFO - 4-traitement_obs:170 - Merged data for t2m_12 into the main DataFrame.
2025-08-19 15:09:12,420 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'airTemperature'
2025-08-19 15:09:12,527 - INFO - 4-traitement_obs:170 - Merged data for t2m_18 into the main DataFrame.
2025-08-19 15:09:12,527 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508182100.bufr for key 'airTemperature'
2025-08-19 15:09:12,554 - INFO - 4-traitement_obs:170 - Merged data for t2m_21 into the main DataFrame.
2025-08-19 15:09:12,555 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190000.bufr for key 'airTemperature'
2025-08-19 15:09:12,621 - INFO - 4-traitement_obs:170 - Merged data for t2m_24 into the main DataFrame.
2025-08-19 15:09:12,621 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-19 15:09:12,621 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-19 15:09:12,621 - INFO - 4-traitement_obs:188 - Final DataFrame head:
2025-08-19 15:09:12,625 - INFO - 4-traitement_obs:190 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    30.0    41.7    40.7     NaN    31.9
1            ANNABA    26.3    30.0    26.7     NaN    22.5
2      B-B-ARRERIDJ    22.3    35.0    32.7     NaN     NaN
3             BATNA    18.0    32.5    30.2     NaN    18.8
4            BECHAR    24.3    36.4    37.1     NaN    29.0
2025-08-19 15:09:12,627 - INFO - 4-traitement_obs:202 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250819.csv
2025-08-19 15:09:12,627 - INFO - 4-traitement_obs:208 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-19 15:09:12,627 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:09:13,529 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-19 15:09:13,529 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:09:13,529 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:09:13,530 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:09:13
2025-08-19 15:09:13,530 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:09:13
2025-08-19 15:09:13,530 - INFO - 5-traitement_obs_min_max:69 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:09:13,530 - INFO - 5-traitement_obs_min_max:90 - Defined 4 regions with a total of 47 stations.
2025-08-19 15:09:13,530 - INFO - 5-traitement_obs_min_max:93 - Unique stations identified: 47
2025-08-19 15:09:13,530 - INFO - 5-traitement_obs_min_max:97 - Initial DataFrame created with all station names.
2025-08-19 15:09:13,530 - INFO - 5-traitement_obs_min_max:105 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508190600.bufr
2025-08-19 15:09:13,530 - INFO - 5-traitement_obs_min_max:106 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/18/Synop_202508181800.bufr
2025-08-19 15:09:13,530 - INFO - 5-traitement_obs_min_max:116 - Proceeding with available BUFR files.
2025-08-19 15:09:13,531 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 15:09:13,683 - INFO - 5-traitement_obs_min_max:128 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-19 15:09:13,683 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/18/Synop_202508181800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-19 15:09:13,792 - INFO - 5-traitement_obs_min_max:143 - Successfully merged Tmax data. Stations with Tmax: 87
2025-08-19 15:09:13,792 - INFO - 5-traitement_obs_min_max:150 - Starting DataFrame cleaning and filtering.
2025-08-19 15:09:13,792 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-19 15:09:13,796 - INFO - 5-traitement_obs_min_max:177 - Final cleaned DataFrame has 47 rows.
2025-08-19 15:09:13,798 - INFO - 5-traitement_obs_min_max:187 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-19 15:09:13,800 - INFO - 5-traitement_obs_min_max:197 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:09:13,800 - INFO - 5-traitement_obs_min_max:204 - Attempting to run next program: 6-create_tables.py
2025-08-19 15:09:13,800 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:09:14,379 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:09:14
2025-08-19 15:09:14,379 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-18 15:09:14
2025-08-19 15:09:14,379 - INFO - 6-create_tables:68 - Processed dates - Today: 2025-08-19, Yesterday: 2025-08-18
2025-08-19 15:09:14,379 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-19 15:09:14,382 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250819.csv
2025-08-19 15:09:14,414 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-19 15:09:14,415 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-19 15:09:14,415 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-19 15:09:14,416 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:09:14,426 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250819.csv
2025-08-19 15:09:14,426 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-19 15:09:14,427 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:09:14,434 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250819.csv
2025-08-19 15:09:14,434 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-19 15:09:14,438 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-19 15:09:14,438 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-19 15:09:14,440 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-19 15:09:14,440 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-19 15:09:14,440 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-19 15:09:14,455 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-19 15:09:14,455 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 15:09:14,455 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-19 15:09:14,468 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-19 15:09:14,468 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 15:09:14,468 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-19 15:09:14,481 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-19 15:09:14,481 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 15:09:14,481 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-19 15:09:14,494 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-19 15:09:14,494 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 15:09:14,494 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-19 15:09:14,495 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-19 15:09:14,495 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:09:15,069 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-19 15:09:15,069 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:09:15,069 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:09:15,069 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:09:15,070 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:09:15,070 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-19 15:09:15,070 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:09:15
2025-08-19 15:09:15,070 - INFO - date_time_utils:49 - Converter created for date relative to now: 1 days offset. Date: 2025-08-20 15:09:15
2025-08-19 15:09:15,070 - INFO - 7-create_word:75 - Processed dates - Today: 19-08-2025, Tomorrow: 20-08-2025
2025-08-19 15:09:15,070 - INFO - 7-create_word:202 - Defining file paths for Excel, Word template, and output.
2025-08-19 15:09:15,070 - INFO - 7-create_word:210 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 15:09:15,070 - INFO - 7-create_word:211 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 15:09:15,070 - INFO - 7-create_word:212 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 15:09:15,070 - INFO - 7-create_word:213 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 15:09:15,070 - INFO - 7-create_word:214 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 15:09:15,070 - INFO - 7-create_word:215 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 15:09:15,070 - INFO - 7-create_word:219 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-19 15:09:15,070 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-19 15:09:15,078 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-19 15:09:15,078 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-19 15:09:15,084 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-19 15:09:15,084 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-19 15:09:15,090 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-19 15:09:15,090 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-19 15:09:15,096 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-19 15:09:15,096 - INFO - 7-create_word:225 - All Excel workbooks loaded successfully.
2025-08-19 15:09:15,097 - INFO - 7-create_word:233 - Loading Word template...
2025-08-19 15:09:15,154 - INFO - 7-create_word:237 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-19 15:09:15,154 - INFO - 7-create_word:248 - Updating dates in the Word document using local modify_paragraph function.
2025-08-19 15:09:15,155 - INFO - 7-create_word:99 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-19 15:09:15,156 - INFO - 7-create_word:122 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 19-08-2025'.
2025-08-19 15:09:15,157 - INFO - 7-create_word:99 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-19 15:09:15,157 - INFO - 7-create_word:122 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 20-08-2025'.
2025-08-19 15:09:15,157 - INFO - 7-create_word:252 - Dates in Word document updated successfully.
2025-08-19 15:09:15,157 - INFO - 7-create_word:259 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-19 15:09:15,157 - INFO - 7-create_word:139 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-19 15:09:15,815 - INFO - 7-create_word:177 - Applying formatting to table: 'Ouest Region Table'.
2025-08-19 15:09:15,853 - INFO - 7-create_word:198 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-19 15:09:15,853 - INFO - 7-create_word:139 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-19 15:09:16,255 - INFO - 7-create_word:177 - Applying formatting to table: 'Centre Region Table'.
2025-08-19 15:09:16,284 - INFO - 7-create_word:198 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-19 15:09:16,284 - INFO - 7-create_word:139 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-19 15:09:17,043 - INFO - 7-create_word:177 - Applying formatting to table: 'Est Region Table'.
2025-08-19 15:09:17,083 - INFO - 7-create_word:198 - Finished updating and formatting table: 'Est Region Table'.
2025-08-19 15:09:17,083 - INFO - 7-create_word:139 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-19 15:09:17,967 - INFO - 7-create_word:177 - Applying formatting to table: 'Sud Region Table'.
2025-08-19 15:09:18,009 - INFO - 7-create_word:198 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-19 15:09:18,009 - INFO - 7-create_word:266 - All specified tables in Word document updated successfully.
2025-08-19 15:09:18,009 - INFO - 7-create_word:277 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 15:09:18,303 - INFO - 7-create_word:282 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 15:09:18,303 - INFO - 7-create_word:286 - CONFIRMATION: File 'Bulletin_Sonelgaz_19-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962563 bytes).
2025-08-19 15:09:18,303 - INFO - 7-create_word:299 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-19 15:09:18,303 - INFO - 7-create_word:302 - Temporary files cleanup complete.
2025-08-19 15:09:18,303 - INFO - 7-create_word:309 - Attempting to run next program: 8-send_MSG.py
2025-08-19 15:09:18,303 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-19 15:09:18,368 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-19 15:09:18,368 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-19 15:09:18,368 - DEBUG - date_time_utils:49 - Internal datetime set to datetime object: 2025-08-19 15:09:18.368532.
2025-08-19 15:09:18,368 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-19 15:09:18
2025-08-19 15:09:18,368 - DEBUG - 8-send_MSG:74 - Today's date components: Year=2025, Month=08, Day=19
2025-08-19 15:09:18,368 - DEBUG - 8-send_MSG:77 - Base data path determined as: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-19 15:09:18,368 - INFO - 8-send_MSG:83 - Expected bulletin file path: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 15:09:18,368 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-19 15:09:18,369 - WARNING - file_operations:245 - File not found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/grib_2025081900_0000. Skipping this operation.
2025-08-19 15:09:18,369 - INFO - 8-send_MSG:97 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-19 15:09:18,369 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 15:09:18,369 - INFO - 8-send_MSG:108 - Attempting to send email with bulletin: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx
2025-08-19 15:09:18,369 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 19/08/2025 Généré avec ARPEGE'
2025-08-19 15:09:18,369 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx')]
2025-08-19 15:09:18,474 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-19 15:09:18,475 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-19 15:09:18,475 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx'
2025-08-19 15:09:18,475 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_19-08-2025.docx'. Attempting to open and attach.
2025-08-19 15:09:18,591 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_19-08-2025.docx'
2025-08-19 15:09:19,219 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-19 15:09:19,226 - INFO - 8-send_MSG:121 - Bulletin email process completed successfully.
2025-08-19 15:09:19,226 - INFO - 8-send_MSG:127 - Script execution finished.
2025-08-19 15:09:19,254 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 15:09:19,255 - INFO - 7-create_word:316 - Successfully executed 8-send_MSG.py.
2025-08-19 15:09:19,255 - INFO - 7-create_word:324 - --- Script '7-create_word.py' finished. ---
2025-08-19 15:09:19,358 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 15:09:19,358 - INFO - 6-create_tables:264 - Successfully executed 7-create_word.py.
2025-08-19 15:09:19,359 - INFO - 6-create_tables:273 - --- Script '6-create_tables.py' finished. ---
2025-08-19 15:09:19,441 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 15:09:19,441 - INFO - 5-traitement_obs_min_max:212 - Successfully executed 6-create_tables.py.
2025-08-19 15:09:19,441 - INFO - 5-traitement_obs_min_max:221 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-19 15:09:19,570 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 15:09:19,570 - INFO - 4-traitement_obs:216 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-19 15:09:19,570 - INFO - 4-traitement_obs:225 - --- Script '4-traitement_obs.py' finished. ---
2025-08-19 15:09:19,700 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 15:09:19,700 - INFO - 3-create_forecast_table:210 - Successfully executed 4-traitement_obs.py.
2025-08-19 15:09:19,700 - INFO - 3-create_forecast_table:218 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-19 15:09:19,833 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 15:09:19,833 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-19 15:09:19,833 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-19 15:09:19,953 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-19 15:09:19,953 - INFO - 1-get_arpege:161 - Successfully executed 2-conv.py.
2025-08-19 15:09:19,953 - INFO - 1-get_arpege:170 - --- Script '1-get_arpege.py' finished. ---
2025-08-20 08:40:40,622 - INFO - 1-get-aladin:47 - Configuration loaded directly from script variables.
2025-08-20 08:40:40,623 - INFO - 1-get-aladin:172 - --- Main script execution started ---
2025-08-20 08:40:40,623 - INFO - 1-get-aladin:53 - Reading current date and calculating next dates using FlexibleDateTimeConverter.
2025-08-20 08:40:40,623 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-20 08:40:40
2025-08-20 08:40:40,623 - INFO - date_time_utils:49 - Converter created for date relative to now: 1 days offset. Date: 2025-08-21 08:40:40
2025-08-20 08:40:40,623 - INFO - date_time_utils:49 - Converter created for date relative to now: 2 days offset. Date: 2025-08-22 08:40:40
2025-08-20 08:40:40,623 - INFO - 1-get-aladin:80 - Starting SFTP file fetching process for date 2025-08-20.
2025-08-20 08:40:40,624 - INFO - 1-get-aladin:112 - All 49 files for 2025-08-20 appear to be present locally. Verifying sizes with remote server.
2025-08-20 08:40:40,624 - INFO - fetchdata:151 - Attempting to create SFTP client for login2.fennec.meteo.dz:22 with user wchikhi.
2025-08-20 08:40:40,645 - INFO - transport:1844 - Connected (version 2.0, client OpenSSH_8.0)
2025-08-20 08:40:40,738 - INFO - transport:1844 - Authentication (password) successful!
2025-08-20 08:40:40,739 - INFO - fetchdata:156 - Successfully connected to SFTP server: login2.fennec.meteo.dz
2025-08-20 08:40:45,298 - INFO - sftp:158 - [chan 0] Opened sftp connection (server version 3)
2025-08-20 08:40:45,300 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0000 already exists and sizes match (9311132 bytes). Skipping download.
2025-08-20 08:40:45,303 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0001 already exists and sizes match (9330014 bytes). Skipping download.
2025-08-20 08:40:45,304 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0002 already exists and sizes match (9183888 bytes). Skipping download.
2025-08-20 08:40:45,306 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0003 already exists and sizes match (9090220 bytes). Skipping download.
2025-08-20 08:40:45,308 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0004 already exists and sizes match (8926742 bytes). Skipping download.
2025-08-20 08:40:45,310 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0005 already exists and sizes match (9003380 bytes). Skipping download.
2025-08-20 08:40:45,312 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0006 already exists and sizes match (9053076 bytes). Skipping download.
2025-08-20 08:40:45,314 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0007 already exists and sizes match (9111916 bytes). Skipping download.
2025-08-20 08:40:45,316 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0008 already exists and sizes match (9001182 bytes). Skipping download.
2025-08-20 08:40:45,318 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0009 already exists and sizes match (9006496 bytes). Skipping download.
2025-08-20 08:40:45,320 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0010 already exists and sizes match (8970906 bytes). Skipping download.
2025-08-20 08:40:45,322 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0011 already exists and sizes match (8950950 bytes). Skipping download.
2025-08-20 08:40:45,324 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0012 already exists and sizes match (8940760 bytes). Skipping download.
2025-08-20 08:40:45,326 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0013 already exists and sizes match (8948520 bytes). Skipping download.
2025-08-20 08:40:45,328 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0014 already exists and sizes match (9029268 bytes). Skipping download.
2025-08-20 08:40:45,330 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0015 already exists and sizes match (9057552 bytes). Skipping download.
2025-08-20 08:40:45,332 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0016 already exists and sizes match (9054908 bytes). Skipping download.
2025-08-20 08:40:45,334 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0017 already exists and sizes match (9100258 bytes). Skipping download.
2025-08-20 08:40:45,336 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0018 already exists and sizes match (9094616 bytes). Skipping download.
2025-08-20 08:40:45,338 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0019 already exists and sizes match (9076666 bytes). Skipping download.
2025-08-20 08:40:45,340 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0020 already exists and sizes match (9108510 bytes). Skipping download.
2025-08-20 08:40:45,342 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0021 already exists and sizes match (9119280 bytes). Skipping download.
2025-08-20 08:40:45,344 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0022 already exists and sizes match (9092246 bytes). Skipping download.
2025-08-20 08:40:45,346 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0023 already exists and sizes match (9075558 bytes). Skipping download.
2025-08-20 08:40:45,348 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0024 already exists and sizes match (9093534 bytes). Skipping download.
2025-08-20 08:40:45,350 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0025 already exists and sizes match (9056828 bytes). Skipping download.
2025-08-20 08:40:45,352 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0026 already exists and sizes match (9070856 bytes). Skipping download.
2025-08-20 08:40:45,354 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0027 already exists and sizes match (9019778 bytes). Skipping download.
2025-08-20 08:40:45,356 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0028 already exists and sizes match (8948896 bytes). Skipping download.
2025-08-20 08:40:45,358 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0029 already exists and sizes match (8936742 bytes). Skipping download.
2025-08-20 08:40:45,359 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0030 already exists and sizes match (8914622 bytes). Skipping download.
2025-08-20 08:40:45,361 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0031 already exists and sizes match (8825842 bytes). Skipping download.
2025-08-20 08:40:45,363 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0032 already exists and sizes match (8744854 bytes). Skipping download.
2025-08-20 08:40:45,365 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0033 already exists and sizes match (8755876 bytes). Skipping download.
2025-08-20 08:40:45,367 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0034 already exists and sizes match (8704384 bytes). Skipping download.
2025-08-20 08:40:45,369 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0035 already exists and sizes match (8709328 bytes). Skipping download.
2025-08-20 08:40:45,371 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0036 already exists and sizes match (8679600 bytes). Skipping download.
2025-08-20 08:40:45,373 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0037 already exists and sizes match (8682202 bytes). Skipping download.
2025-08-20 08:40:45,376 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0038 already exists and sizes match (8710130 bytes). Skipping download.
2025-08-20 08:40:45,378 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0039 already exists and sizes match (8703730 bytes). Skipping download.
2025-08-20 08:40:45,380 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0040 already exists and sizes match (8706912 bytes). Skipping download.
2025-08-20 08:40:45,382 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0041 already exists and sizes match (8732688 bytes). Skipping download.
2025-08-20 08:40:45,384 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0042 already exists and sizes match (8775862 bytes). Skipping download.
2025-08-20 08:40:45,386 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0043 already exists and sizes match (8797148 bytes). Skipping download.
2025-08-20 08:40:45,388 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0044 already exists and sizes match (8851260 bytes). Skipping download.
2025-08-20 08:40:45,390 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0045 already exists and sizes match (8828100 bytes). Skipping download.
2025-08-20 08:40:45,392 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0046 already exists and sizes match (8836570 bytes). Skipping download.
2025-08-20 08:40:45,394 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0047 already exists and sizes match (8834464 bytes). Skipping download.
2025-08-20 08:40:45,397 - INFO - 1-get-aladin:141 - Local file grib_2025082000_0048 already exists and sizes match (8827436 bytes). Skipping download.
2025-08-20 08:40:45,397 - INFO - sftp:158 - [chan 0] sftp session closed.
2025-08-20 08:40:45,398 - INFO - 1-get-aladin:157 - SFTP client closed.
2025-08-20 08:40:45,398 - INFO - 1-get-aladin:163 - Daily download summary for 2025-08-20: 49/49 files are present/downloaded. 0 files were not found on remote.
2025-08-20 08:40:45,398 - INFO - 1-get-aladin:182 - Attempting to run next program: 2-conv.py
2025-08-20 08:40:45,399 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:46,313 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-20 08:40:46,313 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 08:40:46,313 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 08:40:46,313 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 08:40:46,313 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 08:40:46,313 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 08:40:46,313 - INFO - 2-conv:55 - Processing for date: 20250820
2025-08-20 08:40:46,313 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-20 08:40:46,313 - INFO - 2-conv:96 - Primary ARPEGE file not found. Found alternative GRIB file: grib_2025082000_0000. Processing this branch.
2025-08-20 08:40:46,313 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-20 08:40:46,313 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0000' to 't2m00.grib'.
2025-08-20 08:40:46,314 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0000 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:46,393 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:46,393 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0001' to 't2m01.grib'.
2025-08-20 08:40:46,393 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0001 /home/aoumeur/bqrm/sonelgaz/tmp/t2m01.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:46,473 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:46,473 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0002' to 't2m02.grib'.
2025-08-20 08:40:46,473 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0002 /home/aoumeur/bqrm/sonelgaz/tmp/t2m02.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:46,553 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:46,553 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0003' to 't2m03.grib'.
2025-08-20 08:40:46,553 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0003 /home/aoumeur/bqrm/sonelgaz/tmp/t2m03.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:46,633 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:46,633 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0004' to 't2m04.grib'.
2025-08-20 08:40:46,633 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0004 /home/aoumeur/bqrm/sonelgaz/tmp/t2m04.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:46,713 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:46,713 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0005' to 't2m05.grib'.
2025-08-20 08:40:46,713 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0005 /home/aoumeur/bqrm/sonelgaz/tmp/t2m05.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:46,792 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:46,793 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0006' to 't2m06.grib'.
2025-08-20 08:40:46,793 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0006 /home/aoumeur/bqrm/sonelgaz/tmp/t2m06.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:46,872 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:46,872 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0007' to 't2m07.grib'.
2025-08-20 08:40:46,872 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0007 /home/aoumeur/bqrm/sonelgaz/tmp/t2m07.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:46,952 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:46,953 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0008' to 't2m08.grib'.
2025-08-20 08:40:46,953 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0008 /home/aoumeur/bqrm/sonelgaz/tmp/t2m08.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:47,033 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:47,033 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0009' to 't2m09.grib'.
2025-08-20 08:40:47,033 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0009 /home/aoumeur/bqrm/sonelgaz/tmp/t2m09.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:47,113 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:47,113 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0010' to 't2m10.grib'.
2025-08-20 08:40:47,113 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0010 /home/aoumeur/bqrm/sonelgaz/tmp/t2m10.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:47,192 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:47,192 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0011' to 't2m11.grib'.
2025-08-20 08:40:47,192 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0011 /home/aoumeur/bqrm/sonelgaz/tmp/t2m11.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:47,272 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:47,272 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0012' to 't2m12.grib'.
2025-08-20 08:40:47,272 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0012 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:47,352 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:47,352 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0013' to 't2m13.grib'.
2025-08-20 08:40:47,352 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0013 /home/aoumeur/bqrm/sonelgaz/tmp/t2m13.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:47,433 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:47,434 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0014' to 't2m14.grib'.
2025-08-20 08:40:47,434 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0014 /home/aoumeur/bqrm/sonelgaz/tmp/t2m14.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:47,516 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:47,516 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0015' to 't2m15.grib'.
2025-08-20 08:40:47,517 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0015 /home/aoumeur/bqrm/sonelgaz/tmp/t2m15.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:47,598 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:47,598 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0016' to 't2m16.grib'.
2025-08-20 08:40:47,598 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0016 /home/aoumeur/bqrm/sonelgaz/tmp/t2m16.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:47,679 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:47,679 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0017' to 't2m17.grib'.
2025-08-20 08:40:47,679 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0017 /home/aoumeur/bqrm/sonelgaz/tmp/t2m17.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:47,759 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:47,759 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0018' to 't2m18.grib'.
2025-08-20 08:40:47,759 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0018 /home/aoumeur/bqrm/sonelgaz/tmp/t2m18.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:47,839 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:47,839 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0019' to 't2m19.grib'.
2025-08-20 08:40:47,839 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0019 /home/aoumeur/bqrm/sonelgaz/tmp/t2m19.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:47,920 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:47,920 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0020' to 't2m20.grib'.
2025-08-20 08:40:47,920 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0020 /home/aoumeur/bqrm/sonelgaz/tmp/t2m20.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:47,999 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:47,999 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0021' to 't2m21.grib'.
2025-08-20 08:40:47,999 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0021 /home/aoumeur/bqrm/sonelgaz/tmp/t2m21.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:48,078 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:48,078 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0022' to 't2m22.grib'.
2025-08-20 08:40:48,078 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0022 /home/aoumeur/bqrm/sonelgaz/tmp/t2m22.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:48,158 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:48,158 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0023' to 't2m23.grib'.
2025-08-20 08:40:48,159 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0023 /home/aoumeur/bqrm/sonelgaz/tmp/t2m23.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:48,239 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:48,239 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0024' to 't2m24.grib'.
2025-08-20 08:40:48,239 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0024 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:48,319 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:48,319 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0025' to 't2m25.grib'.
2025-08-20 08:40:48,319 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0025 /home/aoumeur/bqrm/sonelgaz/tmp/t2m25.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:48,399 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:48,399 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0026' to 't2m26.grib'.
2025-08-20 08:40:48,399 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0026 /home/aoumeur/bqrm/sonelgaz/tmp/t2m26.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:48,478 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:48,478 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0027' to 't2m27.grib'.
2025-08-20 08:40:48,479 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0027 /home/aoumeur/bqrm/sonelgaz/tmp/t2m27.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:48,571 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:48,571 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0028' to 't2m28.grib'.
2025-08-20 08:40:48,571 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0028 /home/aoumeur/bqrm/sonelgaz/tmp/t2m28.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:48,663 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:48,663 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0029' to 't2m29.grib'.
2025-08-20 08:40:48,663 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0029 /home/aoumeur/bqrm/sonelgaz/tmp/t2m29.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:48,751 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:48,751 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0030' to 't2m30.grib'.
2025-08-20 08:40:48,752 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0030 /home/aoumeur/bqrm/sonelgaz/tmp/t2m30.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:48,839 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:48,840 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0031' to 't2m31.grib'.
2025-08-20 08:40:48,840 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0031 /home/aoumeur/bqrm/sonelgaz/tmp/t2m31.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:48,919 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:48,919 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0032' to 't2m32.grib'.
2025-08-20 08:40:48,920 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0032 /home/aoumeur/bqrm/sonelgaz/tmp/t2m32.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:48,999 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:48,999 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0033' to 't2m33.grib'.
2025-08-20 08:40:48,999 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0033 /home/aoumeur/bqrm/sonelgaz/tmp/t2m33.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:49,077 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:49,077 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0034' to 't2m34.grib'.
2025-08-20 08:40:49,077 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0034 /home/aoumeur/bqrm/sonelgaz/tmp/t2m34.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:49,166 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:49,166 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0035' to 't2m35.grib'.
2025-08-20 08:40:49,166 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0035 /home/aoumeur/bqrm/sonelgaz/tmp/t2m35.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:49,254 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:49,254 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0036' to 't2m36.grib'.
2025-08-20 08:40:49,254 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0036 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:49,343 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:49,343 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0037' to 't2m37.grib'.
2025-08-20 08:40:49,343 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0037 /home/aoumeur/bqrm/sonelgaz/tmp/t2m37.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:49,430 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:49,431 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0038' to 't2m38.grib'.
2025-08-20 08:40:49,431 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0038 /home/aoumeur/bqrm/sonelgaz/tmp/t2m38.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:49,518 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:49,518 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0039' to 't2m39.grib'.
2025-08-20 08:40:49,519 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0039 /home/aoumeur/bqrm/sonelgaz/tmp/t2m39.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:49,606 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:49,606 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0040' to 't2m40.grib'.
2025-08-20 08:40:49,606 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0040 /home/aoumeur/bqrm/sonelgaz/tmp/t2m40.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:49,694 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:49,694 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0041' to 't2m41.grib'.
2025-08-20 08:40:49,694 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0041 /home/aoumeur/bqrm/sonelgaz/tmp/t2m41.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:49,781 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:49,781 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0042' to 't2m42.grib'.
2025-08-20 08:40:49,781 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0042 /home/aoumeur/bqrm/sonelgaz/tmp/t2m42.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:49,870 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:49,870 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0043' to 't2m43.grib'.
2025-08-20 08:40:49,870 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0043 /home/aoumeur/bqrm/sonelgaz/tmp/t2m43.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:49,959 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:49,959 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0044' to 't2m44.grib'.
2025-08-20 08:40:49,959 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0044 /home/aoumeur/bqrm/sonelgaz/tmp/t2m44.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:50,046 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:50,046 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0045' to 't2m45.grib'.
2025-08-20 08:40:50,046 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0045 /home/aoumeur/bqrm/sonelgaz/tmp/t2m45.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:50,134 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:50,134 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0046' to 't2m46.grib'.
2025-08-20 08:40:50,134 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0046 /home/aoumeur/bqrm/sonelgaz/tmp/t2m46.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:50,221 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:50,222 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0047' to 't2m47.grib'.
2025-08-20 08:40:50,222 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0047 /home/aoumeur/bqrm/sonelgaz/tmp/t2m47.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:50,310 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:50,310 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082000_0048' to 't2m48.grib'.
2025-08-20 08:40:50,311 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0048 /home/aoumeur/bqrm/sonelgaz/tmp/t2m48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:50,398 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 08:40:50,398 - INFO - grib_processor:69 - Merging 49 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 08:40:50,399 - INFO - file_operations:129 - Starting merge of 49 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 08:40:50,406 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 08:40:50,406 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 08:40:50,406 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-20 08:40:50,406 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00.grib
2025-08-20 08:40:50,406 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m01.grib
2025-08-20 08:40:50,406 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m02.grib
2025-08-20 08:40:50,407 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m03.grib
2025-08-20 08:40:50,407 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m04.grib
2025-08-20 08:40:50,407 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m05.grib
2025-08-20 08:40:50,407 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m06.grib
2025-08-20 08:40:50,407 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m07.grib
2025-08-20 08:40:50,407 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m08.grib
2025-08-20 08:40:50,407 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m09.grib
2025-08-20 08:40:50,407 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m10.grib
2025-08-20 08:40:50,408 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m11.grib
2025-08-20 08:40:50,408 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12.grib
2025-08-20 08:40:50,408 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m13.grib
2025-08-20 08:40:50,408 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m14.grib
2025-08-20 08:40:50,408 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m15.grib
2025-08-20 08:40:50,408 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m16.grib
2025-08-20 08:40:50,408 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m17.grib
2025-08-20 08:40:50,408 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m18.grib
2025-08-20 08:40:50,409 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m19.grib
2025-08-20 08:40:50,409 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m20.grib
2025-08-20 08:40:50,409 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m21.grib
2025-08-20 08:40:50,409 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m22.grib
2025-08-20 08:40:50,409 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m23.grib
2025-08-20 08:40:50,409 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24.grib
2025-08-20 08:40:50,409 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m25.grib
2025-08-20 08:40:50,409 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m26.grib
2025-08-20 08:40:50,410 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m27.grib
2025-08-20 08:40:50,410 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m28.grib
2025-08-20 08:40:50,410 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m29.grib
2025-08-20 08:40:50,410 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m30.grib
2025-08-20 08:40:50,410 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m31.grib
2025-08-20 08:40:50,410 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m32.grib
2025-08-20 08:40:50,410 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m33.grib
2025-08-20 08:40:50,410 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m34.grib
2025-08-20 08:40:50,411 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m35.grib
2025-08-20 08:40:50,411 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36.grib
2025-08-20 08:40:50,411 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m37.grib
2025-08-20 08:40:50,411 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m38.grib
2025-08-20 08:40:50,411 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m39.grib
2025-08-20 08:40:50,411 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m40.grib
2025-08-20 08:40:50,411 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m41.grib
2025-08-20 08:40:50,411 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m42.grib
2025-08-20 08:40:50,412 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m43.grib
2025-08-20 08:40:50,412 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m44.grib
2025-08-20 08:40:50,412 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m45.grib
2025-08-20 08:40:50,412 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m46.grib
2025-08-20 08:40:50,412 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m47.grib
2025-08-20 08:40:50,412 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m48.grib
2025-08-20 08:40:50,412 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-20 08:40:50,412 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-20 08:40:50,412 - INFO - 2-conv:118 - Alternative GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 08:40:50,412 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-20 08:40:50,412 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:51,302 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-20 08:40:51,302 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 08:40:51,302 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 08:40:51,302 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 08:40:51,302 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 08:40:51,302 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 08:40:51,302 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-20 08:40:51
2025-08-20 08:40:51,302 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-19 08:40:51
2025-08-20 08:40:51,302 - INFO - 3-create_forecast_table:73 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 08:40:51,303 - INFO - 3-create_forecast_table:87 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 08:40:51,305 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 08:40:51,315 - INFO - 3-create_forecast_table:93 - Successfully loaded 75 stations.
2025-08-20 08:40:51,324 - INFO - 3-create_forecast_table:106 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 08:40:51,528 - INFO - grib_processor:113 - GRIB file '2t_20250820.grib' opened successfully.
2025-08-20 08:40:51,528 - INFO - 3-create_forecast_table:109 - GRIB file resource successfully opened.
2025-08-20 08:40:51,529 - INFO - 3-create_forecast_table:126 - Starting GRIB data extraction for 2m temperature.
2025-08-20 08:40:51,529 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-20 08:40:54,484 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-20 08:40:54,484 - INFO - 3-create_forecast_table:138 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-20 08:40:54,511 - INFO - 3-create_forecast_table:155 - GRIB file resource closed successfully.
2025-08-20 08:40:54,512 - INFO - 3-create_forecast_table:161 - Calculating min and max temperatures across all time steps for each station.
2025-08-20 08:40:54,512 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-20 08:40:54,512 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-20 08:40:54,512 - INFO - 3-create_forecast_table:166 - Min/Max temperatures calculated successfully.
2025-08-20 08:40:54,512 - INFO - 3-create_forecast_table:174 - Converting results dictionary to pandas DataFrame.
2025-08-20 08:40:54,514 - INFO - 3-create_forecast_table:178 - DataFrame created successfully.
2025-08-20 08:40:54,538 - INFO - 3-create_forecast_table:191 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 08:40:54,544 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 08:40:54,544 - INFO - 3-create_forecast_table:196 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 08:40:54,544 - INFO - 3-create_forecast_table:203 - Attempting to run next program: 4-traitement_obs.py
2025-08-20 08:40:54,544 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:55,424 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 08:40:55,424 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 08:40:55,424 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 08:40:55,424 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-20 08:40:55
2025-08-20 08:40:55,424 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-19 08:40:55
2025-08-20 08:40:55,424 - INFO - 4-traitement_obs:81 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 08:40:55,425 - INFO - 4-traitement_obs:114 - Initialized DataFrame with 47 unique stations.
2025-08-20 08:40:55,425 - INFO - 4-traitement_obs:142 - Configured to process 5 time steps for observations.
2025-08-20 08:40:55,425 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 08:40:55,575 - INFO - 4-traitement_obs:170 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 08:40:55,576 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 08:40:55,682 - INFO - 4-traitement_obs:170 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 08:40:55,682 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 08:40:55,782 - INFO - 4-traitement_obs:170 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 08:40:55,782 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 08:40:55,812 - INFO - 4-traitement_obs:170 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 08:40:55,812 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 08:40:55,882 - INFO - 4-traitement_obs:170 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 08:40:55,882 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 08:40:55,882 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 08:40:55,883 - INFO - 4-traitement_obs:188 - Final DataFrame head:
2025-08-20 08:40:55,886 - INFO - 4-traitement_obs:190 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 08:40:55,888 - INFO - 4-traitement_obs:202 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 08:40:55,888 - INFO - 4-traitement_obs:208 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 08:40:55,888 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:56,773 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-20 08:40:56,773 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 08:40:56,773 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 08:40:56,774 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-20 08:40:56
2025-08-20 08:40:56,774 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-19 08:40:56
2025-08-20 08:40:56,774 - INFO - 5-traitement_obs_min_max:69 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 08:40:56,774 - INFO - 5-traitement_obs_min_max:90 - Defined 4 regions with a total of 47 stations.
2025-08-20 08:40:56,774 - INFO - 5-traitement_obs_min_max:93 - Unique stations identified: 47
2025-08-20 08:40:56,774 - INFO - 5-traitement_obs_min_max:97 - Initial DataFrame created with all station names.
2025-08-20 08:40:56,774 - INFO - 5-traitement_obs_min_max:105 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 08:40:56,774 - INFO - 5-traitement_obs_min_max:106 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 08:40:56,774 - INFO - 5-traitement_obs_min_max:116 - Proceeding with available BUFR files.
2025-08-20 08:40:56,775 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 08:40:56,925 - INFO - 5-traitement_obs_min_max:128 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 08:40:56,925 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 08:40:57,026 - INFO - 5-traitement_obs_min_max:143 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 08:40:57,026 - INFO - 5-traitement_obs_min_max:150 - Starting DataFrame cleaning and filtering.
2025-08-20 08:40:57,026 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 08:40:57,029 - INFO - 5-traitement_obs_min_max:177 - Final cleaned DataFrame has 47 rows.
2025-08-20 08:40:57,031 - INFO - 5-traitement_obs_min_max:187 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 08:40:57,033 - INFO - 5-traitement_obs_min_max:197 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 08:40:57,033 - INFO - 5-traitement_obs_min_max:204 - Attempting to run next program: 6-create_tables.py
2025-08-20 08:40:57,033 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:57,621 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-20 08:40:57
2025-08-20 08:40:57,621 - INFO - date_time_utils:49 - Converter created for date relative to now: -1 days offset. Date: 2025-08-19 08:40:57
2025-08-20 08:40:57,621 - INFO - 6-create_tables:68 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 08:40:57,622 - INFO - 6-create_tables:78 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 08:40:57,625 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 08:40:57,655 - INFO - 6-create_tables:92 - Processing arpege data for 't_demain_arp'.
2025-08-20 08:40:57,656 - INFO - 6-create_tables:107 - Arpege data processed successfully.
2025-08-20 08:40:57,656 - INFO - 6-create_tables:121 - Loading and processing observations data.
2025-08-20 08:40:57,657 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 08:40:57,665 - INFO - 6-create_tables:138 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 08:40:57,666 - INFO - 6-create_tables:148 - Loading and processing observations min/max data.
2025-08-20 08:40:57,667 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 08:40:57,672 - INFO - 6-create_tables:162 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 08:40:57,672 - INFO - 6-create_tables:171 - Merging all processed dataframes into 'full_table'.
2025-08-20 08:40:57,676 - INFO - 6-create_tables:177 - Dataframes merged successfully.
2025-08-20 08:40:57,676 - INFO - 6-create_tables:183 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 08:40:57,678 - INFO - 6-create_tables:192 - Columns reindexed and missing values filled.
2025-08-20 08:40:57,678 - INFO - 6-create_tables:215 - Starting processing and saving Excel files for each region.
2025-08-20 08:40:57,678 - INFO - 6-create_tables:218 - Processing region: Ouest
2025-08-20 08:40:57,690 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 08:40:57,690 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 08:40:57,690 - INFO - 6-create_tables:218 - Processing region: Centre
2025-08-20 08:40:57,702 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 08:40:57,702 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 08:40:57,702 - INFO - 6-create_tables:218 - Processing region: Est
2025-08-20 08:40:57,713 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 08:40:57,714 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 08:40:57,714 - INFO - 6-create_tables:218 - Processing region: Sud
2025-08-20 08:40:57,725 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 08:40:57,725 - INFO - 6-create_tables:245 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 08:40:57,725 - INFO - 6-create_tables:252 - All regional Excel files processed and created successfully.
2025-08-20 08:40:57,725 - INFO - 6-create_tables:256 - Attempting to run next program: 7-create_word.py
2025-08-20 08:40:57,725 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:40:58,289 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-20 08:40:58,289 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 08:40:58,289 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 08:40:58,289 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 08:40:58,289 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 08:40:58,289 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 08:40:58,289 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-20 08:40:58
2025-08-20 08:40:58,289 - INFO - date_time_utils:49 - Converter created for date relative to now: 1 days offset. Date: 2025-08-21 08:40:58
2025-08-20 08:40:58,289 - INFO - 7-create_word:75 - Processed dates - Today: 20-08-2025, Tomorrow: 21-08-2025
2025-08-20 08:40:58,289 - INFO - 7-create_word:202 - Defining file paths for Excel, Word template, and output.
2025-08-20 08:40:58,289 - INFO - 7-create_word:210 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 08:40:58,289 - INFO - 7-create_word:211 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 08:40:58,289 - INFO - 7-create_word:212 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 08:40:58,290 - INFO - 7-create_word:213 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 08:40:58,290 - INFO - 7-create_word:214 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 08:40:58,290 - INFO - 7-create_word:215 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 08:40:58,290 - INFO - 7-create_word:219 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 08:40:58,290 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 08:40:58,297 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 08:40:58,297 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 08:40:58,303 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 08:40:58,303 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 08:40:58,309 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 08:40:58,309 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 08:40:58,316 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 08:40:58,316 - INFO - 7-create_word:225 - All Excel workbooks loaded successfully.
2025-08-20 08:40:58,316 - INFO - 7-create_word:233 - Loading Word template...
2025-08-20 08:40:58,373 - INFO - 7-create_word:237 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 08:40:58,374 - INFO - 7-create_word:248 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 08:40:58,374 - INFO - 7-create_word:99 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 08:40:58,375 - INFO - 7-create_word:122 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 08:40:58,376 - INFO - 7-create_word:99 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 08:40:58,376 - INFO - 7-create_word:122 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 08:40:58,376 - INFO - 7-create_word:252 - Dates in Word document updated successfully.
2025-08-20 08:40:58,376 - INFO - 7-create_word:259 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 08:40:58,376 - INFO - 7-create_word:139 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 08:40:59,036 - INFO - 7-create_word:177 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 08:40:59,073 - INFO - 7-create_word:198 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 08:40:59,073 - INFO - 7-create_word:139 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 08:40:59,472 - INFO - 7-create_word:177 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 08:40:59,501 - INFO - 7-create_word:198 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 08:40:59,501 - INFO - 7-create_word:139 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 08:41:00,252 - INFO - 7-create_word:177 - Applying formatting to table: 'Est Region Table'.
2025-08-20 08:41:00,291 - INFO - 7-create_word:198 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 08:41:00,291 - INFO - 7-create_word:139 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 08:41:01,168 - INFO - 7-create_word:177 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 08:41:01,210 - INFO - 7-create_word:198 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 08:41:01,210 - INFO - 7-create_word:266 - All specified tables in Word document updated successfully.
2025-08-20 08:41:01,210 - INFO - 7-create_word:277 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 08:41:01,506 - INFO - 7-create_word:282 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 08:41:01,506 - INFO - 7-create_word:286 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962599 bytes).
2025-08-20 08:41:01,506 - INFO - 7-create_word:299 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 08:41:01,506 - INFO - 7-create_word:302 - Temporary files cleanup complete.
2025-08-20 08:41:01,506 - INFO - 7-create_word:309 - Attempting to run next program: 8-send_MSG.py
2025-08-20 08:41:01,506 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 08:41:01,571 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 08:41:01,571 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-20 08:41:01,571 - DEBUG - date_time_utils:49 - Internal datetime set to datetime object: 2025-08-20 08:41:01.571718.
2025-08-20 08:41:01,571 - INFO - date_time_utils:49 - Converter created for date relative to now: 0 days offset. Date: 2025-08-20 08:41:01
2025-08-20 08:41:01,571 - DEBUG - 8-send_MSG:74 - Today's date components: Year=2025, Month=08, Day=20
2025-08-20 08:41:01,572 - DEBUG - 8-send_MSG:77 - Base data path determined as: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 08:41:01,572 - INFO - 8-send_MSG:83 - Expected bulletin file path: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 08:41:01,572 - WARNING - file_operations:245 - File not found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2. Skipping this operation.
2025-08-20 08:41:01,572 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/grib_2025082000_0000
2025-08-20 08:41:01,572 - INFO - 8-send_MSG:101 - ALADIN GRIB file found. Setting email subject/body for ALADIN model.
2025-08-20 08:41:01,572 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 08:41:01,572 - INFO - 8-send_MSG:108 - Attempting to send email with bulletin: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 08:41:01,572 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 20/08/2025 Généré avec ALADIN'
2025-08-20 08:41:01,572 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx')]
2025-08-20 08:41:01,662 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-20 08:41:01,662 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-20 08:41:01,663 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx'
2025-08-20 08:41:01,663 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx'. Attempting to open and attach.
2025-08-20 08:41:01,778 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_20-08-2025.docx'
2025-08-20 08:41:02,429 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-20 08:41:02,434 - INFO - 8-send_MSG:121 - Bulletin email process completed successfully.
2025-08-20 08:41:02,435 - INFO - 8-send_MSG:127 - Script execution finished.
2025-08-20 08:41:02,446 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 08:41:02,446 - INFO - 7-create_word:316 - Successfully executed 8-send_MSG.py.
2025-08-20 08:41:02,446 - INFO - 7-create_word:324 - --- Script '7-create_word.py' finished. ---
2025-08-20 08:41:02,540 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 08:41:02,540 - INFO - 6-create_tables:264 - Successfully executed 7-create_word.py.
2025-08-20 08:41:02,540 - INFO - 6-create_tables:273 - --- Script '6-create_tables.py' finished. ---
2025-08-20 08:41:02,624 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 08:41:02,624 - INFO - 5-traitement_obs_min_max:212 - Successfully executed 6-create_tables.py.
2025-08-20 08:41:02,624 - INFO - 5-traitement_obs_min_max:221 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-20 08:41:02,755 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 08:41:02,755 - INFO - 4-traitement_obs:216 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-20 08:41:02,755 - INFO - 4-traitement_obs:225 - --- Script '4-traitement_obs.py' finished. ---
2025-08-20 08:41:02,885 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 08:41:02,885 - INFO - 3-create_forecast_table:210 - Successfully executed 4-traitement_obs.py.
2025-08-20 08:41:02,885 - INFO - 3-create_forecast_table:218 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-20 08:41:03,014 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 08:41:03,014 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-20 08:41:03,014 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-20 08:41:03,131 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 08:41:03,131 - INFO - 1-get-aladin:190 - Successfully executed 2-conv.py.
2025-08-20 08:41:03,131 - INFO - 1-get-aladin:200 - --- Script '1-get-aladin.py' finished. ---
2025-08-20 09:10:02,424 - INFO - 1-get_arpege:67 - --- Script '1-get_arpege.py' started ---
2025-08-20 09:10:02,424 - INFO - 1-get_arpege:68 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 09:10:02,424 - INFO - 1-get_arpege:69 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:02,424 - INFO - 1-get_arpege:70 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:02,424 - INFO - 1-get_arpege:71 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:02,424 - INFO - 1-get_arpege:72 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 09:10:02,424 - INFO - 1-get_arpege:73 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-20 09:10:02,424 - INFO - 1-get_arpege:76 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 09:10:02,424 - INFO - 1-get_arpege:88 - Fetching files for date: 20250820 with pattern: *SP1*20250820000*
2025-08-20 09:10:02,424 - INFO - 1-get_arpege:91 - Checking if files exist on FTP server...
2025-08-20 09:10:02,424 - INFO - fetchdata:49 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250820000*)...
2025-08-20 09:10:02,424 - INFO - fetchdata:16 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-20 09:10:02,699 - INFO - fetchdata:19 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-20 09:10:02,713 - INFO - fetchdata:62 - Found 9 files matching pattern '*SP1*20250820000*'.
2025-08-20 09:10:02,714 - INFO - 1-get_arpege:119 - Found 9 matching files on FTP server:
2025-08-20 09:10:02,714 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:02,714 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:02,714 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:02,715 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:02,715 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:02,715 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:02,715 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:02,715 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:02,715 - INFO - 1-get_arpege:121 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:02,715 - INFO - 1-get_arpege:124 - Proceeding with FTP download.
2025-08-20 09:10:02,716 - INFO - 1-get_arpege:125 - Downloading files matching pattern '*SP1*20250820000*' from /share/meteofrance/Arpege_Orig to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-20 09:10:02,716 - INFO - fetchdata:77 - Starting FTP file fetch process.
2025-08-20 09:10:02,716 - INFO - fetchdata:16 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-20 09:10:02,936 - INFO - fetchdata:19 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-20 09:10:02,937 - INFO - fetchdata:86 - Changed remote directory to: /share/meteofrance/Arpege_Orig
2025-08-20 09:10:02,938 - INFO - fetchdata:93 - Looking for files matching pattern: '*SP1*20250820000*'
2025-08-20 09:10:02,938 - INFO - fetchdata:97 - Local download directory: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 09:10:02,949 - INFO - fetchdata:106 - Found 9 files matching pattern on remote server.
2025-08-20 09:10:02,949 - INFO - fetchdata:119 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:06,883 - INFO - fetchdata:122 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:06,884 - INFO - fetchdata:119 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:10,973 - INFO - fetchdata:122 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:10,973 - INFO - fetchdata:119 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:15,480 - INFO - fetchdata:122 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:15,480 - INFO - fetchdata:119 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:19,609 - INFO - fetchdata:122 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:19,609 - INFO - fetchdata:119 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:23,758 - INFO - fetchdata:122 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:23,758 - INFO - fetchdata:119 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:27,811 - INFO - fetchdata:122 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:27,811 - INFO - fetchdata:119 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:31,949 - INFO - fetchdata:122 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:31,949 - INFO - fetchdata:119 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:36,059 - INFO - fetchdata:122 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:36,060 - INFO - fetchdata:119 - Downloading W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:38,138 - INFO - fetchdata:122 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2
2025-08-20 09:10:38,138 - INFO - fetchdata:130 - FTP file fetch process completed.
2025-08-20 09:10:38,138 - INFO - 1-get_arpege:137 - FTP transfer completed successfully.
2025-08-20 09:10:38,139 - INFO - 1-get_arpege:151 - Successfully verified 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-20 09:10:38,139 - INFO - 1-get_arpege:154 - Attempting to run next program: 2-conv.py
2025-08-20 09:10:38,139 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:40,092 - INFO - 2-conv:41 - --- Script '2-conv.py' started ---
2025-08-20 09:10:40,092 - INFO - 2-conv:42 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 09:10:40,092 - INFO - 2-conv:43 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:40,093 - INFO - 2-conv:44 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:40,093 - INFO - 2-conv:45 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:40,093 - INFO - 2-conv:46 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 09:10:40,093 - INFO - 2-conv:56 - Processing for date: 20250820
2025-08-20 09:10:40,093 - INFO - 2-conv:57 - Starting extraction of temperature from ARPEGE files.
2025-08-20 09:10:40,093 - INFO - 2-conv:66 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2. Processing this branch.
2025-08-20 09:10:40,093 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-20 09:10:40,093 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2' to 't2m00-12.grib'.
2025-08-20 09:10:40,093 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:40,557 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 09:10:40,557 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2' to 't2m12-24.grib'.
2025-08-20 09:10:40,557 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:40,733 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 09:10:40,733 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2' to 't2m24-36.grib'.
2025-08-20 09:10:40,733 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:40,904 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 09:10:40,904 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2' to 't2m36-48.grib'.
2025-08-20 09:10:40,905 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:41,077 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 09:10:41,077 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 09:10:41,077 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 09:10:41,150 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 09:10:41,150 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 09:10:41,150 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-20 09:10:41,152 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-20 09:10:41,155 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-20 09:10:41,157 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-20 09:10:41,159 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-20 09:10:41,160 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-20 09:10:41,160 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-20 09:10:41,160 - INFO - 2-conv:91 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 09:10:41,160 - INFO - 2-conv:128 - Attempting to run next program: 3-create_forecast_table.py
2025-08-20 09:10:41,160 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:51 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:52 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:53 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:54 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:55 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:71 - Preparing dates for data processing.
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:78 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 09:10:42,135 - INFO - 3-create_forecast_table:93 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 09:10:42,137 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 09:10:42,148 - INFO - 3-create_forecast_table:99 - Successfully loaded 75 stations.
2025-08-20 09:10:42,157 - INFO - 3-create_forecast_table:112 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 09:10:42,518 - INFO - grib_processor:113 - GRIB file '2t_20250820.grib' opened successfully.
2025-08-20 09:10:42,518 - INFO - 3-create_forecast_table:115 - GRIB file resource successfully opened.
2025-08-20 09:10:42,519 - INFO - 3-create_forecast_table:132 - Starting GRIB data extraction for 2m temperature.
2025-08-20 09:10:42,519 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-20 09:10:47,433 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-20 09:10:47,433 - INFO - 3-create_forecast_table:144 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-20 09:10:47,482 - INFO - 3-create_forecast_table:161 - GRIB file resource closed successfully.
2025-08-20 09:10:47,482 - INFO - 3-create_forecast_table:167 - Calculating min and max temperatures across all time steps for each station.
2025-08-20 09:10:47,482 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-20 09:10:47,482 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-20 09:10:47,483 - INFO - 3-create_forecast_table:172 - Min/Max temperatures calculated successfully.
2025-08-20 09:10:47,483 - INFO - 3-create_forecast_table:180 - Converting results dictionary to pandas DataFrame.
2025-08-20 09:10:47,485 - INFO - 3-create_forecast_table:184 - DataFrame created successfully.
2025-08-20 09:10:47,510 - INFO - 3-create_forecast_table:197 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:47,515 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:47,515 - INFO - 3-create_forecast_table:202 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:47,515 - INFO - 3-create_forecast_table:209 - Attempting to run next program: 4-traitement_obs.py
2025-08-20 09:10:47,515 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:49 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:53 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:59 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:83 - Processing data for today (2025-08-20) and yesterday (2025-08-19).
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:110 - Initialized DataFrame with 47 unique stations.
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:138 - Configured to process 5 time steps for observations.
2025-08-20 09:10:48,413 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 09:10:48,580 - INFO - 4-traitement_obs:166 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 09:10:48,580 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 09:10:48,687 - INFO - 4-traitement_obs:166 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 09:10:48,688 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 09:10:48,788 - INFO - 4-traitement_obs:166 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 09:10:48,789 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 09:10:48,819 - INFO - 4-traitement_obs:166 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 09:10:48,819 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 09:10:48,890 - INFO - 4-traitement_obs:166 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 09:10:48,890 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 09:10:48,890 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 09:10:48,890 - INFO - 4-traitement_obs:184 - Final DataFrame head:
2025-08-20 09:10:48,893 - INFO - 4-traitement_obs:186 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 09:10:48,895 - INFO - 4-traitement_obs:198 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 09:10:48,895 - INFO - 4-traitement_obs:204 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 09:10:48,896 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-20 09:10:49,787 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 09:10:49,938 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 09:10:49,938 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 09:10:50,039 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 09:10:50,039 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-20 09:10:50,039 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 09:10:50,042 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-20 09:10:50,044 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 09:10:50,046 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,046 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-20 09:10:50,046 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:50,580 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 09:10:50,580 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 09:10:50,580 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 09:10:50,583 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:50,611 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 09:10:50,612 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 09:10:50,612 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 09:10:50,613 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 09:10:50,622 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 09:10:50,622 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 09:10:50,623 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,629 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,629 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 09:10:50,633 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 09:10:50,633 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 09:10:50,647 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 09:10:50,648 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:50,648 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 09:10:50,659 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 09:10:50,659 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:50,659 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 09:10:50,671 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 09:10:50,671 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:50,671 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 09:10:50,682 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 09:10:50,683 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:50,683 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 09:10:50,683 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 09:10:50,683 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:51,391 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 09:10:51,391 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 09:10:51,391 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 09:10:51,391 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 09:10:51,392 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 09:10:51,392 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 09:10:51,392 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,400 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 09:10:51,400 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,406 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 09:10:51,407 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,413 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 09:10:51,414 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,421 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 09:10:51,421 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 09:10:51,421 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 09:10:51,482 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,482 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 09:10:51,483 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 09:10:51,484 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 09:10:51,485 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 09:10:51,485 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 09:10:51,486 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 09:10:51,486 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 09:10:51,486 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 09:10:52,264 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 09:10:52,793 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 09:10:53,706 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 09:10:53,746 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 09:10:53,747 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 09:10:54,625 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 09:10:54,667 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 09:10:54,958 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 09:10:54,958 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 09:10:54,958 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 09:10:54,959 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,056 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,057 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 09:10:55,057 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 12, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 09:10:55,057 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,152 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,152 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:51,391 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 09:10:51,391 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 09:10:51,391 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 09:10:51,391 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 09:10:51,392 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 09:10:51,392 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 09:10:51,392 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,400 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 09:10:51,400 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,406 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 09:10:51,407 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,413 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 09:10:51,414 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,421 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 09:10:51,421 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 09:10:51,421 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 09:10:51,482 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,482 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 09:10:51,483 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 09:10:51,484 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 09:10:51,485 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 09:10:51,485 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 09:10:51,486 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 09:10:51,486 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 09:10:51,486 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 09:10:52,264 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 09:10:52,793 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 09:10:53,706 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 09:10:53,746 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 09:10:53,747 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 09:10:54,625 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 09:10:54,667 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 09:10:54,958 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 09:10:54,958 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 09:10:54,958 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 09:10:54,959 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,056 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,057 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 09:10:55,057 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 12, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 09:10:55,057 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,152 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,152 - ERROR - 6-create_tables:267 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 261, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,232 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,232 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:50,580 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 09:10:50,580 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 09:10:50,580 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 09:10:50,583 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:50,611 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 09:10:50,612 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 09:10:50,612 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 09:10:50,613 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 09:10:50,622 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 09:10:50,622 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 09:10:50,623 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,629 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,629 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 09:10:50,633 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 09:10:50,633 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 09:10:50,647 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 09:10:50,648 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:50,648 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 09:10:50,659 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 09:10:50,659 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:50,659 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 09:10:50,671 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 09:10:50,671 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:50,671 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 09:10:50,682 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 09:10:50,683 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:50,683 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 09:10:50,683 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 09:10:50,683 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,152 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,152 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:51,391 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 09:10:51,391 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 09:10:51,391 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 09:10:51,391 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 09:10:51,392 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 09:10:51,392 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 09:10:51,392 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,400 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 09:10:51,400 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,406 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 09:10:51,407 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,413 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 09:10:51,414 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,421 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 09:10:51,421 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 09:10:51,421 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 09:10:51,482 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,482 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 09:10:51,483 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 09:10:51,484 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 09:10:51,485 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 09:10:51,485 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 09:10:51,486 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 09:10:51,486 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 09:10:51,486 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 09:10:52,264 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 09:10:52,793 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 09:10:53,706 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 09:10:53,746 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 09:10:53,747 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 09:10:54,625 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 09:10:54,667 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 09:10:54,958 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 09:10:54,958 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 09:10:54,958 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 09:10:54,959 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,056 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,057 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 09:10:55,057 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 12, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 09:10:55,057 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,152 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,152 - ERROR - 6-create_tables:267 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 261, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,232 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-20 09:10:55,233 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,364 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,364 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-20 09:10:49,787 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 09:10:49,938 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 09:10:49,938 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 09:10:50,039 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 09:10:50,039 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-20 09:10:50,039 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 09:10:50,042 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-20 09:10:50,044 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 09:10:50,046 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,046 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-20 09:10:50,046 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,232 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,232 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:50,580 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 09:10:50,580 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 09:10:50,580 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 09:10:50,583 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:50,611 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 09:10:50,612 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 09:10:50,612 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 09:10:50,613 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 09:10:50,622 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 09:10:50,622 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 09:10:50,623 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,629 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,629 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 09:10:50,633 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 09:10:50,633 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 09:10:50,647 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 09:10:50,648 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:50,648 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 09:10:50,659 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 09:10:50,659 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:50,659 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 09:10:50,671 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 09:10:50,671 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:50,671 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 09:10:50,682 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 09:10:50,683 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:50,683 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 09:10:50,683 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 09:10:50,683 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,152 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,152 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:51,391 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 09:10:51,391 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 09:10:51,391 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 09:10:51,391 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 09:10:51,392 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 09:10:51,392 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 09:10:51,392 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,400 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 09:10:51,400 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,406 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 09:10:51,407 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,413 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 09:10:51,414 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,421 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 09:10:51,421 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 09:10:51,421 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 09:10:51,482 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,482 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 09:10:51,483 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 09:10:51,484 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 09:10:51,485 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 09:10:51,485 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 09:10:51,486 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 09:10:51,486 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 09:10:51,486 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 09:10:52,264 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 09:10:52,793 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 09:10:53,706 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 09:10:53,746 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 09:10:53,747 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 09:10:54,625 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 09:10:54,667 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 09:10:54,958 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 09:10:54,958 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 09:10:54,958 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 09:10:54,959 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,056 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,057 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 09:10:55,057 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 12, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 09:10:55,057 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,152 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,152 - ERROR - 6-create_tables:267 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 261, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,232 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-20 09:10:55,233 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,365 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,365 - ERROR - 4-traitement_obs:214 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 208, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,494 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,494 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:49 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:53 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:59 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:83 - Processing data for today (2025-08-20) and yesterday (2025-08-19).
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:110 - Initialized DataFrame with 47 unique stations.
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:138 - Configured to process 5 time steps for observations.
2025-08-20 09:10:48,413 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 09:10:48,580 - INFO - 4-traitement_obs:166 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 09:10:48,580 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 09:10:48,687 - INFO - 4-traitement_obs:166 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 09:10:48,688 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 09:10:48,788 - INFO - 4-traitement_obs:166 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 09:10:48,789 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 09:10:48,819 - INFO - 4-traitement_obs:166 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 09:10:48,819 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 09:10:48,890 - INFO - 4-traitement_obs:166 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 09:10:48,890 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 09:10:48,890 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 09:10:48,890 - INFO - 4-traitement_obs:184 - Final DataFrame head:
2025-08-20 09:10:48,893 - INFO - 4-traitement_obs:186 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 09:10:48,895 - INFO - 4-traitement_obs:198 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 09:10:48,895 - INFO - 4-traitement_obs:204 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 09:10:48,896 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,364 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,364 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-20 09:10:49,787 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 09:10:49,938 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 09:10:49,938 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 09:10:50,039 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 09:10:50,039 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-20 09:10:50,039 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 09:10:50,042 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-20 09:10:50,044 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 09:10:50,046 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,046 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-20 09:10:50,046 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,232 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,232 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:50,580 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 09:10:50,580 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 09:10:50,580 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 09:10:50,583 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:50,611 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 09:10:50,612 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 09:10:50,612 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 09:10:50,613 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 09:10:50,622 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 09:10:50,622 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 09:10:50,623 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,629 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,629 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 09:10:50,633 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 09:10:50,633 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 09:10:50,647 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 09:10:50,648 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:50,648 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 09:10:50,659 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 09:10:50,659 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:50,659 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 09:10:50,671 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 09:10:50,671 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:50,671 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 09:10:50,682 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 09:10:50,683 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:50,683 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 09:10:50,683 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 09:10:50,683 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,152 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,152 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:51,391 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 09:10:51,391 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 09:10:51,391 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 09:10:51,391 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 09:10:51,392 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 09:10:51,392 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 09:10:51,392 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,400 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 09:10:51,400 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,406 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 09:10:51,407 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,413 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 09:10:51,414 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,421 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 09:10:51,421 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 09:10:51,421 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 09:10:51,482 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,482 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 09:10:51,483 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 09:10:51,484 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 09:10:51,485 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 09:10:51,485 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 09:10:51,486 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 09:10:51,486 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 09:10:51,486 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 09:10:52,264 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 09:10:52,793 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 09:10:53,706 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 09:10:53,746 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 09:10:53,747 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 09:10:54,625 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 09:10:54,667 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 09:10:54,958 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 09:10:54,958 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 09:10:54,958 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 09:10:54,959 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,056 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,057 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 09:10:55,057 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 12, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 09:10:55,057 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,152 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,152 - ERROR - 6-create_tables:267 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 261, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,232 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-20 09:10:55,233 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,365 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,365 - ERROR - 4-traitement_obs:214 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 208, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,494 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,495 - ERROR - 3-create_forecast_table:218 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 212, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,650 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,651 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:51 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:52 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:53 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:54 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:55 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:71 - Preparing dates for data processing.
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:78 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 09:10:42,135 - INFO - 3-create_forecast_table:93 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 09:10:42,137 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 09:10:42,148 - INFO - 3-create_forecast_table:99 - Successfully loaded 75 stations.
2025-08-20 09:10:42,157 - INFO - 3-create_forecast_table:112 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 09:10:42,518 - INFO - grib_processor:113 - GRIB file '2t_20250820.grib' opened successfully.
2025-08-20 09:10:42,518 - INFO - 3-create_forecast_table:115 - GRIB file resource successfully opened.
2025-08-20 09:10:42,519 - INFO - 3-create_forecast_table:132 - Starting GRIB data extraction for 2m temperature.
2025-08-20 09:10:42,519 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-20 09:10:47,433 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-20 09:10:47,433 - INFO - 3-create_forecast_table:144 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-20 09:10:47,482 - INFO - 3-create_forecast_table:161 - GRIB file resource closed successfully.
2025-08-20 09:10:47,482 - INFO - 3-create_forecast_table:167 - Calculating min and max temperatures across all time steps for each station.
2025-08-20 09:10:47,482 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-20 09:10:47,482 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-20 09:10:47,483 - INFO - 3-create_forecast_table:172 - Min/Max temperatures calculated successfully.
2025-08-20 09:10:47,483 - INFO - 3-create_forecast_table:180 - Converting results dictionary to pandas DataFrame.
2025-08-20 09:10:47,485 - INFO - 3-create_forecast_table:184 - DataFrame created successfully.
2025-08-20 09:10:47,510 - INFO - 3-create_forecast_table:197 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:47,515 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:47,515 - INFO - 3-create_forecast_table:202 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:47,515 - INFO - 3-create_forecast_table:209 - Attempting to run next program: 4-traitement_obs.py
2025-08-20 09:10:47,515 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,494 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,494 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:49 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:53 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:59 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:83 - Processing data for today (2025-08-20) and yesterday (2025-08-19).
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:110 - Initialized DataFrame with 47 unique stations.
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:138 - Configured to process 5 time steps for observations.
2025-08-20 09:10:48,413 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 09:10:48,580 - INFO - 4-traitement_obs:166 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 09:10:48,580 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 09:10:48,687 - INFO - 4-traitement_obs:166 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 09:10:48,688 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 09:10:48,788 - INFO - 4-traitement_obs:166 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 09:10:48,789 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 09:10:48,819 - INFO - 4-traitement_obs:166 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 09:10:48,819 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 09:10:48,890 - INFO - 4-traitement_obs:166 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 09:10:48,890 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 09:10:48,890 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 09:10:48,890 - INFO - 4-traitement_obs:184 - Final DataFrame head:
2025-08-20 09:10:48,893 - INFO - 4-traitement_obs:186 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 09:10:48,895 - INFO - 4-traitement_obs:198 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 09:10:48,895 - INFO - 4-traitement_obs:204 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 09:10:48,896 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,364 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,364 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-20 09:10:49,787 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 09:10:49,938 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 09:10:49,938 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 09:10:50,039 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 09:10:50,039 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-20 09:10:50,039 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 09:10:50,042 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-20 09:10:50,044 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 09:10:50,046 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,046 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-20 09:10:50,046 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,232 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,232 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:50,580 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 09:10:50,580 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 09:10:50,580 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 09:10:50,583 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:50,611 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 09:10:50,612 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 09:10:50,612 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 09:10:50,613 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 09:10:50,622 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 09:10:50,622 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 09:10:50,623 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,629 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,629 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 09:10:50,633 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 09:10:50,633 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 09:10:50,647 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 09:10:50,648 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:50,648 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 09:10:50,659 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 09:10:50,659 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:50,659 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 09:10:50,671 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 09:10:50,671 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:50,671 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 09:10:50,682 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 09:10:50,683 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:50,683 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 09:10:50,683 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 09:10:50,683 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,152 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,152 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:51,391 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 09:10:51,391 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 09:10:51,391 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 09:10:51,391 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 09:10:51,392 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 09:10:51,392 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 09:10:51,392 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,400 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 09:10:51,400 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,406 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 09:10:51,407 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,413 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 09:10:51,414 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,421 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 09:10:51,421 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 09:10:51,421 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 09:10:51,482 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,482 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 09:10:51,483 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 09:10:51,484 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 09:10:51,485 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 09:10:51,485 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 09:10:51,486 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 09:10:51,486 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 09:10:51,486 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 09:10:52,264 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 09:10:52,793 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 09:10:53,706 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 09:10:53,746 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 09:10:53,747 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 09:10:54,625 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 09:10:54,667 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 09:10:54,958 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 09:10:54,958 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 09:10:54,958 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 09:10:54,959 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,056 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,057 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 09:10:55,057 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 12, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 09:10:55,057 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,152 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,152 - ERROR - 6-create_tables:267 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 261, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,232 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-20 09:10:55,233 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,365 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,365 - ERROR - 4-traitement_obs:214 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 208, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,494 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,495 - ERROR - 3-create_forecast_table:218 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 212, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,651 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,651 - ERROR - 2-conv:137 - An error occurred while running 3-create_forecast_table.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py", line 131, in main
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,784 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,784 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:40,092 - INFO - 2-conv:41 - --- Script '2-conv.py' started ---
2025-08-20 09:10:40,092 - INFO - 2-conv:42 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 09:10:40,092 - INFO - 2-conv:43 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:40,093 - INFO - 2-conv:44 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:40,093 - INFO - 2-conv:45 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:40,093 - INFO - 2-conv:46 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 09:10:40,093 - INFO - 2-conv:56 - Processing for date: 20250820
2025-08-20 09:10:40,093 - INFO - 2-conv:57 - Starting extraction of temperature from ARPEGE files.
2025-08-20 09:10:40,093 - INFO - 2-conv:66 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2. Processing this branch.
2025-08-20 09:10:40,093 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-20 09:10:40,093 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2' to 't2m00-12.grib'.
2025-08-20 09:10:40,093 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:40,557 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 09:10:40,557 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2' to 't2m12-24.grib'.
2025-08-20 09:10:40,557 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:40,733 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 09:10:40,733 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2' to 't2m24-36.grib'.
2025-08-20 09:10:40,733 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:40,904 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 09:10:40,904 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2' to 't2m36-48.grib'.
2025-08-20 09:10:40,905 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:41,077 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 09:10:41,077 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 09:10:41,077 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 09:10:41,150 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 09:10:41,150 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 09:10:41,150 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-20 09:10:41,152 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-20 09:10:41,155 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-20 09:10:41,157 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-20 09:10:41,159 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-20 09:10:41,160 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-20 09:10:41,160 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-20 09:10:41,160 - INFO - 2-conv:91 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 09:10:41,160 - INFO - 2-conv:128 - Attempting to run next program: 3-create_forecast_table.py
2025-08-20 09:10:41,160 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,650 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,651 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:51 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:52 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:53 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:54 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:55 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:71 - Preparing dates for data processing.
2025-08-20 09:10:42,134 - INFO - 3-create_forecast_table:78 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 09:10:42,135 - INFO - 3-create_forecast_table:93 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 09:10:42,137 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 09:10:42,148 - INFO - 3-create_forecast_table:99 - Successfully loaded 75 stations.
2025-08-20 09:10:42,157 - INFO - 3-create_forecast_table:112 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 09:10:42,518 - INFO - grib_processor:113 - GRIB file '2t_20250820.grib' opened successfully.
2025-08-20 09:10:42,518 - INFO - 3-create_forecast_table:115 - GRIB file resource successfully opened.
2025-08-20 09:10:42,519 - INFO - 3-create_forecast_table:132 - Starting GRIB data extraction for 2m temperature.
2025-08-20 09:10:42,519 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-20 09:10:47,433 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-20 09:10:47,433 - INFO - 3-create_forecast_table:144 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-20 09:10:47,482 - INFO - 3-create_forecast_table:161 - GRIB file resource closed successfully.
2025-08-20 09:10:47,482 - INFO - 3-create_forecast_table:167 - Calculating min and max temperatures across all time steps for each station.
2025-08-20 09:10:47,482 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-20 09:10:47,482 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-20 09:10:47,483 - INFO - 3-create_forecast_table:172 - Min/Max temperatures calculated successfully.
2025-08-20 09:10:47,483 - INFO - 3-create_forecast_table:180 - Converting results dictionary to pandas DataFrame.
2025-08-20 09:10:47,485 - INFO - 3-create_forecast_table:184 - DataFrame created successfully.
2025-08-20 09:10:47,510 - INFO - 3-create_forecast_table:197 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:47,515 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:47,515 - INFO - 3-create_forecast_table:202 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:47,515 - INFO - 3-create_forecast_table:209 - Attempting to run next program: 4-traitement_obs.py
2025-08-20 09:10:47,515 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,494 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,494 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:49 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:53 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:59 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:83 - Processing data for today (2025-08-20) and yesterday (2025-08-19).
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:110 - Initialized DataFrame with 47 unique stations.
2025-08-20 09:10:48,412 - INFO - 4-traitement_obs:138 - Configured to process 5 time steps for observations.
2025-08-20 09:10:48,413 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 09:10:48,580 - INFO - 4-traitement_obs:166 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 09:10:48,580 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 09:10:48,687 - INFO - 4-traitement_obs:166 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 09:10:48,688 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 09:10:48,788 - INFO - 4-traitement_obs:166 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 09:10:48,789 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 09:10:48,819 - INFO - 4-traitement_obs:166 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 09:10:48,819 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 09:10:48,890 - INFO - 4-traitement_obs:166 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 09:10:48,890 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 09:10:48,890 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 09:10:48,890 - INFO - 4-traitement_obs:184 - Final DataFrame head:
2025-08-20 09:10:48,893 - INFO - 4-traitement_obs:186 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 09:10:48,895 - INFO - 4-traitement_obs:198 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 09:10:48,895 - INFO - 4-traitement_obs:204 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 09:10:48,896 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,364 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,364 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-20 09:10:49,786 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 09:10:49,787 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-20 09:10:49,787 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 09:10:49,938 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 09:10:49,938 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 09:10:50,039 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 09:10:50,039 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-20 09:10:50,039 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 09:10:50,042 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-20 09:10:50,044 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 09:10:50,046 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,046 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-20 09:10:50,046 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,232 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,232 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:50,580 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 09:10:50,580 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 09:10:50,580 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 09:10:50,583 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 09:10:50,611 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 09:10:50,612 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 09:10:50,612 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 09:10:50,613 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 09:10:50,622 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 09:10:50,622 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 09:10:50,623 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,629 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 09:10:50,629 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 09:10:50,633 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 09:10:50,633 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 09:10:50,635 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 09:10:50,647 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 09:10:50,648 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:50,648 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 09:10:50,659 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 09:10:50,659 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:50,659 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 09:10:50,671 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 09:10:50,671 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:50,671 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 09:10:50,682 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 09:10:50,683 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:50,683 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 09:10:50,683 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 09:10:50,683 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,152 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,152 - ERROR - system_utils:58 - STDOUT: 2025-08-20 09:10:51,391 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 09:10:51,391 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 09:10:51,391 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 09:10:51,391 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 09:10:51,391 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 09:10:51,391 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 09:10:51,392 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 09:10:51,392 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,392 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:51,392 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 09:10:51,392 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 09:10:51,400 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 09:10:51,400 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 09:10:51,406 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 09:10:51,407 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 09:10:51,413 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 09:10:51,414 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 09:10:51,421 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 09:10:51,421 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 09:10:51,421 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 09:10:51,482 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 09:10:51,482 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 09:10:51,483 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 09:10:51,484 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 09:10:51,485 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 09:10:51,485 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 09:10:51,486 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 09:10:51,486 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 09:10:51,486 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 09:10:52,264 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 09:10:52,310 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 09:10:52,793 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 09:10:52,828 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 09:10:53,706 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 09:10:53,746 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 09:10:53,747 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 09:10:54,625 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 09:10:54,667 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 09:10:54,667 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 09:10:54,958 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 09:10:54,958 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 09:10:54,958 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 09:10:54,958 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 09:10:54,959 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 09:10:55,056 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 09:10:55,057 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 09:10:55,057 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 12, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 09:10:55,057 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,152 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,152 - ERROR - 6-create_tables:267 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 261, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,232 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-20 09:10:55,233 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,365 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,365 - ERROR - 4-traitement_obs:214 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 208, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,494 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,495 - ERROR - 3-create_forecast_table:218 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 212, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,651 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,651 - ERROR - 2-conv:137 - An error occurred while running 3-create_forecast_table.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py", line 131, in main
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 09:10:55,784 - ERROR - system_utils:59 - STDERR: 
2025-08-20 09:10:55,784 - ERROR - 1-get_arpege:163 - An error occurred while running 2-conv.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get_arpege.py", line 157, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 10:42:52,334 - INFO - 1-get-aladin:46 - Configuration loaded directly from script variables.
2025-08-20 10:42:52,334 - INFO - 1-get-aladin:116 - --- Main script execution started ---
2025-08-20 10:42:52,334 - INFO - 1-get-aladin:52 - Reading current date and calculating next dates.
2025-08-20 10:42:52,335 - INFO - 1-get-aladin:76 - Preparing ARPEGE file list for date 2025-08-20.
2025-08-20 10:42:52,335 - INFO - 1-get-aladin:97 - Prepared 49 files for download.
2025-08-20 10:42:52,335 - ERROR - 1-get-aladin:111 - Failed to fetch ARPEGE files for 2025-08-20: 'protocol'
2025-08-20 10:42:52,335 - CRITICAL - 1-get-aladin:139 - An unexpected error occurred in the main script flow: 'protocol'
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get-aladin.py", line 119, in <module>
    fetch_arpege_files(config, AA, MM, DD, RES)
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get-aladin.py", line 101, in fetch_arpege_files
    protocol=config['protocol'],
KeyError: 'protocol'
2025-08-20 10:44:55,355 - INFO - 1-get-aladin:46 - Configuration loaded directly from script variables.
2025-08-20 10:44:55,355 - INFO - 1-get-aladin:116 - --- Main script execution started ---
2025-08-20 10:44:55,355 - INFO - 1-get-aladin:52 - Reading current date and calculating next dates.
2025-08-20 10:44:55,355 - INFO - 1-get-aladin:76 - Preparing ARPEGE file list for date 2025-08-20.
2025-08-20 10:44:55,356 - INFO - 1-get-aladin:97 - Prepared 49 files for download.
2025-08-20 10:44:55,356 - ERROR - 1-get-aladin:111 - Failed to fetch ARPEGE files for 2025-08-20: 'protocol'
2025-08-20 10:44:55,356 - CRITICAL - 1-get-aladin:139 - An unexpected error occurred in the main script flow: 'protocol'
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get-aladin.py", line 119, in <module>
    fetch_arpege_files(config, AA, MM, DD, RES)
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get-aladin.py", line 101, in fetch_arpege_files
    protocol=config['protocol'],
KeyError: 'protocol'
2025-08-20 10:45:20,050 - INFO - 1-get-aladin:46 - Configuration loaded directly from script variables.
2025-08-20 10:45:20,050 - INFO - 1-get-aladin:116 - --- Main script execution started ---
2025-08-20 10:45:20,051 - INFO - 1-get-aladin:52 - Reading current date and calculating next dates.
2025-08-20 10:45:20,051 - INFO - 1-get-aladin:76 - Preparing ARPEGE file list for date 2025-08-20.
2025-08-20 10:45:20,051 - INFO - 1-get-aladin:97 - Prepared 49 files for download.
2025-08-20 10:45:20,051 - ERROR - 1-get-aladin:111 - Failed to fetch ARPEGE files for 2025-08-20: 'protocol'
2025-08-20 10:45:20,051 - CRITICAL - 1-get-aladin:139 - An unexpected error occurred in the main script flow: 'protocol'
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get-aladin.py", line 119, in <module>
    fetch_arpege_files(config, AA, MM, DD, RES)
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get-aladin.py", line 101, in fetch_arpege_files
    protocol=config['protocol'],
KeyError: 'protocol'
2025-08-20 10:59:39,742 - INFO - 1-get-aladin:44 - Configuration loaded directly from script variables.
2025-08-20 10:59:39,742 - INFO - 1-get-aladin:115 - --- Main script execution started ---
2025-08-20 10:59:39,742 - INFO - 1-get-aladin:50 - Reading current date and calculating next dates.
2025-08-20 10:59:39,742 - INFO - 1-get-aladin:75 - Preparing ARPEGE file list for date 2025-08-20.
2025-08-20 10:59:39,742 - INFO - 1-get-aladin:96 - Prepared 49 files for download.
2025-08-20 10:59:39,742 - INFO - fetchdata:169 - Starting SFTP file fetching process for 49 files.
2025-08-20 10:59:39,743 - INFO - fetchdata:33 - Attempting to create SFTP client for login2.fennec.meteo.dz:22 with user wchikhi.
2025-08-20 10:59:39,763 - INFO - transport:1844 - Connected (version 2.0, client OpenSSH_8.0)
2025-08-20 10:59:39,854 - INFO - transport:1844 - Authentication (password) successful!
2025-08-20 10:59:44,394 - INFO - sftp:158 - [chan 0] Opened sftp connection (server version 3)
2025-08-20 10:59:44,394 - INFO - fetchdata:39 - Successfully connected to SFTP server: login2.fennec.meteo.dz
2025-08-20 10:59:44,396 - INFO - fetchdata:199 - Local file grib_2025082000_0000 already exists and sizes match (9311132 bytes). Skipping download.
2025-08-20 10:59:44,398 - INFO - fetchdata:199 - Local file grib_2025082000_0001 already exists and sizes match (9330014 bytes). Skipping download.
2025-08-20 10:59:44,400 - INFO - fetchdata:199 - Local file grib_2025082000_0002 already exists and sizes match (9183888 bytes). Skipping download.
2025-08-20 10:59:44,403 - INFO - fetchdata:199 - Local file grib_2025082000_0003 already exists and sizes match (9090220 bytes). Skipping download.
2025-08-20 10:59:44,405 - INFO - fetchdata:199 - Local file grib_2025082000_0004 already exists and sizes match (8926742 bytes). Skipping download.
2025-08-20 10:59:44,407 - INFO - fetchdata:199 - Local file grib_2025082000_0005 already exists and sizes match (9003380 bytes). Skipping download.
2025-08-20 10:59:44,409 - INFO - fetchdata:199 - Local file grib_2025082000_0006 already exists and sizes match (9053076 bytes). Skipping download.
2025-08-20 10:59:44,411 - INFO - fetchdata:199 - Local file grib_2025082000_0007 already exists and sizes match (9111916 bytes). Skipping download.
2025-08-20 10:59:44,413 - INFO - fetchdata:199 - Local file grib_2025082000_0008 already exists and sizes match (9001182 bytes). Skipping download.
2025-08-20 10:59:44,415 - INFO - fetchdata:199 - Local file grib_2025082000_0009 already exists and sizes match (9006496 bytes). Skipping download.
2025-08-20 10:59:44,417 - INFO - fetchdata:199 - Local file grib_2025082000_0010 already exists and sizes match (8970906 bytes). Skipping download.
2025-08-20 10:59:44,419 - INFO - fetchdata:199 - Local file grib_2025082000_0011 already exists and sizes match (8950950 bytes). Skipping download.
2025-08-20 10:59:44,421 - INFO - fetchdata:199 - Local file grib_2025082000_0012 already exists and sizes match (8940760 bytes). Skipping download.
2025-08-20 10:59:44,423 - INFO - fetchdata:199 - Local file grib_2025082000_0013 already exists and sizes match (8948520 bytes). Skipping download.
2025-08-20 10:59:44,425 - INFO - fetchdata:199 - Local file grib_2025082000_0014 already exists and sizes match (9029268 bytes). Skipping download.
2025-08-20 10:59:44,427 - INFO - fetchdata:199 - Local file grib_2025082000_0015 already exists and sizes match (9057552 bytes). Skipping download.
2025-08-20 10:59:44,429 - INFO - fetchdata:199 - Local file grib_2025082000_0016 already exists and sizes match (9054908 bytes). Skipping download.
2025-08-20 10:59:44,431 - INFO - fetchdata:199 - Local file grib_2025082000_0017 already exists and sizes match (9100258 bytes). Skipping download.
2025-08-20 10:59:44,433 - INFO - fetchdata:199 - Local file grib_2025082000_0018 already exists and sizes match (9094616 bytes). Skipping download.
2025-08-20 10:59:44,435 - INFO - fetchdata:199 - Local file grib_2025082000_0019 already exists and sizes match (9076666 bytes). Skipping download.
2025-08-20 10:59:44,437 - INFO - fetchdata:199 - Local file grib_2025082000_0020 already exists and sizes match (9108510 bytes). Skipping download.
2025-08-20 10:59:44,439 - INFO - fetchdata:199 - Local file grib_2025082000_0021 already exists and sizes match (9119280 bytes). Skipping download.
2025-08-20 10:59:44,441 - INFO - fetchdata:199 - Local file grib_2025082000_0022 already exists and sizes match (9092246 bytes). Skipping download.
2025-08-20 10:59:44,444 - INFO - fetchdata:199 - Local file grib_2025082000_0023 already exists and sizes match (9075558 bytes). Skipping download.
2025-08-20 10:59:44,446 - INFO - fetchdata:199 - Local file grib_2025082000_0024 already exists and sizes match (9093534 bytes). Skipping download.
2025-08-20 10:59:44,448 - INFO - fetchdata:199 - Local file grib_2025082000_0025 already exists and sizes match (9056828 bytes). Skipping download.
2025-08-20 10:59:44,450 - INFO - fetchdata:199 - Local file grib_2025082000_0026 already exists and sizes match (9070856 bytes). Skipping download.
2025-08-20 10:59:44,452 - INFO - fetchdata:199 - Local file grib_2025082000_0027 already exists and sizes match (9019778 bytes). Skipping download.
2025-08-20 10:59:44,454 - INFO - fetchdata:199 - Local file grib_2025082000_0028 already exists and sizes match (8948896 bytes). Skipping download.
2025-08-20 10:59:44,456 - INFO - fetchdata:199 - Local file grib_2025082000_0029 already exists and sizes match (8936742 bytes). Skipping download.
2025-08-20 10:59:44,458 - INFO - fetchdata:199 - Local file grib_2025082000_0030 already exists and sizes match (8914622 bytes). Skipping download.
2025-08-20 10:59:44,460 - INFO - fetchdata:199 - Local file grib_2025082000_0031 already exists and sizes match (8825842 bytes). Skipping download.
2025-08-20 10:59:44,462 - INFO - fetchdata:199 - Local file grib_2025082000_0032 already exists and sizes match (8744854 bytes). Skipping download.
2025-08-20 10:59:44,464 - INFO - fetchdata:199 - Local file grib_2025082000_0033 already exists and sizes match (8755876 bytes). Skipping download.
2025-08-20 10:59:44,466 - INFO - fetchdata:199 - Local file grib_2025082000_0034 already exists and sizes match (8704384 bytes). Skipping download.
2025-08-20 10:59:44,468 - INFO - fetchdata:199 - Local file grib_2025082000_0035 already exists and sizes match (8709328 bytes). Skipping download.
2025-08-20 10:59:44,470 - INFO - fetchdata:199 - Local file grib_2025082000_0036 already exists and sizes match (8679600 bytes). Skipping download.
2025-08-20 10:59:44,472 - INFO - fetchdata:199 - Local file grib_2025082000_0037 already exists and sizes match (8682202 bytes). Skipping download.
2025-08-20 10:59:44,474 - INFO - fetchdata:199 - Local file grib_2025082000_0038 already exists and sizes match (8710130 bytes). Skipping download.
2025-08-20 10:59:44,476 - INFO - fetchdata:199 - Local file grib_2025082000_0039 already exists and sizes match (8703730 bytes). Skipping download.
2025-08-20 10:59:44,478 - INFO - fetchdata:199 - Local file grib_2025082000_0040 already exists and sizes match (8706912 bytes). Skipping download.
2025-08-20 10:59:44,480 - INFO - fetchdata:199 - Local file grib_2025082000_0041 already exists and sizes match (8732688 bytes). Skipping download.
2025-08-20 10:59:44,482 - INFO - fetchdata:199 - Local file grib_2025082000_0042 already exists and sizes match (8775862 bytes). Skipping download.
2025-08-20 10:59:44,484 - INFO - fetchdata:199 - Local file grib_2025082000_0043 already exists and sizes match (8797148 bytes). Skipping download.
2025-08-20 10:59:44,486 - INFO - fetchdata:199 - Local file grib_2025082000_0044 already exists and sizes match (8851260 bytes). Skipping download.
2025-08-20 10:59:44,488 - INFO - fetchdata:199 - Local file grib_2025082000_0045 already exists and sizes match (8828100 bytes). Skipping download.
2025-08-20 10:59:44,490 - INFO - fetchdata:199 - Local file grib_2025082000_0046 already exists and sizes match (8836570 bytes). Skipping download.
2025-08-20 10:59:44,492 - INFO - fetchdata:199 - Local file grib_2025082000_0047 already exists and sizes match (8834464 bytes). Skipping download.
2025-08-20 10:59:44,494 - INFO - fetchdata:199 - Local file grib_2025082000_0048 already exists and sizes match (8827436 bytes). Skipping download.
2025-08-20 10:59:44,494 - INFO - fetchdata:252 - SFTP SSH client closed.
2025-08-20 10:59:44,494 - INFO - fetchdata:259 - SFTP file fetching process completed.
2025-08-20 10:59:44,495 - INFO - 1-get-aladin:108 - ARPEGE file fetching process completed for 2025-08-20.
2025-08-20 10:59:44,495 - INFO - 1-get-aladin:121 - Attempting to run next program: 2-conv.py
2025-08-20 10:59:44,495 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 10:59:45,434 - INFO - 2-conv:41 - --- Script '2-conv.py' started ---
2025-08-20 10:59:45,434 - INFO - 2-conv:42 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 10:59:45,434 - INFO - 2-conv:43 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 10:59:45,434 - INFO - 2-conv:44 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 10:59:45,434 - INFO - 2-conv:45 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 10:59:45,434 - INFO - 2-conv:46 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 10:59:45,434 - INFO - 2-conv:56 - Processing for date: 20250820
2025-08-20 10:59:45,434 - INFO - 2-conv:57 - Starting extraction of temperature from ARPEGE files.
2025-08-20 10:59:45,435 - INFO - 2-conv:66 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2. Processing this branch.
2025-08-20 10:59:45,435 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-20 10:59:45,435 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2' to 't2m00-12.grib'.
2025-08-20 10:59:45,435 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 10:59:45,816 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 10:59:45,816 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2' to 't2m12-24.grib'.
2025-08-20 10:59:45,817 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 10:59:46,172 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 10:59:46,172 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2' to 't2m24-36.grib'.
2025-08-20 10:59:46,172 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 10:59:46,526 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 10:59:46,526 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2' to 't2m36-48.grib'.
2025-08-20 10:59:46,526 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 10:59:46,892 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 10:59:46,892 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 10:59:46,892 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 10:59:46,931 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 10:59:46,932 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 10:59:46,932 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-20 10:59:46,934 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-20 10:59:46,936 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-20 10:59:46,938 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-20 10:59:46,940 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-20 10:59:46,940 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-20 10:59:46,941 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-20 10:59:46,941 - INFO - 2-conv:91 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 10:59:46,941 - INFO - 2-conv:128 - Attempting to run next program: 3-create_forecast_table.py
2025-08-20 10:59:46,941 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 10:59:47,846 - INFO - 3-create_forecast_table:51 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-20 10:59:47,846 - INFO - 3-create_forecast_table:52 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 10:59:47,847 - INFO - 3-create_forecast_table:53 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 10:59:47,847 - INFO - 3-create_forecast_table:54 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 10:59:47,847 - INFO - 3-create_forecast_table:55 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 10:59:47,847 - INFO - 3-create_forecast_table:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 10:59:47,847 - INFO - 3-create_forecast_table:71 - Preparing dates for data processing.
2025-08-20 10:59:47,847 - INFO - 3-create_forecast_table:78 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 10:59:47,848 - INFO - 3-create_forecast_table:93 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 10:59:47,851 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 10:59:47,860 - INFO - 3-create_forecast_table:99 - Successfully loaded 75 stations.
2025-08-20 10:59:47,869 - INFO - 3-create_forecast_table:112 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 10:59:48,110 - INFO - grib_processor:113 - GRIB file '2t_20250820.grib' opened successfully.
2025-08-20 10:59:48,110 - INFO - 3-create_forecast_table:115 - GRIB file resource successfully opened.
2025-08-20 10:59:48,110 - INFO - 3-create_forecast_table:132 - Starting GRIB data extraction for 2m temperature.
2025-08-20 10:59:48,110 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-20 10:59:52,966 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-20 10:59:52,967 - INFO - 3-create_forecast_table:144 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-20 10:59:53,016 - INFO - 3-create_forecast_table:161 - GRIB file resource closed successfully.
2025-08-20 10:59:53,016 - INFO - 3-create_forecast_table:167 - Calculating min and max temperatures across all time steps for each station.
2025-08-20 10:59:53,016 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-20 10:59:53,016 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-20 10:59:53,017 - INFO - 3-create_forecast_table:172 - Min/Max temperatures calculated successfully.
2025-08-20 10:59:53,017 - INFO - 3-create_forecast_table:180 - Converting results dictionary to pandas DataFrame.
2025-08-20 10:59:53,018 - INFO - 3-create_forecast_table:184 - DataFrame created successfully.
2025-08-20 10:59:53,043 - INFO - 3-create_forecast_table:197 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 10:59:53,048 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 10:59:53,048 - INFO - 3-create_forecast_table:202 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 10:59:53,048 - INFO - 3-create_forecast_table:209 - Attempting to run next program: 4-traitement_obs.py
2025-08-20 10:59:53,048 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 10:59:53,867 - INFO - 4-traitement_obs:49 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 10:59:53,868 - INFO - 4-traitement_obs:53 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 10:59:53,868 - INFO - 4-traitement_obs:59 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 10:59:53,868 - INFO - 4-traitement_obs:83 - Processing data for today (2025-08-20) and yesterday (2025-08-19).
2025-08-20 10:59:53,868 - INFO - 4-traitement_obs:110 - Initialized DataFrame with 47 unique stations.
2025-08-20 10:59:53,868 - INFO - 4-traitement_obs:138 - Configured to process 5 time steps for observations.
2025-08-20 10:59:53,869 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 10:59:54,015 - INFO - 4-traitement_obs:166 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 10:59:54,015 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 10:59:54,119 - INFO - 4-traitement_obs:166 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 10:59:54,120 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 10:59:54,216 - INFO - 4-traitement_obs:166 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 10:59:54,216 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 10:59:54,245 - INFO - 4-traitement_obs:166 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 10:59:54,245 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 10:59:54,312 - INFO - 4-traitement_obs:166 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 10:59:54,312 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 10:59:54,312 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 10:59:54,312 - INFO - 4-traitement_obs:184 - Final DataFrame head:
2025-08-20 10:59:54,316 - INFO - 4-traitement_obs:186 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 10:59:54,318 - INFO - 4-traitement_obs:198 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 10:59:54,318 - INFO - 4-traitement_obs:204 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 10:59:54,318 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 10:59:55,129 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-20 10:59:55,129 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 10:59:55,129 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 10:59:55,129 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 10:59:55,129 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-20 10:59:55,129 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-20 10:59:55,130 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-20 10:59:55,130 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 10:59:55,130 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 10:59:55,130 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-20 10:59:55,130 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 10:59:55,270 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 10:59:55,270 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 10:59:55,364 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 10:59:55,364 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-20 10:59:55,364 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 10:59:55,367 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-20 10:59:55,369 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 10:59:55,371 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 10:59:55,371 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-20 10:59:55,371 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 10:59:55,867 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 10:59:55,867 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 10:59:55,867 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 10:59:55,870 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 10:59:55,895 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 10:59:55,896 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 10:59:55,896 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 10:59:55,897 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 10:59:55,905 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 10:59:55,905 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 10:59:55,906 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 10:59:55,912 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 10:59:55,912 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 10:59:55,915 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 10:59:55,915 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 10:59:55,917 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 10:59:55,917 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 10:59:55,917 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 10:59:55,929 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 10:59:55,929 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 10:59:55,929 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 10:59:55,940 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 10:59:55,940 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 10:59:55,940 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 10:59:55,951 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 10:59:55,951 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 10:59:55,951 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 10:59:55,962 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 10:59:55,962 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 10:59:55,962 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 10:59:55,962 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 10:59:55,962 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 10:59:56,496 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 10:59:56,496 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 10:59:56,496 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 10:59:56,496 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 10:59:56,496 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 10:59:56,496 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 10:59:56,496 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 10:59:56,496 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 10:59:56,496 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 10:59:56,497 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 10:59:56,497 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 10:59:56,497 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 10:59:56,497 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 10:59:56,497 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 10:59:56,497 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 10:59:56,497 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 10:59:56,497 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 10:59:56,504 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 10:59:56,504 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 10:59:56,509 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 10:59:56,509 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 10:59:56,515 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 10:59:56,515 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 10:59:56,521 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 10:59:56,521 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 10:59:56,521 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 10:59:56,576 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 10:59:56,576 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 10:59:56,576 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 10:59:56,577 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 10:59:56,578 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 10:59:56,578 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 10:59:56,579 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 10:59:56,579 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 10:59:56,579 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 10:59:57,220 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 10:59:57,256 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 10:59:57,256 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 10:59:57,645 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 10:59:57,673 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 10:59:57,673 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 10:59:58,410 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 10:59:58,448 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 10:59:58,449 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 10:59:59,311 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 10:59:59,352 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 10:59:59,352 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 10:59:59,352 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 10:59:59,629 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 10:59:59,629 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 10:59:59,629 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 10:59:59,629 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 10:59:59,630 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 10:59:59,630 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 10:59:59,690 - INFO - 8-send_MSG:65 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 10:59:59,691 - INFO - 8-send_MSG:66 - Starting Sonelgaz bulletin sending script.
2025-08-20 10:59:59,691 - DEBUG - 8-send_MSG:74 - Base data path determined as: /home/aoumeur/bqrm/sonelgaz
2025-08-20 10:59:59,691 - INFO - 8-send_MSG:80 - Expected bulletin file path: /home/aoumeur/bqrm/sonelgaz/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 10:59:59,691 - WARNING - file_operations:245 - File not found: /home/aoumeur/bqrm/sonelgaz/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2. Skipping this operation.
2025-08-20 10:59:59,691 - WARNING - file_operations:245 - File not found: /home/aoumeur/bqrm/sonelgaz/../tmp/grib_2025082000_0000. Skipping this operation.
2025-08-20 10:59:59,691 - WARNING - 8-send_MSG:100 - Neither ARPEGE nor ALADIN GRIB files found. Setting default email subject/body.
2025-08-20 10:59:59,691 - WARNING - file_operations:245 - File not found: /home/aoumeur/bqrm/sonelgaz/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx. Skipping this operation.
2025-08-20 10:59:59,691 - CRITICAL - 8-send_MSG:122 - Bulletin file '/home/aoumeur/bqrm/sonelgaz/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx' not found. Email not sent.
2025-08-20 10:59:59,691 - INFO - 8-send_MSG:124 - Script execution finished.
2025-08-20 10:59:59,700 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 10:59:59,701 - INFO - 7-create_word:320 - Successfully executed 8-send_MSG.py.
2025-08-20 10:59:59,701 - INFO - 7-create_word:328 - --- Script '7-create_word.py' finished. ---
2025-08-20 10:59:59,787 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 10:59:59,787 - INFO - 6-create_tables:265 - Successfully executed 7-create_word.py.
2025-08-20 10:59:59,787 - INFO - 6-create_tables:274 - --- Script '6-create_tables.py' finished. ---
2025-08-20 10:59:59,867 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 10:59:59,867 - INFO - 5-traitement_obs_min_max:201 - Successfully executed 6-create_tables.py.
2025-08-20 10:59:59,867 - INFO - 5-traitement_obs_min_max:210 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-20 10:59:59,989 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 10:59:59,989 - INFO - 4-traitement_obs:212 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-20 10:59:59,989 - INFO - 4-traitement_obs:221 - --- Script '4-traitement_obs.py' finished. ---
2025-08-20 11:00:00,115 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 11:00:00,115 - INFO - 3-create_forecast_table:216 - Successfully executed 4-traitement_obs.py.
2025-08-20 11:00:00,115 - INFO - 3-create_forecast_table:224 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-20 11:00:00,246 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 11:00:00,246 - INFO - 2-conv:135 - Successfully executed 3-create_forecast_table.py.
2025-08-20 11:00:00,246 - INFO - 2-conv:140 - --- Script '2-conv.py' finished. ---
2025-08-20 11:00:00,354 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 11:00:00,355 - INFO - 1-get-aladin:128 - Successfully executed 2-conv.py.
2025-08-20 11:00:00,355 - INFO - 1-get-aladin:137 - --- Script '1-get-aladin.py' finished. ---
2025-08-20 11:04:16,352 - INFO - 1-get-aladin:44 - Configuration loaded directly from script variables.
2025-08-20 11:04:16,352 - INFO - 1-get-aladin:115 - --- Main script execution started ---
2025-08-20 11:04:16,352 - INFO - 1-get-aladin:50 - Reading current date and calculating next dates.
2025-08-20 11:04:16,352 - INFO - 1-get-aladin:75 - Preparing ARPEGE file list for date 2025-08-20.
2025-08-20 11:04:16,353 - INFO - 1-get-aladin:96 - Prepared 49 files for download.
2025-08-20 11:04:16,353 - INFO - fetchdata:169 - Starting SFTP file fetching process for 49 files.
2025-08-20 11:04:16,353 - INFO - fetchdata:33 - Attempting to create SFTP client for login2.fennec.meteo.dz:22 with user wchikhi.
2025-08-20 11:04:16,374 - INFO - transport:1844 - Connected (version 2.0, client OpenSSH_8.0)
2025-08-20 11:04:16,466 - INFO - transport:1844 - Authentication (password) successful!
2025-08-20 11:04:21,007 - INFO - sftp:158 - [chan 0] Opened sftp connection (server version 3)
2025-08-20 11:04:21,007 - INFO - fetchdata:39 - Successfully connected to SFTP server: login2.fennec.meteo.dz
2025-08-20 11:04:21,010 - INFO - fetchdata:199 - Local file grib_2025082000_0000 already exists and sizes match (9311132 bytes). Skipping download.
2025-08-20 11:04:21,012 - INFO - fetchdata:199 - Local file grib_2025082000_0001 already exists and sizes match (9330014 bytes). Skipping download.
2025-08-20 11:04:21,014 - INFO - fetchdata:199 - Local file grib_2025082000_0002 already exists and sizes match (9183888 bytes). Skipping download.
2025-08-20 11:04:21,016 - INFO - fetchdata:199 - Local file grib_2025082000_0003 already exists and sizes match (9090220 bytes). Skipping download.
2025-08-20 11:04:21,019 - INFO - fetchdata:199 - Local file grib_2025082000_0004 already exists and sizes match (8926742 bytes). Skipping download.
2025-08-20 11:04:21,021 - INFO - fetchdata:199 - Local file grib_2025082000_0005 already exists and sizes match (9003380 bytes). Skipping download.
2025-08-20 11:04:21,023 - INFO - fetchdata:199 - Local file grib_2025082000_0006 already exists and sizes match (9053076 bytes). Skipping download.
2025-08-20 11:04:21,025 - INFO - fetchdata:199 - Local file grib_2025082000_0007 already exists and sizes match (9111916 bytes). Skipping download.
2025-08-20 11:04:21,027 - INFO - fetchdata:199 - Local file grib_2025082000_0008 already exists and sizes match (9001182 bytes). Skipping download.
2025-08-20 11:04:21,029 - INFO - fetchdata:199 - Local file grib_2025082000_0009 already exists and sizes match (9006496 bytes). Skipping download.
2025-08-20 11:04:21,031 - INFO - fetchdata:199 - Local file grib_2025082000_0010 already exists and sizes match (8970906 bytes). Skipping download.
2025-08-20 11:04:21,033 - INFO - fetchdata:199 - Local file grib_2025082000_0011 already exists and sizes match (8950950 bytes). Skipping download.
2025-08-20 11:04:21,035 - INFO - fetchdata:199 - Local file grib_2025082000_0012 already exists and sizes match (8940760 bytes). Skipping download.
2025-08-20 11:04:21,037 - INFO - fetchdata:199 - Local file grib_2025082000_0013 already exists and sizes match (8948520 bytes). Skipping download.
2025-08-20 11:04:21,039 - INFO - fetchdata:199 - Local file grib_2025082000_0014 already exists and sizes match (9029268 bytes). Skipping download.
2025-08-20 11:04:21,041 - INFO - fetchdata:199 - Local file grib_2025082000_0015 already exists and sizes match (9057552 bytes). Skipping download.
2025-08-20 11:04:21,043 - INFO - fetchdata:199 - Local file grib_2025082000_0016 already exists and sizes match (9054908 bytes). Skipping download.
2025-08-20 11:04:21,045 - INFO - fetchdata:199 - Local file grib_2025082000_0017 already exists and sizes match (9100258 bytes). Skipping download.
2025-08-20 11:04:21,047 - INFO - fetchdata:199 - Local file grib_2025082000_0018 already exists and sizes match (9094616 bytes). Skipping download.
2025-08-20 11:04:21,048 - INFO - fetchdata:199 - Local file grib_2025082000_0019 already exists and sizes match (9076666 bytes). Skipping download.
2025-08-20 11:04:21,050 - INFO - fetchdata:199 - Local file grib_2025082000_0020 already exists and sizes match (9108510 bytes). Skipping download.
2025-08-20 11:04:21,051 - INFO - fetchdata:199 - Local file grib_2025082000_0021 already exists and sizes match (9119280 bytes). Skipping download.
2025-08-20 11:04:21,052 - INFO - fetchdata:199 - Local file grib_2025082000_0022 already exists and sizes match (9092246 bytes). Skipping download.
2025-08-20 11:04:21,053 - INFO - fetchdata:199 - Local file grib_2025082000_0023 already exists and sizes match (9075558 bytes). Skipping download.
2025-08-20 11:04:21,054 - INFO - fetchdata:199 - Local file grib_2025082000_0024 already exists and sizes match (9093534 bytes). Skipping download.
2025-08-20 11:04:21,055 - INFO - fetchdata:199 - Local file grib_2025082000_0025 already exists and sizes match (9056828 bytes). Skipping download.
2025-08-20 11:04:21,056 - INFO - fetchdata:199 - Local file grib_2025082000_0026 already exists and sizes match (9070856 bytes). Skipping download.
2025-08-20 11:04:21,058 - INFO - fetchdata:199 - Local file grib_2025082000_0027 already exists and sizes match (9019778 bytes). Skipping download.
2025-08-20 11:04:21,060 - INFO - fetchdata:199 - Local file grib_2025082000_0028 already exists and sizes match (8948896 bytes). Skipping download.
2025-08-20 11:04:21,062 - INFO - fetchdata:199 - Local file grib_2025082000_0029 already exists and sizes match (8936742 bytes). Skipping download.
2025-08-20 11:04:21,064 - INFO - fetchdata:199 - Local file grib_2025082000_0030 already exists and sizes match (8914622 bytes). Skipping download.
2025-08-20 11:04:21,066 - INFO - fetchdata:199 - Local file grib_2025082000_0031 already exists and sizes match (8825842 bytes). Skipping download.
2025-08-20 11:04:21,068 - INFO - fetchdata:199 - Local file grib_2025082000_0032 already exists and sizes match (8744854 bytes). Skipping download.
2025-08-20 11:04:21,070 - INFO - fetchdata:199 - Local file grib_2025082000_0033 already exists and sizes match (8755876 bytes). Skipping download.
2025-08-20 11:04:21,072 - INFO - fetchdata:199 - Local file grib_2025082000_0034 already exists and sizes match (8704384 bytes). Skipping download.
2025-08-20 11:04:21,074 - INFO - fetchdata:199 - Local file grib_2025082000_0035 already exists and sizes match (8709328 bytes). Skipping download.
2025-08-20 11:04:21,076 - INFO - fetchdata:199 - Local file grib_2025082000_0036 already exists and sizes match (8679600 bytes). Skipping download.
2025-08-20 11:04:21,078 - INFO - fetchdata:199 - Local file grib_2025082000_0037 already exists and sizes match (8682202 bytes). Skipping download.
2025-08-20 11:04:21,080 - INFO - fetchdata:199 - Local file grib_2025082000_0038 already exists and sizes match (8710130 bytes). Skipping download.
2025-08-20 11:04:21,082 - INFO - fetchdata:199 - Local file grib_2025082000_0039 already exists and sizes match (8703730 bytes). Skipping download.
2025-08-20 11:04:21,084 - INFO - fetchdata:199 - Local file grib_2025082000_0040 already exists and sizes match (8706912 bytes). Skipping download.
2025-08-20 11:04:21,086 - INFO - fetchdata:199 - Local file grib_2025082000_0041 already exists and sizes match (8732688 bytes). Skipping download.
2025-08-20 11:04:21,088 - INFO - fetchdata:199 - Local file grib_2025082000_0042 already exists and sizes match (8775862 bytes). Skipping download.
2025-08-20 11:04:21,090 - INFO - fetchdata:199 - Local file grib_2025082000_0043 already exists and sizes match (8797148 bytes). Skipping download.
2025-08-20 11:04:21,092 - INFO - fetchdata:199 - Local file grib_2025082000_0044 already exists and sizes match (8851260 bytes). Skipping download.
2025-08-20 11:04:21,094 - INFO - fetchdata:199 - Local file grib_2025082000_0045 already exists and sizes match (8828100 bytes). Skipping download.
2025-08-20 11:04:21,096 - INFO - fetchdata:199 - Local file grib_2025082000_0046 already exists and sizes match (8836570 bytes). Skipping download.
2025-08-20 11:04:21,098 - INFO - fetchdata:199 - Local file grib_2025082000_0047 already exists and sizes match (8834464 bytes). Skipping download.
2025-08-20 11:04:21,100 - INFO - fetchdata:199 - Local file grib_2025082000_0048 already exists and sizes match (8827436 bytes). Skipping download.
2025-08-20 11:04:21,101 - INFO - fetchdata:252 - SFTP SSH client closed.
2025-08-20 11:04:21,101 - INFO - fetchdata:259 - SFTP file fetching process completed.
2025-08-20 11:04:21,101 - INFO - 1-get-aladin:108 - ARPEGE file fetching process completed for 2025-08-20.
2025-08-20 11:04:21,101 - INFO - 1-get-aladin:121 - Attempting to run next program: 2-conv.py
2025-08-20 11:04:21,101 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:04:21,854 - INFO - 2-conv:41 - --- Script '2-conv.py' started ---
2025-08-20 11:04:21,854 - INFO - 2-conv:42 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:04:21,854 - INFO - 2-conv:43 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:04:21,854 - INFO - 2-conv:44 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:04:21,854 - INFO - 2-conv:45 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:04:21,854 - INFO - 2-conv:46 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 11:04:21,854 - INFO - 2-conv:56 - Processing for date: 20250820
2025-08-20 11:04:21,854 - INFO - 2-conv:57 - Starting extraction of temperature from ARPEGE files.
2025-08-20 11:04:21,854 - INFO - 2-conv:66 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2. Processing this branch.
2025-08-20 11:04:21,854 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-20 11:04:21,854 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2' to 't2m00-12.grib'.
2025-08-20 11:04:21,854 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:04:22,217 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 11:04:22,217 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2' to 't2m12-24.grib'.
2025-08-20 11:04:22,217 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:04:22,580 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 11:04:22,581 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2' to 't2m24-36.grib'.
2025-08-20 11:04:22,581 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:04:22,943 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 11:04:22,943 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2' to 't2m36-48.grib'.
2025-08-20 11:04:22,943 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:04:23,307 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 11:04:23,307 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 11:04:23,307 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 11:04:23,344 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 11:04:23,344 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 11:04:23,344 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-20 11:04:23,345 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-20 11:04:23,346 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-20 11:04:23,347 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-20 11:04:23,348 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-20 11:04:23,348 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-20 11:04:23,348 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-20 11:04:23,348 - INFO - 2-conv:91 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 11:04:23,348 - INFO - 2-conv:128 - Attempting to run next program: 3-create_forecast_table.py
2025-08-20 11:04:23,348 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:04:24,159 - INFO - 3-create_forecast_table:51 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-20 11:04:24,159 - INFO - 3-create_forecast_table:52 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:04:24,159 - INFO - 3-create_forecast_table:53 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:04:24,159 - INFO - 3-create_forecast_table:54 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:04:24,159 - INFO - 3-create_forecast_table:55 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:04:24,159 - INFO - 3-create_forecast_table:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:04:24,159 - INFO - 3-create_forecast_table:71 - Preparing dates for data processing.
2025-08-20 11:04:24,160 - INFO - 3-create_forecast_table:78 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 11:04:24,160 - INFO - 3-create_forecast_table:93 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 11:04:24,163 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 11:04:24,172 - INFO - 3-create_forecast_table:99 - Successfully loaded 75 stations.
2025-08-20 11:04:24,180 - INFO - 3-create_forecast_table:112 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 11:04:24,401 - INFO - grib_processor:113 - GRIB file '2t_20250820.grib' opened successfully.
2025-08-20 11:04:24,401 - INFO - 3-create_forecast_table:115 - GRIB file resource successfully opened.
2025-08-20 11:04:24,401 - INFO - 3-create_forecast_table:132 - Starting GRIB data extraction for 2m temperature.
2025-08-20 11:04:24,401 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-20 11:04:29,001 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-20 11:04:29,001 - INFO - 3-create_forecast_table:144 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-20 11:04:29,045 - INFO - 3-create_forecast_table:161 - GRIB file resource closed successfully.
2025-08-20 11:04:29,045 - INFO - 3-create_forecast_table:167 - Calculating min and max temperatures across all time steps for each station.
2025-08-20 11:04:29,045 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-20 11:04:29,046 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-20 11:04:29,046 - INFO - 3-create_forecast_table:172 - Min/Max temperatures calculated successfully.
2025-08-20 11:04:29,046 - INFO - 3-create_forecast_table:180 - Converting results dictionary to pandas DataFrame.
2025-08-20 11:04:29,048 - INFO - 3-create_forecast_table:184 - DataFrame created successfully.
2025-08-20 11:04:29,071 - INFO - 3-create_forecast_table:197 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:04:29,076 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:04:29,076 - INFO - 3-create_forecast_table:202 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:04:29,076 - INFO - 3-create_forecast_table:209 - Attempting to run next program: 4-traitement_obs.py
2025-08-20 11:04:29,076 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:04:29,883 - INFO - 4-traitement_obs:49 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:04:29,883 - INFO - 4-traitement_obs:53 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 11:04:29,884 - INFO - 4-traitement_obs:59 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 11:04:29,884 - INFO - 4-traitement_obs:83 - Processing data for today (2025-08-20) and yesterday (2025-08-19).
2025-08-20 11:04:29,884 - INFO - 4-traitement_obs:110 - Initialized DataFrame with 47 unique stations.
2025-08-20 11:04:29,884 - INFO - 4-traitement_obs:138 - Configured to process 5 time steps for observations.
2025-08-20 11:04:29,885 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 11:04:30,025 - INFO - 4-traitement_obs:166 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 11:04:30,025 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 11:04:30,124 - INFO - 4-traitement_obs:166 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 11:04:30,124 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 11:04:30,220 - INFO - 4-traitement_obs:166 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 11:04:30,221 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 11:04:30,248 - INFO - 4-traitement_obs:166 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 11:04:30,248 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 11:04:30,314 - INFO - 4-traitement_obs:166 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 11:04:30,314 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 11:04:30,314 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 11:04:30,315 - INFO - 4-traitement_obs:184 - Final DataFrame head:
2025-08-20 11:04:30,318 - INFO - 4-traitement_obs:186 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 11:04:30,319 - INFO - 4-traitement_obs:198 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 11:04:30,320 - INFO - 4-traitement_obs:204 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 11:04:30,320 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:04:31,125 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-20 11:04:31,126 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:04:31,126 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:04:31,126 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 11:04:31,126 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-20 11:04:31,126 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-20 11:04:31,126 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-20 11:04:31,127 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 11:04:31,127 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 11:04:31,127 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-20 11:04:31,127 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 11:04:31,266 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 11:04:31,267 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 11:04:31,361 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 11:04:31,361 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-20 11:04:31,361 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 11:04:31,364 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-20 11:04:31,366 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 11:04:31,368 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:04:31,368 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-20 11:04:31,368 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:04:31,867 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 11:04:31,867 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 11:04:31,867 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 11:04:31,870 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:04:31,896 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 11:04:31,896 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 11:04:31,897 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 11:04:31,898 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:04:31,906 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:04:31,906 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 11:04:31,907 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:04:31,912 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:04:31,912 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 11:04:31,916 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 11:04:31,916 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 11:04:31,918 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 11:04:31,918 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 11:04:31,918 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 11:04:31,930 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 11:04:31,930 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:04:31,930 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 11:04:31,941 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 11:04:31,941 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:04:31,941 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 11:04:31,952 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 11:04:31,952 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:04:31,952 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 11:04:31,963 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 11:04:31,963 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:04:31,963 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 11:04:31,963 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 11:04:31,963 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:04:32,495 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 11:04:32,495 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:04:32,495 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:04:32,495 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:04:32,495 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:04:32,495 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:04:32,495 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 11:04:32,496 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 11:04:32,496 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 11:04:32,496 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:04:32,496 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:04:32,496 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:04:32,496 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:04:32,496 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:04:32,496 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:04:32,496 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 11:04:32,496 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:04:32,503 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 11:04:32,503 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:04:32,508 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 11:04:32,509 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:04:32,514 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 11:04:32,514 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:04:32,520 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 11:04:32,520 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 11:04:32,520 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 11:04:32,575 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:04:32,575 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 11:04:32,576 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 11:04:32,576 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 11:04:32,577 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 11:04:32,578 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 11:04:32,578 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 11:04:32,578 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 11:04:32,578 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 11:04:33,196 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 11:04:33,232 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 11:04:33,232 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 11:04:33,609 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 11:04:33,637 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 11:04:33,637 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 11:04:34,345 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 11:04:34,383 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 11:04:34,384 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 11:04:35,210 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 11:04:35,251 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 11:04:35,251 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 11:04:35,251 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:04:35,527 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:04:35,528 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 11:04:35,528 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 11:04:35,528 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 11:04:35,528 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 11:04:35,528 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:04:35,589 - INFO - 8-send_MSG:65 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:04:35,589 - INFO - 8-send_MSG:66 - Starting Sonelgaz bulletin sending script.
2025-08-20 11:04:35,589 - DEBUG - 8-send_MSG:74 - Base data path determined as: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:04:35,589 - INFO - 8-send_MSG:80 - Expected bulletin file path: /home/aoumeur/bqrm/sonelgaz/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:04:35,589 - WARNING - file_operations:245 - File not found: /home/aoumeur/bqrm/sonelgaz/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2. Skipping this operation.
2025-08-20 11:04:35,589 - WARNING - file_operations:245 - File not found: /home/aoumeur/bqrm/sonelgaz/../tmp/grib_2025082000_0000. Skipping this operation.
2025-08-20 11:04:35,590 - WARNING - 8-send_MSG:100 - Neither ARPEGE nor ALADIN GRIB files found. Setting default email subject/body.
2025-08-20 11:04:35,590 - WARNING - file_operations:245 - File not found: /home/aoumeur/bqrm/sonelgaz/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx. Skipping this operation.
2025-08-20 11:04:35,590 - CRITICAL - 8-send_MSG:122 - Bulletin file '/home/aoumeur/bqrm/sonelgaz/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx' not found. Email not sent.
2025-08-20 11:04:35,590 - INFO - 8-send_MSG:124 - Script execution finished.
2025-08-20 11:04:35,599 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 11:04:35,599 - INFO - 7-create_word:320 - Successfully executed 8-send_MSG.py.
2025-08-20 11:04:35,599 - INFO - 7-create_word:328 - --- Script '7-create_word.py' finished. ---
2025-08-20 11:04:35,686 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 11:04:35,686 - INFO - 6-create_tables:265 - Successfully executed 7-create_word.py.
2025-08-20 11:04:35,686 - INFO - 6-create_tables:274 - --- Script '6-create_tables.py' finished. ---
2025-08-20 11:04:35,760 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 11:04:35,760 - INFO - 5-traitement_obs_min_max:201 - Successfully executed 6-create_tables.py.
2025-08-20 11:04:35,760 - INFO - 5-traitement_obs_min_max:210 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-20 11:04:35,883 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 11:04:35,884 - INFO - 4-traitement_obs:212 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-20 11:04:35,884 - INFO - 4-traitement_obs:221 - --- Script '4-traitement_obs.py' finished. ---
2025-08-20 11:04:36,004 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 11:04:36,004 - INFO - 3-create_forecast_table:216 - Successfully executed 4-traitement_obs.py.
2025-08-20 11:04:36,004 - INFO - 3-create_forecast_table:224 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-20 11:04:36,127 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 11:04:36,127 - INFO - 2-conv:135 - Successfully executed 3-create_forecast_table.py.
2025-08-20 11:04:36,127 - INFO - 2-conv:140 - --- Script '2-conv.py' finished. ---
2025-08-20 11:04:36,231 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 11:04:36,231 - INFO - 1-get-aladin:128 - Successfully executed 2-conv.py.
2025-08-20 11:04:36,231 - INFO - 1-get-aladin:137 - --- Script '1-get-aladin.py' finished. ---
2025-08-20 11:18:18,186 - INFO - 1-get-aladin:44 - Configuration loaded directly from script variables.
2025-08-20 11:18:18,186 - INFO - 1-get-aladin:115 - --- Main script execution started ---
2025-08-20 11:18:18,186 - INFO - 1-get-aladin:50 - Reading current date and calculating next dates.
2025-08-20 11:18:18,187 - INFO - 1-get-aladin:75 - Preparing ARPEGE file list for date 2025-08-20.
2025-08-20 11:18:18,187 - INFO - 1-get-aladin:96 - Prepared 49 files for download.
2025-08-20 11:18:18,187 - INFO - fetchdata:169 - Starting SFTP file fetching process for 49 files.
2025-08-20 11:18:18,187 - INFO - fetchdata:33 - Attempting to create SFTP client for login2.fennec.meteo.dz:22 with user wchikhi.
2025-08-20 11:18:18,208 - INFO - transport:1844 - Connected (version 2.0, client OpenSSH_8.0)
2025-08-20 11:18:18,299 - INFO - transport:1844 - Authentication (password) successful!
2025-08-20 11:18:22,353 - INFO - sftp:158 - [chan 0] Opened sftp connection (server version 3)
2025-08-20 11:18:22,353 - INFO - fetchdata:39 - Successfully connected to SFTP server: login2.fennec.meteo.dz
2025-08-20 11:18:22,364 - INFO - fetchdata:199 - Local file grib_2025082000_0000 already exists and sizes match (9311132 bytes). Skipping download.
2025-08-20 11:18:22,366 - INFO - fetchdata:199 - Local file grib_2025082000_0001 already exists and sizes match (9330014 bytes). Skipping download.
2025-08-20 11:18:22,368 - INFO - fetchdata:199 - Local file grib_2025082000_0002 already exists and sizes match (9183888 bytes). Skipping download.
2025-08-20 11:18:22,370 - INFO - fetchdata:199 - Local file grib_2025082000_0003 already exists and sizes match (9090220 bytes). Skipping download.
2025-08-20 11:18:22,372 - INFO - fetchdata:199 - Local file grib_2025082000_0004 already exists and sizes match (8926742 bytes). Skipping download.
2025-08-20 11:18:22,374 - INFO - fetchdata:199 - Local file grib_2025082000_0005 already exists and sizes match (9003380 bytes). Skipping download.
2025-08-20 11:18:22,376 - INFO - fetchdata:199 - Local file grib_2025082000_0006 already exists and sizes match (9053076 bytes). Skipping download.
2025-08-20 11:18:22,379 - INFO - fetchdata:199 - Local file grib_2025082000_0007 already exists and sizes match (9111916 bytes). Skipping download.
2025-08-20 11:18:22,380 - INFO - fetchdata:199 - Local file grib_2025082000_0008 already exists and sizes match (9001182 bytes). Skipping download.
2025-08-20 11:18:22,382 - INFO - fetchdata:199 - Local file grib_2025082000_0009 already exists and sizes match (9006496 bytes). Skipping download.
2025-08-20 11:18:22,384 - INFO - fetchdata:199 - Local file grib_2025082000_0010 already exists and sizes match (8970906 bytes). Skipping download.
2025-08-20 11:18:22,385 - INFO - fetchdata:199 - Local file grib_2025082000_0011 already exists and sizes match (8950950 bytes). Skipping download.
2025-08-20 11:18:22,386 - INFO - fetchdata:199 - Local file grib_2025082000_0012 already exists and sizes match (8940760 bytes). Skipping download.
2025-08-20 11:18:22,387 - INFO - fetchdata:199 - Local file grib_2025082000_0013 already exists and sizes match (8948520 bytes). Skipping download.
2025-08-20 11:18:22,388 - INFO - fetchdata:199 - Local file grib_2025082000_0014 already exists and sizes match (9029268 bytes). Skipping download.
2025-08-20 11:18:22,390 - INFO - fetchdata:199 - Local file grib_2025082000_0015 already exists and sizes match (9057552 bytes). Skipping download.
2025-08-20 11:18:22,391 - INFO - fetchdata:199 - Local file grib_2025082000_0016 already exists and sizes match (9054908 bytes). Skipping download.
2025-08-20 11:18:22,392 - INFO - fetchdata:199 - Local file grib_2025082000_0017 already exists and sizes match (9100258 bytes). Skipping download.
2025-08-20 11:18:22,393 - INFO - fetchdata:199 - Local file grib_2025082000_0018 already exists and sizes match (9094616 bytes). Skipping download.
2025-08-20 11:18:22,394 - INFO - fetchdata:199 - Local file grib_2025082000_0019 already exists and sizes match (9076666 bytes). Skipping download.
2025-08-20 11:18:22,395 - INFO - fetchdata:199 - Local file grib_2025082000_0020 already exists and sizes match (9108510 bytes). Skipping download.
2025-08-20 11:18:22,396 - INFO - fetchdata:199 - Local file grib_2025082000_0021 already exists and sizes match (9119280 bytes). Skipping download.
2025-08-20 11:18:22,398 - INFO - fetchdata:199 - Local file grib_2025082000_0022 already exists and sizes match (9092246 bytes). Skipping download.
2025-08-20 11:18:22,399 - INFO - fetchdata:199 - Local file grib_2025082000_0023 already exists and sizes match (9075558 bytes). Skipping download.
2025-08-20 11:18:22,400 - INFO - fetchdata:199 - Local file grib_2025082000_0024 already exists and sizes match (9093534 bytes). Skipping download.
2025-08-20 11:18:22,401 - INFO - fetchdata:199 - Local file grib_2025082000_0025 already exists and sizes match (9056828 bytes). Skipping download.
2025-08-20 11:18:22,402 - INFO - fetchdata:199 - Local file grib_2025082000_0026 already exists and sizes match (9070856 bytes). Skipping download.
2025-08-20 11:18:22,403 - INFO - fetchdata:199 - Local file grib_2025082000_0027 already exists and sizes match (9019778 bytes). Skipping download.
2025-08-20 11:18:22,404 - INFO - fetchdata:199 - Local file grib_2025082000_0028 already exists and sizes match (8948896 bytes). Skipping download.
2025-08-20 11:18:22,405 - INFO - fetchdata:199 - Local file grib_2025082000_0029 already exists and sizes match (8936742 bytes). Skipping download.
2025-08-20 11:18:22,406 - INFO - fetchdata:199 - Local file grib_2025082000_0030 already exists and sizes match (8914622 bytes). Skipping download.
2025-08-20 11:18:22,407 - INFO - fetchdata:199 - Local file grib_2025082000_0031 already exists and sizes match (8825842 bytes). Skipping download.
2025-08-20 11:18:22,409 - INFO - fetchdata:199 - Local file grib_2025082000_0032 already exists and sizes match (8744854 bytes). Skipping download.
2025-08-20 11:18:22,410 - INFO - fetchdata:199 - Local file grib_2025082000_0033 already exists and sizes match (8755876 bytes). Skipping download.
2025-08-20 11:18:22,411 - INFO - fetchdata:199 - Local file grib_2025082000_0034 already exists and sizes match (8704384 bytes). Skipping download.
2025-08-20 11:18:22,412 - INFO - fetchdata:199 - Local file grib_2025082000_0035 already exists and sizes match (8709328 bytes). Skipping download.
2025-08-20 11:18:22,413 - INFO - fetchdata:199 - Local file grib_2025082000_0036 already exists and sizes match (8679600 bytes). Skipping download.
2025-08-20 11:18:22,414 - INFO - fetchdata:199 - Local file grib_2025082000_0037 already exists and sizes match (8682202 bytes). Skipping download.
2025-08-20 11:18:22,415 - INFO - fetchdata:199 - Local file grib_2025082000_0038 already exists and sizes match (8710130 bytes). Skipping download.
2025-08-20 11:18:22,416 - INFO - fetchdata:199 - Local file grib_2025082000_0039 already exists and sizes match (8703730 bytes). Skipping download.
2025-08-20 11:18:22,417 - INFO - fetchdata:199 - Local file grib_2025082000_0040 already exists and sizes match (8706912 bytes). Skipping download.
2025-08-20 11:18:22,418 - INFO - fetchdata:199 - Local file grib_2025082000_0041 already exists and sizes match (8732688 bytes). Skipping download.
2025-08-20 11:18:22,419 - INFO - fetchdata:199 - Local file grib_2025082000_0042 already exists and sizes match (8775862 bytes). Skipping download.
2025-08-20 11:18:22,421 - INFO - fetchdata:199 - Local file grib_2025082000_0043 already exists and sizes match (8797148 bytes). Skipping download.
2025-08-20 11:18:22,422 - INFO - fetchdata:199 - Local file grib_2025082000_0044 already exists and sizes match (8851260 bytes). Skipping download.
2025-08-20 11:18:22,423 - INFO - fetchdata:199 - Local file grib_2025082000_0045 already exists and sizes match (8828100 bytes). Skipping download.
2025-08-20 11:18:22,425 - INFO - fetchdata:199 - Local file grib_2025082000_0046 already exists and sizes match (8836570 bytes). Skipping download.
2025-08-20 11:18:22,426 - INFO - fetchdata:199 - Local file grib_2025082000_0047 already exists and sizes match (8834464 bytes). Skipping download.
2025-08-20 11:18:22,427 - INFO - fetchdata:199 - Local file grib_2025082000_0048 already exists and sizes match (8827436 bytes). Skipping download.
2025-08-20 11:18:22,427 - INFO - fetchdata:252 - SFTP SSH client closed.
2025-08-20 11:18:22,428 - INFO - fetchdata:259 - SFTP file fetching process completed.
2025-08-20 11:18:22,428 - INFO - 1-get-aladin:108 - ARPEGE file fetching process completed for 2025-08-20.
2025-08-20 11:18:22,428 - INFO - 1-get-aladin:121 - Attempting to run next program: 2-conv.py
2025-08-20 11:18:22,428 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:23,167 - INFO - 2-conv:41 - --- Script '2-conv.py' started ---
2025-08-20 11:18:23,167 - INFO - 2-conv:42 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:18:23,167 - INFO - 2-conv:43 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:23,167 - INFO - 2-conv:44 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:23,167 - INFO - 2-conv:45 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:23,167 - INFO - 2-conv:46 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 11:18:23,167 - INFO - 2-conv:56 - Processing for date: 20250820
2025-08-20 11:18:23,168 - INFO - 2-conv:57 - Starting extraction of temperature from ARPEGE files.
2025-08-20 11:18:23,168 - INFO - 2-conv:66 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2. Processing this branch.
2025-08-20 11:18:23,168 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-20 11:18:23,168 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2' to 't2m00-12.grib'.
2025-08-20 11:18:23,168 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:23,524 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 11:18:23,524 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2' to 't2m12-24.grib'.
2025-08-20 11:18:23,524 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:23,874 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 11:18:23,874 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2' to 't2m24-36.grib'.
2025-08-20 11:18:23,874 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:24,223 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 11:18:24,223 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2' to 't2m36-48.grib'.
2025-08-20 11:18:24,223 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:24,570 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 11:18:24,570 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 11:18:24,570 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 11:18:24,607 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 11:18:24,607 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 11:18:24,608 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-20 11:18:24,610 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-20 11:18:24,611 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-20 11:18:24,613 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-20 11:18:24,615 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-20 11:18:24,615 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-20 11:18:24,615 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-20 11:18:24,615 - INFO - 2-conv:91 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 11:18:24,616 - INFO - 2-conv:128 - Attempting to run next program: 3-create_forecast_table.py
2025-08-20 11:18:24,616 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:51 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:52 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:53 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:54 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:55 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:71 - Preparing dates for data processing.
2025-08-20 11:18:25,429 - INFO - 3-create_forecast_table:78 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 11:18:25,429 - INFO - 3-create_forecast_table:93 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 11:18:25,432 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 11:18:25,441 - INFO - 3-create_forecast_table:99 - Successfully loaded 75 stations.
2025-08-20 11:18:25,450 - INFO - 3-create_forecast_table:112 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 11:18:25,667 - INFO - grib_processor:113 - GRIB file '2t_20250820.grib' opened successfully.
2025-08-20 11:18:25,667 - INFO - 3-create_forecast_table:115 - GRIB file resource successfully opened.
2025-08-20 11:18:25,668 - INFO - 3-create_forecast_table:132 - Starting GRIB data extraction for 2m temperature.
2025-08-20 11:18:25,668 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-20 11:18:30,238 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-20 11:18:30,238 - INFO - 3-create_forecast_table:144 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-20 11:18:30,283 - INFO - 3-create_forecast_table:161 - GRIB file resource closed successfully.
2025-08-20 11:18:30,283 - INFO - 3-create_forecast_table:167 - Calculating min and max temperatures across all time steps for each station.
2025-08-20 11:18:30,283 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-20 11:18:30,283 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-20 11:18:30,284 - INFO - 3-create_forecast_table:172 - Min/Max temperatures calculated successfully.
2025-08-20 11:18:30,284 - INFO - 3-create_forecast_table:180 - Converting results dictionary to pandas DataFrame.
2025-08-20 11:18:30,285 - INFO - 3-create_forecast_table:184 - DataFrame created successfully.
2025-08-20 11:18:30,309 - INFO - 3-create_forecast_table:197 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:30,314 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:30,314 - INFO - 3-create_forecast_table:202 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:30,314 - INFO - 3-create_forecast_table:209 - Attempting to run next program: 4-traitement_obs.py
2025-08-20 11:18:30,314 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:31,119 - INFO - 4-traitement_obs:49 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:31,119 - INFO - 4-traitement_obs:53 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:59 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:83 - Processing data for today (2025-08-20) and yesterday (2025-08-19).
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:110 - Initialized DataFrame with 47 unique stations.
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:138 - Configured to process 5 time steps for observations.
2025-08-20 11:18:31,120 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 11:18:31,261 - INFO - 4-traitement_obs:166 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 11:18:31,261 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 11:18:31,360 - INFO - 4-traitement_obs:166 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 11:18:31,360 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 11:18:31,453 - INFO - 4-traitement_obs:166 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 11:18:31,453 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 11:18:31,481 - INFO - 4-traitement_obs:166 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 11:18:31,481 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 11:18:31,546 - INFO - 4-traitement_obs:166 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 11:18:31,547 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 11:18:31,547 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 11:18:31,547 - INFO - 4-traitement_obs:184 - Final DataFrame head:
2025-08-20 11:18:31,550 - INFO - 4-traitement_obs:186 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 11:18:31,552 - INFO - 4-traitement_obs:198 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 11:18:31,552 - INFO - 4-traitement_obs:204 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 11:18:31,552 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-20 11:18:32,361 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 11:18:32,501 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 11:18:32,501 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 11:18:32,594 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 11:18:32,594 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-20 11:18:32,594 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 11:18:32,597 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-20 11:18:32,599 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 11:18:32,601 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:32,601 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-20 11:18:32,601 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:33,096 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 11:18:33,096 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 11:18:33,097 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 11:18:33,099 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:33,125 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 11:18:33,126 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 11:18:33,126 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 11:18:33,127 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:18:33,135 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:18:33,135 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 11:18:33,136 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:33,141 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:33,141 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 11:18:33,145 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 11:18:33,145 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 11:18:33,146 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 11:18:33,146 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 11:18:33,147 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 11:18:33,158 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 11:18:33,158 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,159 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 11:18:33,169 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 11:18:33,169 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,169 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 11:18:33,180 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 11:18:33,180 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,180 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 11:18:33,191 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 11:18:33,191 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,191 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 11:18:33,191 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 11:18:33,191 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:33,722 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 11:18:33,722 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:18:33,722 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 11:18:33,722 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 11:18:33,722 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 11:18:33,723 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 11:18:33,723 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,730 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 11:18:33,730 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,735 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 11:18:33,735 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,741 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 11:18:33,741 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,747 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 11:18:33,747 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 11:18:33,747 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 11:18:33,802 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,802 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 11:18:33,803 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 11:18:33,804 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 11:18:33,804 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 11:18:33,805 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 11:18:33,805 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 11:18:33,805 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 11:18:33,805 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 11:18:34,412 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 11:18:34,820 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 11:18:35,546 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 11:18:36,400 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 11:18:36,440 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,717 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,718 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 11:18:36,718 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 11:18:36,718 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 11:18:36,718 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 11:18:36,718 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,785 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,785 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 11:18:36,785 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 13, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 11:18:36,785 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:36,879 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,879 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:33,722 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 11:18:33,722 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:18:33,722 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 11:18:33,722 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 11:18:33,722 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 11:18:33,723 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 11:18:33,723 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,730 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 11:18:33,730 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,735 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 11:18:33,735 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,741 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 11:18:33,741 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,747 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 11:18:33,747 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 11:18:33,747 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 11:18:33,802 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,802 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 11:18:33,803 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 11:18:33,804 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 11:18:33,804 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 11:18:33,805 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 11:18:33,805 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 11:18:33,805 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 11:18:33,805 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 11:18:34,412 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 11:18:34,820 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 11:18:35,546 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 11:18:36,400 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 11:18:36,440 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,717 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,718 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 11:18:36,718 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 11:18:36,718 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 11:18:36,718 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 11:18:36,718 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,785 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,785 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 11:18:36,785 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 13, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 11:18:36,785 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:36,879 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:36,879 - ERROR - 6-create_tables:267 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 261, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:36,952 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,952 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:33,096 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 11:18:33,096 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 11:18:33,097 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 11:18:33,099 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:33,125 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 11:18:33,126 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 11:18:33,126 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 11:18:33,127 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:18:33,135 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:18:33,135 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 11:18:33,136 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:33,141 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:33,141 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 11:18:33,145 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 11:18:33,145 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 11:18:33,146 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 11:18:33,146 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 11:18:33,147 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 11:18:33,158 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 11:18:33,158 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,159 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 11:18:33,169 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 11:18:33,169 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,169 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 11:18:33,180 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 11:18:33,180 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,180 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 11:18:33,191 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 11:18:33,191 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,191 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 11:18:33,191 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 11:18:33,191 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,879 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,879 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:33,722 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 11:18:33,722 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:18:33,722 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 11:18:33,722 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 11:18:33,722 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 11:18:33,723 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 11:18:33,723 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,730 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 11:18:33,730 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,735 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 11:18:33,735 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,741 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 11:18:33,741 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,747 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 11:18:33,747 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 11:18:33,747 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 11:18:33,802 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,802 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 11:18:33,803 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 11:18:33,804 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 11:18:33,804 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 11:18:33,805 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 11:18:33,805 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 11:18:33,805 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 11:18:33,805 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 11:18:34,412 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 11:18:34,820 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 11:18:35,546 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 11:18:36,400 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 11:18:36,440 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,717 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,718 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 11:18:36,718 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 11:18:36,718 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 11:18:36,718 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 11:18:36,718 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,785 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,785 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 11:18:36,785 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 13, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 11:18:36,785 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:36,879 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:36,879 - ERROR - 6-create_tables:267 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 261, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:36,952 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-20 11:18:36,952 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,074 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:37,074 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-20 11:18:32,361 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 11:18:32,501 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 11:18:32,501 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 11:18:32,594 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 11:18:32,594 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-20 11:18:32,594 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 11:18:32,597 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-20 11:18:32,599 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 11:18:32,601 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:32,601 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-20 11:18:32,601 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,952 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,952 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:33,096 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 11:18:33,096 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 11:18:33,097 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 11:18:33,099 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:33,125 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 11:18:33,126 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 11:18:33,126 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 11:18:33,127 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:18:33,135 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:18:33,135 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 11:18:33,136 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:33,141 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:33,141 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 11:18:33,145 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 11:18:33,145 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 11:18:33,146 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 11:18:33,146 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 11:18:33,147 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 11:18:33,158 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 11:18:33,158 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,159 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 11:18:33,169 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 11:18:33,169 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,169 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 11:18:33,180 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 11:18:33,180 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,180 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 11:18:33,191 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 11:18:33,191 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,191 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 11:18:33,191 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 11:18:33,191 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,879 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,879 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:33,722 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 11:18:33,722 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:18:33,722 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 11:18:33,722 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 11:18:33,722 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 11:18:33,723 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 11:18:33,723 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,730 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 11:18:33,730 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,735 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 11:18:33,735 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,741 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 11:18:33,741 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,747 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 11:18:33,747 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 11:18:33,747 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 11:18:33,802 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,802 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 11:18:33,803 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 11:18:33,804 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 11:18:33,804 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 11:18:33,805 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 11:18:33,805 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 11:18:33,805 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 11:18:33,805 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 11:18:34,412 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 11:18:34,820 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 11:18:35,546 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 11:18:36,400 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 11:18:36,440 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,717 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,718 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 11:18:36,718 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 11:18:36,718 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 11:18:36,718 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 11:18:36,718 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,785 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,785 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 11:18:36,785 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 13, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 11:18:36,785 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:36,879 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:36,879 - ERROR - 6-create_tables:267 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 261, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:36,952 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-20 11:18:36,952 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,074 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:37,074 - ERROR - 4-traitement_obs:214 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 208, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,194 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:37,195 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:31,119 - INFO - 4-traitement_obs:49 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:31,119 - INFO - 4-traitement_obs:53 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:59 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:83 - Processing data for today (2025-08-20) and yesterday (2025-08-19).
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:110 - Initialized DataFrame with 47 unique stations.
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:138 - Configured to process 5 time steps for observations.
2025-08-20 11:18:31,120 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 11:18:31,261 - INFO - 4-traitement_obs:166 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 11:18:31,261 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 11:18:31,360 - INFO - 4-traitement_obs:166 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 11:18:31,360 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 11:18:31,453 - INFO - 4-traitement_obs:166 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 11:18:31,453 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 11:18:31,481 - INFO - 4-traitement_obs:166 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 11:18:31,481 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 11:18:31,546 - INFO - 4-traitement_obs:166 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 11:18:31,547 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 11:18:31,547 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 11:18:31,547 - INFO - 4-traitement_obs:184 - Final DataFrame head:
2025-08-20 11:18:31,550 - INFO - 4-traitement_obs:186 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 11:18:31,552 - INFO - 4-traitement_obs:198 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 11:18:31,552 - INFO - 4-traitement_obs:204 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 11:18:31,552 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:37,074 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:37,074 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-20 11:18:32,361 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 11:18:32,501 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 11:18:32,501 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 11:18:32,594 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 11:18:32,594 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-20 11:18:32,594 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 11:18:32,597 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-20 11:18:32,599 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 11:18:32,601 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:32,601 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-20 11:18:32,601 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,952 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,952 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:33,096 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 11:18:33,096 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 11:18:33,097 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 11:18:33,099 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:33,125 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 11:18:33,126 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 11:18:33,126 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 11:18:33,127 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:18:33,135 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:18:33,135 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 11:18:33,136 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:33,141 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:33,141 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 11:18:33,145 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 11:18:33,145 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 11:18:33,146 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 11:18:33,146 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 11:18:33,147 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 11:18:33,158 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 11:18:33,158 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,159 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 11:18:33,169 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 11:18:33,169 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,169 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 11:18:33,180 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 11:18:33,180 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,180 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 11:18:33,191 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 11:18:33,191 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,191 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 11:18:33,191 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 11:18:33,191 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,879 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,879 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:33,722 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 11:18:33,722 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:18:33,722 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 11:18:33,722 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 11:18:33,722 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 11:18:33,723 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 11:18:33,723 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,730 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 11:18:33,730 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,735 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 11:18:33,735 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,741 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 11:18:33,741 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,747 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 11:18:33,747 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 11:18:33,747 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 11:18:33,802 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,802 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 11:18:33,803 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 11:18:33,804 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 11:18:33,804 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 11:18:33,805 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 11:18:33,805 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 11:18:33,805 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 11:18:33,805 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 11:18:34,412 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 11:18:34,820 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 11:18:35,546 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 11:18:36,400 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 11:18:36,440 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,717 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,718 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 11:18:36,718 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 11:18:36,718 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 11:18:36,718 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 11:18:36,718 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,785 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,785 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 11:18:36,785 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 13, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 11:18:36,785 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:36,879 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:36,879 - ERROR - 6-create_tables:267 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 261, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:36,952 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-20 11:18:36,952 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,074 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:37,074 - ERROR - 4-traitement_obs:214 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 208, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,195 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:37,195 - ERROR - 3-create_forecast_table:218 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 212, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,318 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:37,318 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:51 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:52 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:53 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:54 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:55 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:71 - Preparing dates for data processing.
2025-08-20 11:18:25,429 - INFO - 3-create_forecast_table:78 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 11:18:25,429 - INFO - 3-create_forecast_table:93 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 11:18:25,432 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 11:18:25,441 - INFO - 3-create_forecast_table:99 - Successfully loaded 75 stations.
2025-08-20 11:18:25,450 - INFO - 3-create_forecast_table:112 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 11:18:25,667 - INFO - grib_processor:113 - GRIB file '2t_20250820.grib' opened successfully.
2025-08-20 11:18:25,667 - INFO - 3-create_forecast_table:115 - GRIB file resource successfully opened.
2025-08-20 11:18:25,668 - INFO - 3-create_forecast_table:132 - Starting GRIB data extraction for 2m temperature.
2025-08-20 11:18:25,668 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-20 11:18:30,238 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-20 11:18:30,238 - INFO - 3-create_forecast_table:144 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-20 11:18:30,283 - INFO - 3-create_forecast_table:161 - GRIB file resource closed successfully.
2025-08-20 11:18:30,283 - INFO - 3-create_forecast_table:167 - Calculating min and max temperatures across all time steps for each station.
2025-08-20 11:18:30,283 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-20 11:18:30,283 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-20 11:18:30,284 - INFO - 3-create_forecast_table:172 - Min/Max temperatures calculated successfully.
2025-08-20 11:18:30,284 - INFO - 3-create_forecast_table:180 - Converting results dictionary to pandas DataFrame.
2025-08-20 11:18:30,285 - INFO - 3-create_forecast_table:184 - DataFrame created successfully.
2025-08-20 11:18:30,309 - INFO - 3-create_forecast_table:197 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:30,314 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:30,314 - INFO - 3-create_forecast_table:202 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:30,314 - INFO - 3-create_forecast_table:209 - Attempting to run next program: 4-traitement_obs.py
2025-08-20 11:18:30,314 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:37,194 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:37,195 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:31,119 - INFO - 4-traitement_obs:49 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:31,119 - INFO - 4-traitement_obs:53 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:59 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:83 - Processing data for today (2025-08-20) and yesterday (2025-08-19).
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:110 - Initialized DataFrame with 47 unique stations.
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:138 - Configured to process 5 time steps for observations.
2025-08-20 11:18:31,120 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 11:18:31,261 - INFO - 4-traitement_obs:166 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 11:18:31,261 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 11:18:31,360 - INFO - 4-traitement_obs:166 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 11:18:31,360 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 11:18:31,453 - INFO - 4-traitement_obs:166 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 11:18:31,453 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 11:18:31,481 - INFO - 4-traitement_obs:166 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 11:18:31,481 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 11:18:31,546 - INFO - 4-traitement_obs:166 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 11:18:31,547 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 11:18:31,547 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 11:18:31,547 - INFO - 4-traitement_obs:184 - Final DataFrame head:
2025-08-20 11:18:31,550 - INFO - 4-traitement_obs:186 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 11:18:31,552 - INFO - 4-traitement_obs:198 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 11:18:31,552 - INFO - 4-traitement_obs:204 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 11:18:31,552 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:37,074 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:37,074 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-20 11:18:32,361 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 11:18:32,501 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 11:18:32,501 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 11:18:32,594 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 11:18:32,594 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-20 11:18:32,594 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 11:18:32,597 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-20 11:18:32,599 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 11:18:32,601 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:32,601 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-20 11:18:32,601 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,952 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,952 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:33,096 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 11:18:33,096 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 11:18:33,097 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 11:18:33,099 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:33,125 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 11:18:33,126 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 11:18:33,126 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 11:18:33,127 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:18:33,135 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:18:33,135 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 11:18:33,136 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:33,141 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:33,141 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 11:18:33,145 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 11:18:33,145 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 11:18:33,146 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 11:18:33,146 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 11:18:33,147 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 11:18:33,158 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 11:18:33,158 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,159 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 11:18:33,169 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 11:18:33,169 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,169 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 11:18:33,180 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 11:18:33,180 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,180 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 11:18:33,191 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 11:18:33,191 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,191 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 11:18:33,191 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 11:18:33,191 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,879 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,879 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:33,722 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 11:18:33,722 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:18:33,722 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 11:18:33,722 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 11:18:33,722 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 11:18:33,723 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 11:18:33,723 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,730 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 11:18:33,730 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,735 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 11:18:33,735 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,741 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 11:18:33,741 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,747 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 11:18:33,747 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 11:18:33,747 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 11:18:33,802 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,802 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 11:18:33,803 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 11:18:33,804 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 11:18:33,804 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 11:18:33,805 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 11:18:33,805 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 11:18:33,805 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 11:18:33,805 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 11:18:34,412 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 11:18:34,820 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 11:18:35,546 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 11:18:36,400 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 11:18:36,440 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,717 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,718 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 11:18:36,718 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 11:18:36,718 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 11:18:36,718 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 11:18:36,718 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,785 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,785 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 11:18:36,785 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 13, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 11:18:36,785 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:36,879 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:36,879 - ERROR - 6-create_tables:267 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 261, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:36,952 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-20 11:18:36,952 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,074 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:37,074 - ERROR - 4-traitement_obs:214 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 208, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,195 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:37,195 - ERROR - 3-create_forecast_table:218 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 212, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,319 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:37,319 - ERROR - 2-conv:137 - An error occurred while running 3-create_forecast_table.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py", line 131, in main
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,425 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:37,425 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:23,167 - INFO - 2-conv:41 - --- Script '2-conv.py' started ---
2025-08-20 11:18:23,167 - INFO - 2-conv:42 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:18:23,167 - INFO - 2-conv:43 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:23,167 - INFO - 2-conv:44 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:23,167 - INFO - 2-conv:45 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:23,167 - INFO - 2-conv:46 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 11:18:23,167 - INFO - 2-conv:56 - Processing for date: 20250820
2025-08-20 11:18:23,168 - INFO - 2-conv:57 - Starting extraction of temperature from ARPEGE files.
2025-08-20 11:18:23,168 - INFO - 2-conv:66 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2. Processing this branch.
2025-08-20 11:18:23,168 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-20 11:18:23,168 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2' to 't2m00-12.grib'.
2025-08-20 11:18:23,168 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:23,524 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 11:18:23,524 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2' to 't2m12-24.grib'.
2025-08-20 11:18:23,524 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:23,874 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 11:18:23,874 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2' to 't2m24-36.grib'.
2025-08-20 11:18:23,874 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:24,223 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 11:18:24,223 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2' to 't2m36-48.grib'.
2025-08-20 11:18:24,223 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:24,570 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 11:18:24,570 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 11:18:24,570 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 11:18:24,607 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 11:18:24,607 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 11:18:24,608 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-20 11:18:24,610 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-20 11:18:24,611 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-20 11:18:24,613 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-20 11:18:24,615 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-20 11:18:24,615 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-20 11:18:24,615 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-20 11:18:24,615 - INFO - 2-conv:91 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 11:18:24,616 - INFO - 2-conv:128 - Attempting to run next program: 3-create_forecast_table.py
2025-08-20 11:18:24,616 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:37,318 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:37,318 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:51 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:52 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:53 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:54 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:55 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:25,428 - INFO - 3-create_forecast_table:71 - Preparing dates for data processing.
2025-08-20 11:18:25,429 - INFO - 3-create_forecast_table:78 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 11:18:25,429 - INFO - 3-create_forecast_table:93 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 11:18:25,432 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 11:18:25,441 - INFO - 3-create_forecast_table:99 - Successfully loaded 75 stations.
2025-08-20 11:18:25,450 - INFO - 3-create_forecast_table:112 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 11:18:25,667 - INFO - grib_processor:113 - GRIB file '2t_20250820.grib' opened successfully.
2025-08-20 11:18:25,667 - INFO - 3-create_forecast_table:115 - GRIB file resource successfully opened.
2025-08-20 11:18:25,668 - INFO - 3-create_forecast_table:132 - Starting GRIB data extraction for 2m temperature.
2025-08-20 11:18:25,668 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-20 11:18:30,238 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-20 11:18:30,238 - INFO - 3-create_forecast_table:144 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-20 11:18:30,283 - INFO - 3-create_forecast_table:161 - GRIB file resource closed successfully.
2025-08-20 11:18:30,283 - INFO - 3-create_forecast_table:167 - Calculating min and max temperatures across all time steps for each station.
2025-08-20 11:18:30,283 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-20 11:18:30,283 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-20 11:18:30,284 - INFO - 3-create_forecast_table:172 - Min/Max temperatures calculated successfully.
2025-08-20 11:18:30,284 - INFO - 3-create_forecast_table:180 - Converting results dictionary to pandas DataFrame.
2025-08-20 11:18:30,285 - INFO - 3-create_forecast_table:184 - DataFrame created successfully.
2025-08-20 11:18:30,309 - INFO - 3-create_forecast_table:197 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:30,314 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:30,314 - INFO - 3-create_forecast_table:202 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:30,314 - INFO - 3-create_forecast_table:209 - Attempting to run next program: 4-traitement_obs.py
2025-08-20 11:18:30,314 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:37,194 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:37,195 - ERROR - system_utils:58 - STDOUT: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:31,119 - INFO - 4-traitement_obs:49 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:31,119 - INFO - 4-traitement_obs:53 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:59 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:83 - Processing data for today (2025-08-20) and yesterday (2025-08-19).
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:110 - Initialized DataFrame with 47 unique stations.
2025-08-20 11:18:31,120 - INFO - 4-traitement_obs:138 - Configured to process 5 time steps for observations.
2025-08-20 11:18:31,120 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 11:18:31,261 - INFO - 4-traitement_obs:166 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 11:18:31,261 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 11:18:31,360 - INFO - 4-traitement_obs:166 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 11:18:31,360 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 11:18:31,453 - INFO - 4-traitement_obs:166 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 11:18:31,453 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 11:18:31,481 - INFO - 4-traitement_obs:166 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 11:18:31,481 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 11:18:31,546 - INFO - 4-traitement_obs:166 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 11:18:31,547 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 11:18:31,547 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 11:18:31,547 - INFO - 4-traitement_obs:184 - Final DataFrame head:
2025-08-20 11:18:31,550 - INFO - 4-traitement_obs:186 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 11:18:31,552 - INFO - 4-traitement_obs:198 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 11:18:31,552 - INFO - 4-traitement_obs:204 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 11:18:31,552 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:37,074 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:37,074 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:49 - --- Script Start ---
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:50 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:51 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:59 - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 11:18:32,360 - INFO - 5-traitement_obs_min_max:79 - Defined 4 regions with a total of 47 stations.
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:82 - Unique stations identified: 47
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:86 - Initial DataFrame created with all station names.
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:94 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 11:18:32,361 - INFO - 5-traitement_obs_min_max:105 - Proceeding with available BUFR files.
2025-08-20 11:18:32,361 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 11:18:32,501 - INFO - 5-traitement_obs_min_max:117 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 11:18:32,501 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 11:18:32,594 - INFO - 5-traitement_obs_min_max:132 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 11:18:32,594 - INFO - 5-traitement_obs_min_max:139 - Starting DataFrame cleaning and filtering.
2025-08-20 11:18:32,594 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 11:18:32,597 - INFO - 5-traitement_obs_min_max:166 - Final cleaned DataFrame has 47 rows.
2025-08-20 11:18:32,599 - INFO - 5-traitement_obs_min_max:176 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 11:18:32,601 - INFO - 5-traitement_obs_min_max:186 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:32,601 - INFO - 5-traitement_obs_min_max:193 - Attempting to run next program: 6-create_tables.py
2025-08-20 11:18:32,601 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,952 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,952 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:33,096 - INFO - 6-create_tables:72 - Preparing date variables for file paths.
2025-08-20 11:18:33,096 - INFO - 6-create_tables:74 - Dates prepared: Today 20250820, Yesterday 20250819
2025-08-20 11:18:33,097 - INFO - 6-create_tables:79 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 11:18:33,099 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 11:18:33,125 - INFO - 6-create_tables:93 - Processing arpege data for 't_demain_arp'.
2025-08-20 11:18:33,126 - INFO - 6-create_tables:108 - Arpege data processed successfully.
2025-08-20 11:18:33,126 - INFO - 6-create_tables:122 - Loading and processing observations data.
2025-08-20 11:18:33,127 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:18:33,135 - INFO - 6-create_tables:139 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 11:18:33,135 - INFO - 6-create_tables:149 - Loading and processing observations min/max data.
2025-08-20 11:18:33,136 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:33,141 - INFO - 6-create_tables:163 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 11:18:33,141 - INFO - 6-create_tables:172 - Merging all processed dataframes into 'full_table'.
2025-08-20 11:18:33,145 - INFO - 6-create_tables:178 - Dataframes merged successfully.
2025-08-20 11:18:33,145 - INFO - 6-create_tables:184 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 11:18:33,146 - INFO - 6-create_tables:193 - Columns reindexed and missing values filled.
2025-08-20 11:18:33,146 - INFO - 6-create_tables:216 - Starting processing and saving Excel files for each region.
2025-08-20 11:18:33,147 - INFO - 6-create_tables:219 - Processing region: Ouest
2025-08-20 11:18:33,158 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 11:18:33,158 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,159 - INFO - 6-create_tables:219 - Processing region: Centre
2025-08-20 11:18:33,169 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 11:18:33,169 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,169 - INFO - 6-create_tables:219 - Processing region: Est
2025-08-20 11:18:33,180 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 11:18:33,180 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,180 - INFO - 6-create_tables:219 - Processing region: Sud
2025-08-20 11:18:33,191 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 11:18:33,191 - INFO - 6-create_tables:246 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,191 - INFO - 6-create_tables:253 - All regional Excel files processed and created successfully.
2025-08-20 11:18:33,191 - INFO - 6-create_tables:257 - Attempting to run next program: 7-create_word.py
2025-08-20 11:18:33,191 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,879 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,879 - ERROR - system_utils:58 - STDOUT: 2025-08-20 11:18:33,722 - INFO - 7-create_word:52 - --- Script '7-create_word.py' execution started. ---
2025-08-20 11:18:33,722 - INFO - 7-create_word:53 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 11:18:33,722 - INFO - 7-create_word:54 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:55 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:56 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 11:18:33,722 - INFO - 7-create_word:60 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 11:18:33,722 - INFO - 7-create_word:71 - Preparing today's and tomorrow's dates.
2025-08-20 11:18:33,722 - INFO - 7-create_word:78 - Today's date: 20-08-2025, Tomorrow's date: 21-08-2025
2025-08-20 11:18:33,722 - INFO - 7-create_word:206 - Defining file paths for Excel, Word template, and output.
2025-08-20 11:18:33,723 - INFO - 7-create_word:214 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:215 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:216 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:217 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,723 - INFO - 7-create_word:218 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:219 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:33,723 - INFO - 7-create_word:223 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 11:18:33,723 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 11:18:33,730 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 11:18:33,730 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 11:18:33,735 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 11:18:33,735 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 11:18:33,741 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 11:18:33,741 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 11:18:33,747 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 11:18:33,747 - INFO - 7-create_word:229 - All Excel workbooks loaded successfully.
2025-08-20 11:18:33,747 - INFO - 7-create_word:237 - Loading Word template...
2025-08-20 11:18:33,802 - INFO - 7-create_word:241 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 11:18:33,802 - INFO - 7-create_word:252 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 11:18:33,803 - INFO - 7-create_word:103 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 11:18:33,804 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 11:18:33,804 - INFO - 7-create_word:103 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 11:18:33,805 - INFO - 7-create_word:126 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 11:18:33,805 - INFO - 7-create_word:256 - Dates in Word document updated successfully.
2025-08-20 11:18:33,805 - INFO - 7-create_word:263 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 11:18:33,805 - INFO - 7-create_word:143 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 11:18:34,412 - INFO - 7-create_word:181 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 11:18:34,448 - INFO - 7-create_word:143 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 11:18:34,820 - INFO - 7-create_word:181 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 11:18:34,847 - INFO - 7-create_word:143 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 11:18:35,546 - INFO - 7-create_word:181 - Applying formatting to table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 11:18:35,584 - INFO - 7-create_word:143 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 11:18:36,400 - INFO - 7-create_word:181 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:202 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 11:18:36,440 - INFO - 7-create_word:270 - All specified tables in Word document updated successfully.
2025-08-20 11:18:36,440 - INFO - 7-create_word:281 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,717 - INFO - 7-create_word:286 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 11:18:36,718 - INFO - 7-create_word:290 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 11:18:36,718 - INFO - 7-create_word:303 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 11:18:36,718 - INFO - 7-create_word:306 - Temporary files cleanup complete.
2025-08-20 11:18:36,718 - INFO - 7-create_word:313 - Attempting to run next program: 8-send_MSG.py
2025-08-20 11:18:36,718 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 11:18:36,785 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py --shared-log-file /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-20 11:18:36,785 - ERROR - system_utils:58 - STDOUT: 
2025-08-20 11:18:36,785 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py", line 13, in <module>
    from pytaps.date_utils import get_ymd_for_today_and_yesterday
ModuleNotFoundError: No module named 'pytaps.date_utils'
2025-08-20 11:18:36,785 - ERROR - 7-create_word:322 - An error occurred while running 8-send_MSG.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py", line 316, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:36,879 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:36,879 - ERROR - 6-create_tables:267 - An error occurred while running 7-create_word.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py", line 261, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:36,952 - ERROR - system_utils:59 - STDERR: /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py:222: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
  tab_region = full_table.set_index("Station").reindex(stations).reset_index().fillna("/")
2025-08-20 11:18:36,952 - ERROR - 5-traitement_obs_min_max:203 - An error occurred while running 6-create_tables.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py", line 197, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,074 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:37,074 - ERROR - 4-traitement_obs:214 - An error occurred while running 5-traitement_obs_min_max.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py", line 208, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,195 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:37,195 - ERROR - 3-create_forecast_table:218 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py", line 212, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,319 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:37,319 - ERROR - 2-conv:137 - An error occurred while running 3-create_forecast_table.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py", line 131, in main
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 11:18:37,425 - ERROR - system_utils:59 - STDERR: 
2025-08-20 11:18:37,425 - ERROR - 1-get-aladin:130 - An error occurred while running 2-conv.py: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get-aladin.py", line 124, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/bqrm/sonelgaz/scr/2-conv.py', '--shared-log-file', '/home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-20 14:02:27,090 - INFO - 1-get-aladin:33 - --- Script 'sonelgaz' execution started. ---
2025-08-20 14:02:27,090 - INFO - 1-get-aladin:34 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:02:27,090 - INFO - 1-get-aladin:35 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:02:27,090 - INFO - 1-get-aladin:36 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:02:27,090 - INFO - 1-get-aladin:37 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:02:27,090 - INFO - 1-get-aladin:41 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:02:27,090 - INFO - 1-get-aladin:60 - Configuration loaded directly from script variables (for ALADIN data).
2025-08-20 14:02:27,090 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:02:27,090 - INFO - 1-get-aladin:126 - --- Main script execution started ---
2025-08-20 14:02:27,090 - INFO - 1-get-aladin:80 - Preparing ALADIN file list for date 2025-08-20 with resolution 00.
2025-08-20 14:02:27,091 - INFO - 1-get-aladin:106 - Prepared 49 files for download.
2025-08-20 14:02:27,091 - INFO - fetchdata:169 - Starting SFTP file fetching process for 49 files.
2025-08-20 14:02:27,091 - INFO - fetchdata:33 - Attempting to create SFTP client for login2.fennec.meteo.dz:22 with user wchikhi.
2025-08-20 14:02:27,112 - INFO - transport:1844 - Connected (version 2.0, client OpenSSH_8.0)
2025-08-20 14:02:27,203 - INFO - transport:1844 - Authentication (password) successful!
2025-08-20 14:02:31,661 - INFO - sftp:158 - [chan 0] Opened sftp connection (server version 3)
2025-08-20 14:02:31,661 - INFO - fetchdata:39 - Successfully connected to SFTP server: login2.fennec.meteo.dz
2025-08-20 14:02:31,664 - INFO - fetchdata:199 - Local file grib_2025082000_0000 already exists and sizes match (9311132 bytes). Skipping download.
2025-08-20 14:02:31,667 - INFO - fetchdata:199 - Local file grib_2025082000_0001 already exists and sizes match (9330014 bytes). Skipping download.
2025-08-20 14:02:31,669 - INFO - fetchdata:199 - Local file grib_2025082000_0002 already exists and sizes match (9183888 bytes). Skipping download.
2025-08-20 14:02:31,671 - INFO - fetchdata:199 - Local file grib_2025082000_0003 already exists and sizes match (9090220 bytes). Skipping download.
2025-08-20 14:02:31,673 - INFO - fetchdata:199 - Local file grib_2025082000_0004 already exists and sizes match (8926742 bytes). Skipping download.
2025-08-20 14:02:31,675 - INFO - fetchdata:199 - Local file grib_2025082000_0005 already exists and sizes match (9003380 bytes). Skipping download.
2025-08-20 14:02:31,677 - INFO - fetchdata:199 - Local file grib_2025082000_0006 already exists and sizes match (9053076 bytes). Skipping download.
2025-08-20 14:02:31,678 - INFO - fetchdata:199 - Local file grib_2025082000_0007 already exists and sizes match (9111916 bytes). Skipping download.
2025-08-20 14:02:31,679 - INFO - fetchdata:199 - Local file grib_2025082000_0008 already exists and sizes match (9001182 bytes). Skipping download.
2025-08-20 14:02:31,680 - INFO - fetchdata:199 - Local file grib_2025082000_0009 already exists and sizes match (9006496 bytes). Skipping download.
2025-08-20 14:02:31,681 - INFO - fetchdata:199 - Local file grib_2025082000_0010 already exists and sizes match (8970906 bytes). Skipping download.
2025-08-20 14:02:31,682 - INFO - fetchdata:199 - Local file grib_2025082000_0011 already exists and sizes match (8950950 bytes). Skipping download.
2025-08-20 14:02:31,683 - INFO - fetchdata:199 - Local file grib_2025082000_0012 already exists and sizes match (8940760 bytes). Skipping download.
2025-08-20 14:02:31,684 - INFO - fetchdata:199 - Local file grib_2025082000_0013 already exists and sizes match (8948520 bytes). Skipping download.
2025-08-20 14:02:31,685 - INFO - fetchdata:199 - Local file grib_2025082000_0014 already exists and sizes match (9029268 bytes). Skipping download.
2025-08-20 14:02:31,686 - INFO - fetchdata:199 - Local file grib_2025082000_0015 already exists and sizes match (9057552 bytes). Skipping download.
2025-08-20 14:02:31,687 - INFO - fetchdata:199 - Local file grib_2025082000_0016 already exists and sizes match (9054908 bytes). Skipping download.
2025-08-20 14:02:31,688 - INFO - fetchdata:199 - Local file grib_2025082000_0017 already exists and sizes match (9100258 bytes). Skipping download.
2025-08-20 14:02:31,689 - INFO - fetchdata:199 - Local file grib_2025082000_0018 already exists and sizes match (9094616 bytes). Skipping download.
2025-08-20 14:02:31,690 - INFO - fetchdata:199 - Local file grib_2025082000_0019 already exists and sizes match (9076666 bytes). Skipping download.
2025-08-20 14:02:31,691 - INFO - fetchdata:199 - Local file grib_2025082000_0020 already exists and sizes match (9108510 bytes). Skipping download.
2025-08-20 14:02:31,692 - INFO - fetchdata:199 - Local file grib_2025082000_0021 already exists and sizes match (9119280 bytes). Skipping download.
2025-08-20 14:02:31,693 - INFO - fetchdata:199 - Local file grib_2025082000_0022 already exists and sizes match (9092246 bytes). Skipping download.
2025-08-20 14:02:31,694 - INFO - fetchdata:199 - Local file grib_2025082000_0023 already exists and sizes match (9075558 bytes). Skipping download.
2025-08-20 14:02:31,695 - INFO - fetchdata:199 - Local file grib_2025082000_0024 already exists and sizes match (9093534 bytes). Skipping download.
2025-08-20 14:02:31,696 - INFO - fetchdata:199 - Local file grib_2025082000_0025 already exists and sizes match (9056828 bytes). Skipping download.
2025-08-20 14:02:31,698 - INFO - fetchdata:199 - Local file grib_2025082000_0026 already exists and sizes match (9070856 bytes). Skipping download.
2025-08-20 14:02:31,699 - INFO - fetchdata:199 - Local file grib_2025082000_0027 already exists and sizes match (9019778 bytes). Skipping download.
2025-08-20 14:02:31,700 - INFO - fetchdata:199 - Local file grib_2025082000_0028 already exists and sizes match (8948896 bytes). Skipping download.
2025-08-20 14:02:31,701 - INFO - fetchdata:199 - Local file grib_2025082000_0029 already exists and sizes match (8936742 bytes). Skipping download.
2025-08-20 14:02:31,702 - INFO - fetchdata:199 - Local file grib_2025082000_0030 already exists and sizes match (8914622 bytes). Skipping download.
2025-08-20 14:02:31,703 - INFO - fetchdata:199 - Local file grib_2025082000_0031 already exists and sizes match (8825842 bytes). Skipping download.
2025-08-20 14:02:31,704 - INFO - fetchdata:199 - Local file grib_2025082000_0032 already exists and sizes match (8744854 bytes). Skipping download.
2025-08-20 14:02:31,705 - INFO - fetchdata:199 - Local file grib_2025082000_0033 already exists and sizes match (8755876 bytes). Skipping download.
2025-08-20 14:02:31,707 - INFO - fetchdata:199 - Local file grib_2025082000_0034 already exists and sizes match (8704384 bytes). Skipping download.
2025-08-20 14:02:31,708 - INFO - fetchdata:199 - Local file grib_2025082000_0035 already exists and sizes match (8709328 bytes). Skipping download.
2025-08-20 14:02:31,709 - INFO - fetchdata:199 - Local file grib_2025082000_0036 already exists and sizes match (8679600 bytes). Skipping download.
2025-08-20 14:02:31,710 - INFO - fetchdata:199 - Local file grib_2025082000_0037 already exists and sizes match (8682202 bytes). Skipping download.
2025-08-20 14:02:31,711 - INFO - fetchdata:199 - Local file grib_2025082000_0038 already exists and sizes match (8710130 bytes). Skipping download.
2025-08-20 14:02:31,712 - INFO - fetchdata:199 - Local file grib_2025082000_0039 already exists and sizes match (8703730 bytes). Skipping download.
2025-08-20 14:02:31,714 - INFO - fetchdata:199 - Local file grib_2025082000_0040 already exists and sizes match (8706912 bytes). Skipping download.
2025-08-20 14:02:31,715 - INFO - fetchdata:199 - Local file grib_2025082000_0041 already exists and sizes match (8732688 bytes). Skipping download.
2025-08-20 14:02:31,716 - INFO - fetchdata:199 - Local file grib_2025082000_0042 already exists and sizes match (8775862 bytes). Skipping download.
2025-08-20 14:02:31,718 - INFO - fetchdata:199 - Local file grib_2025082000_0043 already exists and sizes match (8797148 bytes). Skipping download.
2025-08-20 14:02:31,719 - INFO - fetchdata:199 - Local file grib_2025082000_0044 already exists and sizes match (8851260 bytes). Skipping download.
2025-08-20 14:02:31,720 - INFO - fetchdata:199 - Local file grib_2025082000_0045 already exists and sizes match (8828100 bytes). Skipping download.
2025-08-20 14:02:31,722 - INFO - fetchdata:199 - Local file grib_2025082000_0046 already exists and sizes match (8836570 bytes). Skipping download.
2025-08-20 14:02:31,723 - INFO - fetchdata:199 - Local file grib_2025082000_0047 already exists and sizes match (8834464 bytes). Skipping download.
2025-08-20 14:02:31,724 - INFO - fetchdata:199 - Local file grib_2025082000_0048 already exists and sizes match (8827436 bytes). Skipping download.
2025-08-20 14:02:31,725 - INFO - fetchdata:252 - SFTP SSH client closed.
2025-08-20 14:02:31,725 - INFO - fetchdata:259 - SFTP file fetching process completed.
2025-08-20 14:02:31,725 - INFO - 1-get-aladin:118 - ALADIN file fetching process completed for 2025-08-20.
2025-08-20 14:02:31,725 - INFO - 1-get-aladin:134 - Attempting to run next program: 2-conv.py
2025-08-20 14:02:31,725 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:02:32,480 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-20 14:02:32,480 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:02:32,480 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:02:32,480 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:02:32,481 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:02:32,481 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 14:02:32,481 - INFO - 2-conv:55 - Processing for date: 20250820
2025-08-20 14:02:32,481 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-20 14:02:32,481 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2. Processing this branch.
2025-08-20 14:02:32,481 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-20 14:02:32,481 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2' to 't2m00-12.grib'.
2025-08-20 14:02:32,481 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:02:32,840 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 14:02:32,840 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2' to 't2m12-24.grib'.
2025-08-20 14:02:32,840 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:02:33,192 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 14:02:33,193 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2' to 't2m24-36.grib'.
2025-08-20 14:02:33,193 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:02:33,561 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 14:02:33,561 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2' to 't2m36-48.grib'.
2025-08-20 14:02:33,561 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:02:33,917 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 14:02:33,918 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 14:02:33,918 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 14:02:33,955 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 14:02:33,955 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 14:02:33,955 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-20 14:02:33,957 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-20 14:02:33,959 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-20 14:02:33,961 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-20 14:02:33,962 - INFO - file_operations:170 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-20 14:02:33,963 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-20 14:02:33,963 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-20 14:02:33,963 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 14:02:33,963 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-20 14:02:33,963 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:02:34,780 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-20 14:02:34,780 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:02:34,780 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:02:34,780 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:02:34,780 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:02:34,780 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:02:34,780 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:02:34,781 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 14:02:34,783 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 14:02:34,793 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-20 14:02:34,801 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 14:02:35,033 - INFO - grib_processor:113 - GRIB file '2t_20250820.grib' opened successfully.
2025-08-20 14:02:35,033 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-20 14:02:35,034 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-20 14:02:35,034 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-20 14:02:39,899 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-20 14:02:39,899 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-20 14:02:39,946 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-20 14:02:39,946 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-20 14:02:39,946 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-20 14:02:39,946 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-20 14:02:39,947 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-20 14:02:39,947 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-20 14:02:39,948 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-20 14:02:39,972 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 14:02:39,977 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 14:02:39,977 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 14:02:39,977 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-20 14:02:39,977 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:02:40,791 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:02:40,791 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 14:02:40,791 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 14:02:40,792 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:02:40,792 - INFO - 4-traitement_obs:105 - Initialized DataFrame with 47 unique stations.
2025-08-20 14:02:40,792 - INFO - 4-traitement_obs:133 - Configured to process 5 time steps for observations.
2025-08-20 14:02:40,792 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 14:02:40,932 - INFO - 4-traitement_obs:161 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 14:02:40,933 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 14:02:41,031 - INFO - 4-traitement_obs:161 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 14:02:41,032 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 14:02:41,126 - INFO - 4-traitement_obs:161 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 14:02:41,127 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 14:02:41,161 - INFO - 4-traitement_obs:161 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 14:02:41,161 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 14:02:41,238 - INFO - 4-traitement_obs:161 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 14:02:41,238 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 14:02:41,238 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 14:02:41,239 - INFO - 4-traitement_obs:179 - Final DataFrame head:
2025-08-20 14:02:41,242 - INFO - 4-traitement_obs:181 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 14:02:41,244 - INFO - 4-traitement_obs:193 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 14:02:41,244 - INFO - 4-traitement_obs:199 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 14:02:41,244 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:02:42,094 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-20 14:02:42,094 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:02:42,094 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:02:42,094 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:02:42,094 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-20 14:02:42,094 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-20 14:02:42,095 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-20 14:02:42,095 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 14:02:42,095 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 14:02:42,095 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-20 14:02:42,095 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 14:02:42,235 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 14:02:42,235 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 14:02:42,329 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 14:02:42,329 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-20 14:02:42,329 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 14:02:42,332 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-20 14:02:42,334 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 14:02:42,336 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 14:02:42,336 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-20 14:02:42,336 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:02:42,861 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:02:42,862 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 14:02:42,865 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 14:02:42,892 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-20 14:02:42,893 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-20 14:02:42,893 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-20 14:02:42,894 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 14:02:42,902 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 14:02:42,902 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-20 14:02:42,904 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 14:02:42,909 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 14:02:42,909 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-20 14:02:42,913 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-20 14:02:42,913 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 14:02:42,915 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-20 14:02:42,915 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-20 14:02:42,915 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-20 14:02:42,928 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 14:02:42,928 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 14:02:42,928 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-20 14:02:42,939 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 14:02:42,939 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 14:02:42,939 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-20 14:02:42,951 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 14:02:42,951 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 14:02:42,951 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-20 14:02:42,963 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 14:02:42,963 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 14:02:42,963 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-20 14:02:42,963 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-20 14:02:42,963 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:02:43,510 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-20 14:02:43,510 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:02:43,510 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:02:43,510 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:02:43,510 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:02:43,510 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:02:43,510 - INFO - 7-create_word:73 - Processed dates - Today: 20-08-2025, Tomorrow: 21-08-2025
2025-08-20 14:02:43,510 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-20 14:02:43,510 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 14:02:43,510 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 14:02:43,510 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 14:02:43,511 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 14:02:43,511 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 14:02:43,511 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:02:43,511 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 14:02:43,511 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 14:02:43,518 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 14:02:43,518 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 14:02:43,523 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 14:02:43,523 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 14:02:43,529 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 14:02:43,529 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 14:02:43,535 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 14:02:43,535 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-20 14:02:43,535 - INFO - 7-create_word:230 - Loading Word template...
2025-08-20 14:02:43,589 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 14:02:43,590 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 14:02:43,590 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 14:02:43,591 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 14:02:43,592 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 14:02:43,592 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 14:02:43,592 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-20 14:02:43,592 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 14:02:43,593 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 14:02:44,301 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 14:02:44,338 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 14:02:44,338 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 14:02:44,743 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 14:02:44,772 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 14:02:44,772 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 14:02:45,596 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-20 14:02:45,637 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 14:02:45,638 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 14:02:46,606 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 14:02:46,650 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 14:02:46,650 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-20 14:02:46,650 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:02:46,953 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:02:46,953 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 14:02:46,953 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 14:02:46,953 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-20 14:02:46,953 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-20 14:02:46,953 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:02:47,020 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:02:47,020 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-20 14:02:47,020 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-20 14:02:47,020 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:02:47,020 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=20
2025-08-20 14:02:47,020 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=20
2025-08-20 14:02:47,020 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:02:47,020 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:02:47,020 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 14:02:47,021 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/grib_2025082000_0000
2025-08-20 14:02:47,021 - INFO - 8-send_MSG:99 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-20 14:02:47,021 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:02:47,021 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:02:47,021 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 20/08/2025 Généré avec ARPEGE'
2025-08-20 14:02:47,021 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx')]
2025-08-20 14:02:47,104 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-20 14:02:47,104 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-20 14:02:47,104 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx'
2025-08-20 14:02:47,104 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx'. Attempting to open and attach.
2025-08-20 14:02:47,196 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_20-08-2025.docx'
2025-08-20 14:02:47,489 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-20 14:02:47,492 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-20 14:02:47,492 - INFO - 8-send_MSG:129 - Script execution finished.
2025-08-20 14:02:47,504 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:02:47,504 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-20 14:02:47,504 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-20 14:02:47,605 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:02:47,605 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-20 14:02:47,605 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-20 14:02:47,701 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:02:47,701 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-20 14:02:47,701 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-20 14:02:47,851 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:02:47,851 - INFO - 4-traitement_obs:207 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-20 14:02:47,851 - INFO - 4-traitement_obs:216 - --- Script '4-traitement_obs.py' finished. ---
2025-08-20 14:02:47,998 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:02:47,999 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-20 14:02:47,999 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-20 14:02:48,154 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:02:48,154 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-20 14:02:48,154 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-20 14:02:48,263 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:02:48,264 - INFO - 1-get-aladin:142 - Successfully executed 2-conv.py.
2025-08-20 14:02:48,264 - INFO - 1-get-aladin:152 - --- Script 'sonelgaz' finished. ---
2025-08-20 14:16:05,132 - INFO - 1-get_arpege:51 - --- Script '1-get_arpege.py' started ---
2025-08-20 14:16:05,132 - INFO - 1-get_arpege:52 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:16:05,132 - INFO - 1-get_arpege:53 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:16:05,132 - INFO - 1-get_arpege:54 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:16:05,132 - INFO - 1-get_arpege:55 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:16:05,132 - INFO - 1-get_arpege:56 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 14:16:05,132 - INFO - 1-get_arpege:57 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-20 14:16:05,132 - INFO - 1-get_arpege:60 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 14:16:05,132 - INFO - 1-get_arpege:69 - Fetching files for date: 20250820 with pattern: *SP1*20250820000*
2025-08-20 14:16:05,132 - INFO - 1-get_arpege:72 - Checking if files exist on FTP server...
2025-08-20 14:16:05,132 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250820000*)...
2025-08-20 14:16:05,132 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-20 14:16:05,368 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-20 14:16:05,380 - INFO - fetchdata:81 - Found 9 files matching pattern '*SP1*20250820000*'.
2025-08-20 14:16:05,380 - INFO - 1-get_arpege:100 - Found 9 matching files on FTP server:
2025-08-20 14:16:05,381 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 14:16:05,381 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2
2025-08-20 14:16:05,381 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2
2025-08-20 14:16:05,381 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2
2025-08-20 14:16:05,381 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2
2025-08-20 14:16:05,382 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2
2025-08-20 14:16:05,382 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2
2025-08-20 14:16:05,382 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2
2025-08-20 14:16:05,382 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2
2025-08-20 14:16:05,383 - INFO - 1-get_arpege:115 - Proceeding with FTP download using fetch_remote_files.
2025-08-20 14:16:05,383 - INFO - 1-get_arpege:116 - Attempting to download 9 files to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-20 14:16:05,383 - INFO - fetchdata:169 - Starting FTP file fetching process for 9 files.
2025-08-20 14:16:05,383 - ERROR - fetchdata:245 - An error occurred during FTP transfer process: name '_create_ftp_client' is not defined
2025-08-20 14:16:05,383 - WARNING - fetchdata:257 - FTP client was not initialized or could not be closed.
2025-08-20 14:16:05,384 - ERROR - 1-get_arpege:162 - An unexpected error occurred in the main script flow: name '_create_ftp_client' is not defined
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get_arpege.py", line 118, in <module>
    fetch_remote_files(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/fetchdata.py", line 176, in fetch_remote_files
    client_or_tuple = create_remote_client(protocol, host, username, password, port, current_logger)
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/fetchdata.py", line 128, in create_remote_client
    return _create_ftp_client(host, username, password, actual_port, current_logger)
NameError: name '_create_ftp_client' is not defined
2025-08-20 14:18:34,509 - INFO - 1-get_arpege:51 - --- Script '1-get_arpege.py' started ---
2025-08-20 14:18:34,509 - INFO - 1-get_arpege:52 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:18:34,509 - INFO - 1-get_arpege:53 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:18:34,509 - INFO - 1-get_arpege:54 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:18:34,509 - INFO - 1-get_arpege:55 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:18:34,509 - INFO - 1-get_arpege:56 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 14:18:34,509 - INFO - 1-get_arpege:57 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-20 14:18:34,509 - INFO - 1-get_arpege:60 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 14:18:34,509 - INFO - 1-get_arpege:69 - Fetching files for date: 20250820 with pattern: *SP1*20250820000*
2025-08-20 14:18:34,509 - INFO - 1-get_arpege:72 - Checking if files exist on FTP server...
2025-08-20 14:18:34,509 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250820000*)...
2025-08-20 14:18:34,509 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-20 14:18:34,754 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-20 14:18:34,768 - INFO - fetchdata:81 - Found 9 files matching pattern '*SP1*20250820000*'.
2025-08-20 14:18:34,769 - INFO - 1-get_arpege:100 - Found 9 matching files on FTP server:
2025-08-20 14:18:34,769 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 14:18:34,769 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2
2025-08-20 14:18:34,770 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2
2025-08-20 14:18:34,770 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2
2025-08-20 14:18:34,770 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2
2025-08-20 14:18:34,770 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2
2025-08-20 14:18:34,770 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2
2025-08-20 14:18:34,770 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2
2025-08-20 14:18:34,771 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2
2025-08-20 14:18:34,771 - INFO - 1-get_arpege:115 - Proceeding with FTP download using fetch_remote_files.
2025-08-20 14:18:34,771 - INFO - 1-get_arpege:116 - Attempting to download 9 files to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-20 14:18:34,771 - INFO - fetchdata:169 - Starting FTP file fetching process for 9 files.
2025-08-20 14:18:34,772 - ERROR - fetchdata:245 - An error occurred during FTP transfer process: create_ftp_client() takes from 3 to 4 positional arguments but 5 were given
2025-08-20 14:18:34,772 - WARNING - fetchdata:257 - FTP client was not initialized or could not be closed.
2025-08-20 14:18:34,772 - ERROR - 1-get_arpege:162 - An unexpected error occurred in the main script flow: create_ftp_client() takes from 3 to 4 positional arguments but 5 were given
Traceback (most recent call last):
  File "/home/aoumeur/bqrm/sonelgaz/scr/1-get_arpege.py", line 118, in <module>
    fetch_remote_files(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/fetchdata.py", line 176, in fetch_remote_files
    client_or_tuple = create_remote_client(protocol, host, username, password, port, current_logger)
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/fetchdata.py", line 128, in create_remote_client
    return create_ftp_client(host, username, password, actual_port, current_logger)
TypeError: create_ftp_client() takes from 3 to 4 positional arguments but 5 were given
2025-08-20 14:19:57,045 - INFO - 1-get_arpege:51 - --- Script '1-get_arpege.py' started ---
2025-08-20 14:19:57,045 - INFO - 1-get_arpege:52 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:19:57,045 - INFO - 1-get_arpege:53 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:19:57,046 - INFO - 1-get_arpege:54 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:19:57,046 - INFO - 1-get_arpege:55 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:19:57,046 - INFO - 1-get_arpege:56 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 14:19:57,046 - INFO - 1-get_arpege:57 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-20 14:19:57,046 - INFO - 1-get_arpege:60 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 14:19:57,046 - INFO - 1-get_arpege:69 - Fetching files for date: 20250820 with pattern: *SP1*20250820000*
2025-08-20 14:19:57,046 - INFO - 1-get_arpege:72 - Checking if files exist on FTP server...
2025-08-20 14:19:57,046 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250820000*)...
2025-08-20 14:19:57,046 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-20 14:19:57,305 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-20 14:19:57,317 - INFO - fetchdata:81 - Found 9 files matching pattern '*SP1*20250820000*'.
2025-08-20 14:19:57,318 - INFO - 1-get_arpege:100 - Found 9 matching files on FTP server:
2025-08-20 14:19:57,318 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 14:19:57,318 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2
2025-08-20 14:19:57,318 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2
2025-08-20 14:19:57,318 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2
2025-08-20 14:19:57,319 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2
2025-08-20 14:19:57,319 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2
2025-08-20 14:19:57,319 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2
2025-08-20 14:19:57,319 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2
2025-08-20 14:19:57,319 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2
2025-08-20 14:19:57,320 - INFO - 1-get_arpege:115 - Proceeding with FTP download using fetch_remote_files.
2025-08-20 14:19:57,320 - INFO - 1-get_arpege:116 - Attempting to download 9 files to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-20 14:19:57,320 - INFO - fetchdata:171 - Starting FTP file fetching process for 9 files.
2025-08-20 14:19:57,320 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-20 14:19:57,532 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-20 14:19:57,534 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-20 14:19:57,535 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-20 14:19:57,537 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-20 14:19:57,538 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-20 14:19:57,539 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-20 14:19:57,540 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-20 14:19:57,542 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-20 14:19:57,543 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-20 14:19:57,544 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-20 14:19:57,544 - INFO - fetchdata:257 - FTP client closed.
2025-08-20 14:19:57,544 - INFO - fetchdata:261 - FTP file fetching process completed.
2025-08-20 14:19:57,545 - INFO - 1-get_arpege:127 - FTP transfer process initiated by fetch_remote_files completed.
2025-08-20 14:19:57,545 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:19:57,545 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:19:57,545 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:19:57,546 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:19:57,546 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:19:57,546 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:19:57,546 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:19:57,546 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:19:57,547 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:19:57,547 - INFO - 1-get_arpege:146 - Successfully verified all 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-20 14:19:57,547 - INFO - 1-get_arpege:149 - Attempting to run next program: 2-conv.py
2025-08-20 14:19:57,547 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:19:58,284 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-20 14:19:58,284 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:19:58,284 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:19:58,284 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:19:58,284 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:19:58,284 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 14:19:58,284 - INFO - 2-conv:55 - Processing for date: 20250820
2025-08-20 14:19:58,284 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-20 14:19:58,284 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2. Processing this branch.
2025-08-20 14:19:58,284 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-20 14:19:58,285 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2' to 't2m00-12.grib'.
2025-08-20 14:19:58,285 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:19:58,643 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 14:19:58,644 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2' to 't2m12-24.grib'.
2025-08-20 14:19:58,644 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:19:58,997 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 14:19:58,997 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2' to 't2m24-36.grib'.
2025-08-20 14:19:58,998 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:19:59,348 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 14:19:59,348 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2' to 't2m36-48.grib'.
2025-08-20 14:19:59,349 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:19:59,700 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 14:19:59,700 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 14:19:59,700 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 14:19:59,737 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 14:19:59,737 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 14:19:59,737 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-20 14:19:59,738 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-20 14:19:59,739 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-20 14:19:59,740 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-20 14:19:59,740 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-20 14:19:59,740 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-20 14:19:59,740 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-20 14:19:59,740 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 14:19:59,740 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-20 14:19:59,741 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:20:00,554 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-20 14:20:00,554 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:20:00,554 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:20:00,554 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:20:00,555 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:20:00,555 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:20:00,555 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:20:00,556 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 14:20:00,558 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 14:20:00,568 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-20 14:20:00,576 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 14:20:00,798 - INFO - grib_processor:113 - GRIB file '2t_20250820.grib' opened successfully.
2025-08-20 14:20:00,798 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-20 14:20:00,799 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-20 14:20:00,799 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-20 14:20:05,394 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-20 14:20:05,394 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-20 14:20:05,438 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-20 14:20:05,439 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-20 14:20:05,439 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-20 14:20:05,439 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-20 14:20:05,439 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-20 14:20:05,439 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-20 14:20:05,441 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-20 14:20:05,465 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 14:20:05,470 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 14:20:05,470 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 14:20:05,470 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-20 14:20:05,470 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:20:06,277 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:20:06,277 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 14:20:06,278 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 14:20:06,278 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:20:06,278 - INFO - 4-traitement_obs:105 - Initialized DataFrame with 47 unique stations.
2025-08-20 14:20:06,278 - INFO - 4-traitement_obs:133 - Configured to process 5 time steps for observations.
2025-08-20 14:20:06,279 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 14:20:06,421 - INFO - 4-traitement_obs:161 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 14:20:06,421 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 14:20:06,520 - INFO - 4-traitement_obs:161 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 14:20:06,521 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 14:20:06,615 - INFO - 4-traitement_obs:161 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 14:20:06,615 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 14:20:06,643 - INFO - 4-traitement_obs:161 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 14:20:06,643 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 14:20:06,709 - INFO - 4-traitement_obs:161 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 14:20:06,709 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 14:20:06,709 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 14:20:06,709 - INFO - 4-traitement_obs:179 - Final DataFrame head:
2025-08-20 14:20:06,712 - INFO - 4-traitement_obs:181 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 14:20:06,714 - INFO - 4-traitement_obs:193 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 14:20:06,714 - INFO - 4-traitement_obs:199 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 14:20:06,715 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:20:07,530 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-20 14:20:07,530 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:20:07,530 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:20:07,530 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:20:07,530 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-20 14:20:07,531 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-20 14:20:07,531 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-20 14:20:07,531 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 14:20:07,531 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 14:20:07,531 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-20 14:20:07,531 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 14:20:07,672 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 14:20:07,672 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 14:20:07,766 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 14:20:07,766 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-20 14:20:07,766 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 14:20:07,770 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-20 14:20:07,772 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 14:20:07,773 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 14:20:07,773 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-20 14:20:07,773 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:20:08,268 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:20:08,268 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 14:20:08,271 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 14:20:08,297 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-20 14:20:08,298 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-20 14:20:08,298 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-20 14:20:08,299 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 14:20:08,307 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 14:20:08,307 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-20 14:20:08,308 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 14:20:08,313 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 14:20:08,313 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-20 14:20:08,317 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-20 14:20:08,317 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 14:20:08,318 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-20 14:20:08,318 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-20 14:20:08,319 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-20 14:20:08,331 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 14:20:08,331 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 14:20:08,331 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-20 14:20:08,341 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 14:20:08,341 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 14:20:08,341 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-20 14:20:08,352 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 14:20:08,352 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 14:20:08,352 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-20 14:20:08,363 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 14:20:08,363 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 14:20:08,364 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-20 14:20:08,364 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-20 14:20:08,364 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:20:08,895 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-20 14:20:08,895 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:20:08,895 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:20:08,895 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:20:08,895 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:20:08,895 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:20:08,895 - INFO - 7-create_word:73 - Processed dates - Today: 20-08-2025, Tomorrow: 21-08-2025
2025-08-20 14:20:08,895 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-20 14:20:08,896 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 14:20:08,896 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 14:20:08,896 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 14:20:08,896 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 14:20:08,896 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 14:20:08,896 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:20:08,896 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 14:20:08,896 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 14:20:08,903 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 14:20:08,903 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 14:20:08,908 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 14:20:08,908 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 14:20:08,914 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 14:20:08,914 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 14:20:08,920 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 14:20:08,920 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-20 14:20:08,920 - INFO - 7-create_word:230 - Loading Word template...
2025-08-20 14:20:08,974 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 14:20:08,974 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 14:20:08,975 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 14:20:08,976 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 14:20:08,977 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 14:20:08,977 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 14:20:08,977 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-20 14:20:08,977 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 14:20:08,977 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 14:20:09,583 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 14:20:09,618 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 14:20:09,618 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 14:20:09,989 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 14:20:10,016 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 14:20:10,016 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 14:20:10,711 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-20 14:20:10,748 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 14:20:10,748 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 14:20:11,557 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 14:20:11,597 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 14:20:11,597 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-20 14:20:11,597 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:20:11,875 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:20:11,875 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 14:20:11,875 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 14:20:11,875 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-20 14:20:11,875 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-20 14:20:11,876 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:20:11,937 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:20:11,937 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-20 14:20:11,937 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-20 14:20:11,937 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:20:11,937 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=20
2025-08-20 14:20:11,937 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=20
2025-08-20 14:20:11,938 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:20:11,938 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:20:11,938 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 14:20:11,938 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/grib_2025082000_0000
2025-08-20 14:20:11,938 - INFO - 8-send_MSG:99 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-20 14:20:11,938 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:20:11,938 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:20:11,938 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 20/08/2025 Généré avec ARPEGE'
2025-08-20 14:20:11,938 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx')]
2025-08-20 14:20:12,039 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-20 14:20:12,040 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-20 14:20:12,040 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx'
2025-08-20 14:20:12,040 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx'. Attempting to open and attach.
2025-08-20 14:20:12,154 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_20-08-2025.docx'
2025-08-20 14:20:12,470 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-20 14:20:12,473 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-20 14:20:12,473 - INFO - 8-send_MSG:131 - Attempting to clean up temporary directory: /home/aoumeur/bqrm/sonelgaz/scr/../tmp
2025-08-20 14:20:12,473 - INFO - file_operations:286 - Starting cleanup of directory: /home/aoumeur/bqrm/sonelgaz/tmp (Pattern: All files)
2025-08-20 14:20:12,475 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0026
2025-08-20 14:20:12,477 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0038
2025-08-20 14:20:12,478 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508190000--.grib2
2025-08-20 14:20:12,480 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0001
2025-08-20 14:20:12,485 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2
2025-08-20 14:20:12,487 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0032
2025-08-20 14:20:12,489 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0008
2025-08-20 14:20:12,491 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508170000--.grib2
2025-08-20 14:20:12,492 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250819.grib
2025-08-20 14:20:12,494 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0041
2025-08-20 14:20:12,496 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0005
2025-08-20 14:20:12,497 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0010
2025-08-20 14:20:12,499 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0037
2025-08-20 14:20:12,500 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0007
2025-08-20 14:20:12,504 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508180000--.grib2
2025-08-20 14:20:12,506 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0046
2025-08-20 14:20:12,507 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0011
2025-08-20 14:20:12,509 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508190000--.grib2
2025-08-20 14:20:12,510 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0016
2025-08-20 14:20:12,530 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508180000--.grib2
2025-08-20 14:20:12,532 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0047
2025-08-20 14:20:12,533 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0033
2025-08-20 14:20:12,535 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508190000--.grib2
2025-08-20 14:20:12,538 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508180000--.grib2
2025-08-20 14:20:12,538 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250817.grib
2025-08-20 14:20:12,540 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0019
2025-08-20 14:20:12,548 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2
2025-08-20 14:20:12,553 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 14:20:12,555 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508190000--.grib2
2025-08-20 14:20:12,584 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508170000--.grib2
2025-08-20 14:20:12,587 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 14:20:12,588 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0003
2025-08-20 14:20:12,589 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508190000--.grib2
2025-08-20 14:20:12,597 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2
2025-08-20 14:20:12,598 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0025
2025-08-20 14:20:12,600 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0044
2025-08-20 14:20:12,601 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0018
2025-08-20 14:20:12,603 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0029
2025-08-20 14:20:12,608 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2
2025-08-20 14:20:12,612 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508180000--.grib2
2025-08-20 14:20:12,613 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508190000--.grib2
2025-08-20 14:20:12,619 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508170000--.grib2
2025-08-20 14:20:12,622 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2
2025-08-20 14:20:12,624 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0035
2025-08-20 14:20:12,625 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0020
2025-08-20 14:20:12,627 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508170000--.grib2
2025-08-20 14:20:12,629 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0024
2025-08-20 14:20:12,631 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508170000--.grib2
2025-08-20 14:20:12,632 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0015
2025-08-20 14:20:12,634 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0014
2025-08-20 14:20:12,640 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2
2025-08-20 14:20:12,642 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508190000--.grib2
2025-08-20 14:20:12,643 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0048
2025-08-20 14:20:12,645 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508170000--.grib2
2025-08-20 14:20:12,647 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0028
2025-08-20 14:20:12,651 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2
2025-08-20 14:20:12,655 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508180000--.grib2
2025-08-20 14:20:12,656 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0009
2025-08-20 14:20:12,658 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508190000--.grib2
2025-08-20 14:20:12,659 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0036
2025-08-20 14:20:12,661 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0017
2025-08-20 14:20:12,662 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0013
2025-08-20 14:20:12,664 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0022
2025-08-20 14:20:12,664 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250818.grib
2025-08-20 14:20:12,667 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0006
2025-08-20 14:20:12,668 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0000
2025-08-20 14:20:12,672 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508180000--.grib2
2025-08-20 14:20:12,674 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0031
2025-08-20 14:20:12,676 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0043
2025-08-20 14:20:12,678 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0012
2025-08-20 14:20:12,679 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0023
2025-08-20 14:20:12,681 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0030
2025-08-20 14:20:12,688 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2
2025-08-20 14:20:12,691 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0039
2025-08-20 14:20:12,692 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0042
2025-08-20 14:20:12,694 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508170000--.grib2
2025-08-20 14:20:12,696 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0040
2025-08-20 14:20:12,697 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0034
2025-08-20 14:20:12,699 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0021
2025-08-20 14:20:12,700 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508190000--.grib2
2025-08-20 14:20:12,702 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0027
2025-08-20 14:20:12,703 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0002
2025-08-20 14:20:12,705 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0004
2025-08-20 14:20:12,707 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/grib_2025082000_0045
2025-08-20 14:20:12,707 - INFO - file_operations:303 - Finished cleanup. Successfully deleted 84 files from /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-20 14:20:12,707 - INFO - 8-send_MSG:140 - Successfully cleaned 84 files from /home/aoumeur/bqrm/sonelgaz/scr/../tmp.
2025-08-20 14:20:12,707 - INFO - 8-send_MSG:147 - Script execution finished.
2025-08-20 14:20:12,717 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:20:12,717 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-20 14:20:12,717 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-20 14:20:12,804 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:20:12,805 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-20 14:20:12,805 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-20 14:20:12,878 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:20:12,878 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-20 14:20:12,878 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-20 14:20:13,000 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:20:13,000 - INFO - 4-traitement_obs:207 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-20 14:20:13,000 - INFO - 4-traitement_obs:216 - --- Script '4-traitement_obs.py' finished. ---
2025-08-20 14:20:13,122 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:20:13,123 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-20 14:20:13,123 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-20 14:20:13,247 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:20:13,248 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-20 14:20:13,248 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-20 14:20:13,352 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:20:13,353 - INFO - 1-get_arpege:156 - Successfully executed 2-conv.py.
2025-08-20 14:20:13,353 - INFO - 1-get_arpege:165 - --- Script '1-get_arpege.py' finished. ---
2025-08-20 14:21:29,002 - INFO - 1-get_arpege:51 - --- Script '1-get_arpege.py' started ---
2025-08-20 14:21:29,002 - INFO - 1-get_arpege:52 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:21:29,003 - INFO - 1-get_arpege:53 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:21:29,003 - INFO - 1-get_arpege:54 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:21:29,003 - INFO - 1-get_arpege:55 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:21:29,003 - INFO - 1-get_arpege:56 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 14:21:29,003 - INFO - 1-get_arpege:57 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-20 14:21:29,003 - INFO - 1-get_arpege:60 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 14:21:29,004 - INFO - 1-get_arpege:69 - Fetching files for date: 20250820 with pattern: *SP1*20250820000*
2025-08-20 14:21:29,004 - INFO - 1-get_arpege:72 - Checking if files exist on FTP server...
2025-08-20 14:21:29,004 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250820000*)...
2025-08-20 14:21:29,004 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-20 14:21:29,249 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-20 14:21:29,261 - INFO - fetchdata:81 - Found 9 files matching pattern '*SP1*20250820000*'.
2025-08-20 14:21:29,262 - INFO - 1-get_arpege:100 - Found 9 matching files on FTP server:
2025-08-20 14:21:29,263 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:29,263 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:29,263 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:29,263 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:29,263 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:29,263 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:29,264 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:29,264 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:29,264 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:29,264 - INFO - 1-get_arpege:115 - Proceeding with FTP download using fetch_remote_files.
2025-08-20 14:21:29,265 - INFO - 1-get_arpege:116 - Attempting to download 9 files to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-20 14:21:29,265 - INFO - fetchdata:171 - Starting FTP file fetching process for 9 files.
2025-08-20 14:21:29,265 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-20 14:21:29,479 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-20 14:21:29,480 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 is missing. Downloading.
2025-08-20 14:21:29,480 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:29,959 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:29,960 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 is missing. Downloading.
2025-08-20 14:21:29,960 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:30,635 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:30,636 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 is missing. Downloading.
2025-08-20 14:21:30,636 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:31,288 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:31,288 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 is missing. Downloading.
2025-08-20 14:21:31,288 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:31,791 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:31,791 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2 is missing. Downloading.
2025-08-20 14:21:31,791 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:32,265 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:32,265 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2 is missing. Downloading.
2025-08-20 14:21:32,265 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:32,867 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:32,867 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2 is missing. Downloading.
2025-08-20 14:21:32,868 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:33,562 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:33,563 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2 is missing. Downloading.
2025-08-20 14:21:33,563 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:34,035 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:34,035 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2 is missing. Downloading.
2025-08-20 14:21:34,035 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:34,296 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:34,296 - INFO - fetchdata:257 - FTP client closed.
2025-08-20 14:21:34,296 - INFO - fetchdata:261 - FTP file fetching process completed.
2025-08-20 14:21:34,296 - INFO - 1-get_arpege:127 - FTP transfer process initiated by fetch_remote_files completed.
2025-08-20 14:21:34,296 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:21:34,296 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:21:34,296 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:21:34,296 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:21:34,296 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:21:34,296 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:21:34,296 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:21:34,297 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:21:34,297 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2 exists and is not empty.
2025-08-20 14:21:34,297 - INFO - 1-get_arpege:146 - Successfully verified all 9 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-20 14:21:34,297 - INFO - 1-get_arpege:149 - Attempting to run next program: 2-conv.py
2025-08-20 14:21:34,297 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:21:35,039 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-20 14:21:35,039 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:21:35,039 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:21:35,039 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:21:35,039 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:21:35,039 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-20 14:21:35,039 - INFO - 2-conv:55 - Processing for date: 20250820
2025-08-20 14:21:35,039 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-20 14:21:35,039 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2. Processing this branch.
2025-08-20 14:21:35,040 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-20 14:21:35,040 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2' to 't2m00-12.grib'.
2025-08-20 14:21:35,040 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:21:35,406 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 14:21:35,406 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2' to 't2m12-24.grib'.
2025-08-20 14:21:35,406 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:21:35,769 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 14:21:35,769 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2' to 't2m24-36.grib'.
2025-08-20 14:21:35,769 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:21:36,135 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 14:21:36,135 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2' to 't2m36-48.grib'.
2025-08-20 14:21:36,136 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:21:36,502 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-20 14:21:36,502 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 14:21:36,502 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 14:21:36,514 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib'.
2025-08-20 14:21:36,514 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 14:21:36,514 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-20 14:21:36,515 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-20 14:21:36,516 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-20 14:21:36,516 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-20 14:21:36,517 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-20 14:21:36,517 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-20 14:21:36,517 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-20 14:21:36,517 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 14:21:36,517 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-20 14:21:36,517 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:21:37,334 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-20 14:21:37,334 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:21:37,334 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:21:37,334 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:21:37,334 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:21:37,334 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:21:37,334 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:21:37,335 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 14:21:37,337 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-20 14:21:37,347 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-20 14:21:37,355 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 14:21:37,577 - INFO - grib_processor:113 - GRIB file '2t_20250820.grib' opened successfully.
2025-08-20 14:21:37,577 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-20 14:21:37,577 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-20 14:21:37,577 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-20 14:21:42,164 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-20 14:21:42,164 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-20 14:21:42,208 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-20 14:21:42,209 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-20 14:21:42,209 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-20 14:21:42,209 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-20 14:21:42,209 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-20 14:21:42,209 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-20 14:21:42,211 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-20 14:21:42,234 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 14:21:42,239 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 14:21:42,240 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 14:21:42,240 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-20 14:21:42,240 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:21:43,050 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:21:43,050 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-20 14:21:43,050 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-20 14:21:43,050 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:21:43,050 - INFO - 4-traitement_obs:105 - Initialized DataFrame with 47 unique stations.
2025-08-20 14:21:43,050 - INFO - 4-traitement_obs:133 - Configured to process 5 time steps for observations.
2025-08-20 14:21:43,051 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508190600.bufr for key 'airTemperature'
2025-08-20 14:21:43,191 - INFO - 4-traitement_obs:161 - Merged data for t2m_06 into the main DataFrame.
2025-08-20 14:21:43,192 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191200.bufr for key 'airTemperature'
2025-08-20 14:21:43,290 - INFO - 4-traitement_obs:161 - Merged data for t2m_12 into the main DataFrame.
2025-08-20 14:21:43,290 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'airTemperature'
2025-08-20 14:21:43,383 - INFO - 4-traitement_obs:161 - Merged data for t2m_18 into the main DataFrame.
2025-08-20 14:21:43,384 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508192100.bufr for key 'airTemperature'
2025-08-20 14:21:43,411 - INFO - 4-traitement_obs:161 - Merged data for t2m_21 into the main DataFrame.
2025-08-20 14:21:43,412 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200000.bufr for key 'airTemperature'
2025-08-20 14:21:43,477 - INFO - 4-traitement_obs:161 - Merged data for t2m_24 into the main DataFrame.
2025-08-20 14:21:43,477 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-20 14:21:43,477 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-20 14:21:43,477 - INFO - 4-traitement_obs:179 - Final DataFrame head:
2025-08-20 14:21:43,480 - INFO - 4-traitement_obs:181 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    27.4    40.4    40.7     NaN    36.2
1            ANNABA    22.2    33.1    27.8     NaN    23.6
2      B-B-ARRERIDJ    21.9    34.9    33.2     NaN     NaN
3             BATNA    18.0    36.8    32.8     NaN    26.1
4            BECHAR    23.7    36.5    37.6     NaN    30.7
2025-08-20 14:21:43,482 - INFO - 4-traitement_obs:193 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250820.csv
2025-08-20 14:21:43,482 - INFO - 4-traitement_obs:199 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-20 14:21:43,482 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:21:44,294 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-20 14:21:44,294 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:21:44,294 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:21:44,295 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:21:44,295 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-20 14:21:44,295 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-20 14:21:44,295 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-20 14:21:44,295 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508200600.bufr
2025-08-20 14:21:44,295 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/19/Synop_202508191800.bufr
2025-08-20 14:21:44,295 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-20 14:21:44,296 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 14:21:44,435 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 88
2025-08-20 14:21:44,435 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/19/Synop_202508191800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-20 14:21:44,528 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 84
2025-08-20 14:21:44,528 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-20 14:21:44,529 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-20 14:21:44,532 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-20 14:21:44,534 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-20 14:21:44,536 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 14:21:44,536 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-20 14:21:44,536 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:21:45,033 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:21:45,033 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-20 14:21:45,036 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250820.csv
2025-08-20 14:21:45,062 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-20 14:21:45,063 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-20 14:21:45,063 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-20 14:21:45,064 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 14:21:45,072 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250820.csv
2025-08-20 14:21:45,072 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-20 14:21:45,073 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 14:21:45,078 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250820.csv
2025-08-20 14:21:45,078 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-20 14:21:45,082 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-20 14:21:45,082 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-20 14:21:45,084 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-20 14:21:45,084 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-20 14:21:45,084 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-20 14:21:45,096 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-20 14:21:45,096 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 14:21:45,096 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-20 14:21:45,106 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-20 14:21:45,107 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 14:21:45,107 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-20 14:21:45,117 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-20 14:21:45,118 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 14:21:45,118 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-20 14:21:45,128 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-20 14:21:45,129 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 14:21:45,129 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-20 14:21:45,129 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-20 14:21:45,129 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:21:45,662 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-20 14:21:45,663 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:21:45,663 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:21:45,663 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:21:45,663 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:21:45,663 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-20 14:21:45,663 - INFO - 7-create_word:73 - Processed dates - Today: 20-08-2025, Tomorrow: 21-08-2025
2025-08-20 14:21:45,663 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-20 14:21:45,663 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 14:21:45,663 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 14:21:45,663 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 14:21:45,663 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 14:21:45,663 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 14:21:45,663 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:21:45,663 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-20 14:21:45,664 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-20 14:21:45,671 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-20 14:21:45,671 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-20 14:21:45,676 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-20 14:21:45,676 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-20 14:21:45,682 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-20 14:21:45,682 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-20 14:21:45,688 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-20 14:21:45,688 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-20 14:21:45,688 - INFO - 7-create_word:230 - Loading Word template...
2025-08-20 14:21:45,743 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-20 14:21:45,743 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-20 14:21:45,743 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-20 14:21:45,744 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 20-08-2025'.
2025-08-20 14:21:45,745 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-20 14:21:45,745 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 21-08-2025'.
2025-08-20 14:21:45,745 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-20 14:21:45,746 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-20 14:21:45,746 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-20 14:21:46,368 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-20 14:21:46,404 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-20 14:21:46,404 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-20 14:21:46,787 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-20 14:21:46,814 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-20 14:21:46,814 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-20 14:21:47,534 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-20 14:21:47,572 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-20 14:21:47,572 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-20 14:21:48,411 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-20 14:21:48,451 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-20 14:21:48,451 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-20 14:21:48,451 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:21:48,729 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:21:48,730 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_20-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962555 bytes).
2025-08-20 14:21:48,730 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-20 14:21:48,730 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-20 14:21:48,730 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-20 14:21:48,730 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-20 14:21:48,791 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-20 14:21:48,791 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-20 14:21:48,791 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-20 14:21:48,791 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-20, Yesterday: 2025-08-19
2025-08-20 14:21:48,791 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=20
2025-08-20 14:21:48,792 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=20
2025-08-20 14:21:48,792 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-20 14:21:48,792 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:21:48,792 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:48,792 - WARNING - file_operations:245 - File not found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/grib_2025082000_0000. Skipping this operation.
2025-08-20 14:21:48,792 - INFO - 8-send_MSG:99 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-20 14:21:48,792 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:21:48,792 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx
2025-08-20 14:21:48,792 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 20/08/2025 Généré avec ARPEGE'
2025-08-20 14:21:48,792 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx')]
2025-08-20 14:21:48,886 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-20 14:21:48,887 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-20 14:21:48,887 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx'
2025-08-20 14:21:48,887 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_20-08-2025.docx'. Attempting to open and attach.
2025-08-20 14:21:49,000 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_20-08-2025.docx'
2025-08-20 14:21:49,312 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-20 14:21:49,318 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-20 14:21:49,319 - INFO - 8-send_MSG:131 - Attempting to clean up temporary directory: /home/aoumeur/bqrm/sonelgaz/scr/../tmp
2025-08-20 14:21:49,319 - INFO - file_operations:286 - Starting cleanup of directory: /home/aoumeur/bqrm/sonelgaz/tmp (Pattern: All files)
2025-08-20 14:21:49,343 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:49,357 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:49,367 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:49,369 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250820.grib
2025-08-20 14:21:49,379 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:49,388 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:49,398 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:49,407 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:49,412 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:49,421 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508200000--.grib2
2025-08-20 14:21:49,421 - INFO - file_operations:303 - Finished cleanup. Successfully deleted 10 files from /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-20 14:21:49,421 - INFO - 8-send_MSG:140 - Successfully cleaned 10 files from /home/aoumeur/bqrm/sonelgaz/scr/../tmp.
2025-08-20 14:21:49,421 - INFO - 8-send_MSG:147 - Script execution finished.
2025-08-20 14:21:49,433 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:21:49,433 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-20 14:21:49,433 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-20 14:21:49,526 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:21:49,527 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-20 14:21:49,527 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-20 14:21:49,600 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:21:49,600 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-20 14:21:49,600 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-20 14:21:49,721 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:21:49,721 - INFO - 4-traitement_obs:207 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-20 14:21:49,721 - INFO - 4-traitement_obs:216 - --- Script '4-traitement_obs.py' finished. ---
2025-08-20 14:21:49,841 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:21:49,841 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-20 14:21:49,841 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-20 14:21:49,964 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:21:49,964 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-20 14:21:49,964 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-20 14:21:50,068 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-20 14:21:50,068 - INFO - 1-get_arpege:156 - Successfully executed 2-conv.py.
2025-08-20 14:21:50,069 - INFO - 1-get_arpege:165 - --- Script '1-get_arpege.py' finished. ---
2025-08-21 09:10:02,244 - INFO - 1-get_arpege:51 - --- Script '1-get_arpege.py' started ---
2025-08-21 09:10:02,244 - INFO - 1-get_arpege:52 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 09:10:02,244 - INFO - 1-get_arpege:53 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-21 09:10:02,244 - INFO - 1-get_arpege:54 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-21 09:10:02,244 - INFO - 1-get_arpege:55 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-21 09:10:02,244 - INFO - 1-get_arpege:56 - Temporary directory for FTP download: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-21 09:10:02,244 - INFO - 1-get_arpege:57 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-21 09:10:02,244 - INFO - 1-get_arpege:60 - Ensured temporary directory exists: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-21 09:10:02,244 - INFO - 1-get_arpege:69 - Fetching files for date: 20250821 with pattern: *SP1*20250821000*
2025-08-21 09:10:02,244 - INFO - 1-get_arpege:72 - Checking if files exist on FTP server...
2025-08-21 09:10:02,244 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250821000*)...
2025-08-21 09:10:02,244 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-21 09:10:06,855 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-21 09:10:06,868 - INFO - fetchdata:81 - Found 6 files matching pattern '*SP1*20250821000*'.
2025-08-21 09:10:06,869 - INFO - 1-get_arpege:100 - Found 6 matching files on FTP server:
2025-08-21 09:10:06,869 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:06,869 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:06,869 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:06,870 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:06,870 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:06,870 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:06,870 - INFO - 1-get_arpege:115 - Proceeding with FTP download using fetch_remote_files.
2025-08-21 09:10:06,870 - INFO - 1-get_arpege:116 - Attempting to download 6 files to /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-21 09:10:06,871 - INFO - fetchdata:171 - Starting FTP file fetching process for 6 files.
2025-08-21 09:10:06,871 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-21 09:10:07,086 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-21 09:10:07,088 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2 is missing. Downloading.
2025-08-21 09:10:07,088 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:07,509 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:07,509 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2 is missing. Downloading.
2025-08-21 09:10:07,509 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:07,956 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:07,957 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2 is missing. Downloading.
2025-08-21 09:10:07,957 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:08,383 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:08,383 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2 is missing. Downloading.
2025-08-21 09:10:08,383 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:08,864 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:08,865 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2 is missing. Downloading.
2025-08-21 09:10:08,865 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:09,294 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:09,294 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2 is missing. Downloading.
2025-08-21 09:10:09,294 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2 to /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:09,764 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:09,764 - INFO - fetchdata:257 - FTP client closed.
2025-08-21 09:10:09,765 - INFO - fetchdata:261 - FTP file fetching process completed.
2025-08-21 09:10:09,765 - INFO - 1-get_arpege:127 - FTP transfer process initiated by fetch_remote_files completed.
2025-08-21 09:10:09,765 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 09:10:09,765 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 09:10:09,765 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 09:10:09,765 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 09:10:09,765 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 09:10:09,765 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 09:10:09,765 - INFO - 1-get_arpege:146 - Successfully verified all 6 files downloaded to '/home/aoumeur/bqrm/sonelgaz/tmp'.
2025-08-21 09:10:09,765 - INFO - 1-get_arpege:149 - Attempting to run next program: 2-conv.py
2025-08-21 09:10:09,765 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/2-conv.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-21 09:10:10,510 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-21 09:10:10,511 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 09:10:10,511 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-21 09:10:10,511 - INFO - 2-conv:43 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-21 09:10:10,511 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/bqrm/sonelgaz
2025-08-21 09:10:10,511 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/bqrm/sonelgaz/tmp
2025-08-21 09:10:10,511 - INFO - 2-conv:55 - Processing for date: 20250821
2025-08-21 09:10:10,511 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-21 09:10:10,511 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2. Processing this branch.
2025-08-21 09:10:10,511 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-21 09:10:10,511 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2' to 't2m00-12.grib'.
2025-08-21 09:10:10,511 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-21 09:10:10,674 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 09:10:10,675 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2' to 't2m12-24.grib'.
2025-08-21 09:10:10,675 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-21 09:10:10,843 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 09:10:10,843 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2' to 't2m24-36.grib'.
2025-08-21 09:10:10,843 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-21 09:10:11,008 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 09:10:11,009 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2' to 't2m36-48.grib'.
2025-08-21 09:10:11,009 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2 /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-21 09:10:11,171 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 09:10:11,171 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250821.grib'.
2025-08-21 09:10:11,171 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250821.grib'.
2025-08-21 09:10:11,184 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/bqrm/sonelgaz/tmp/2t_20250821.grib'.
2025-08-21 09:10:11,184 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250821.grib
2025-08-21 09:10:11,184 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-21 09:10:11,185 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m00-12.grib
2025-08-21 09:10:11,186 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m12-24.grib
2025-08-21 09:10:11,186 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m24-36.grib
2025-08-21 09:10:11,187 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/t2m36-48.grib
2025-08-21 09:10:11,187 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-21 09:10:11,187 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-21 09:10:11,187 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250821.grib
2025-08-21 09:10:11,187 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-21 09:10:11,187 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-21 09:10:12,014 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-21 09:10:12,014 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 09:10:12,014 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-21 09:10:12,014 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-21 09:10:12,014 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-21 09:10:12,014 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-21 09:10:12,014 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-21, Yesterday: 2025-08-20
2025-08-21 09:10:12,016 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-21 09:10:12,018 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/template/station_onm_officielle.csv
2025-08-21 09:10:12,028 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-21 09:10:12,036 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250821.grib
2025-08-21 09:10:12,279 - INFO - grib_processor:113 - GRIB file '2t_20250821.grib' opened successfully.
2025-08-21 09:10:12,279 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-21 09:10:12,280 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-21 09:10:12,280 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-21 09:10:16,943 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-21 09:10:16,943 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-21 09:10:16,988 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-21 09:10:16,989 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-21 09:10:16,989 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-21 09:10:16,989 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-21 09:10:16,989 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-21 09:10:16,989 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-21 09:10:16,991 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-21 09:10:17,015 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 09:10:17,021 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 09:10:17,021 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 09:10:17,021 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-21 09:10:17,021 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-21 09:10:17,875 - INFO - 4-traitement_obs:51 - Script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-21 09:10:17,875 - INFO - 4-traitement_obs:55 - BUFR base directory: /home/aoumeur/bqrm/sonelgaz/scr/../../bufr_data/observations
2025-08-21 09:10:17,875 - INFO - 4-traitement_obs:61 - Output directory: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations
2025-08-21 09:10:17,875 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-21, Yesterday: 2025-08-20
2025-08-21 09:10:17,875 - INFO - 4-traitement_obs:105 - Initialized DataFrame with 47 unique stations.
2025-08-21 09:10:17,875 - INFO - 4-traitement_obs:133 - Configured to process 5 time steps for observations.
2025-08-21 09:10:17,876 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'airTemperature'
2025-08-21 09:10:18,020 - INFO - 4-traitement_obs:161 - Merged data for t2m_06 into the main DataFrame.
2025-08-21 09:10:18,020 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508201200.bufr for key 'airTemperature'
2025-08-21 09:10:18,120 - INFO - 4-traitement_obs:161 - Merged data for t2m_12 into the main DataFrame.
2025-08-21 09:10:18,120 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508201800.bufr for key 'airTemperature'
2025-08-21 09:10:18,231 - INFO - 4-traitement_obs:161 - Merged data for t2m_18 into the main DataFrame.
2025-08-21 09:10:18,232 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508202100.bufr for key 'airTemperature'
2025-08-21 09:10:18,260 - INFO - 4-traitement_obs:161 - Merged data for t2m_21 into the main DataFrame.
2025-08-21 09:10:18,260 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/21/Synop_202508210000.bufr for key 'airTemperature'
2025-08-21 09:10:18,325 - INFO - 4-traitement_obs:161 - Merged data for t2m_24 into the main DataFrame.
2025-08-21 09:10:18,325 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-21 09:10:18,325 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-21 09:10:18,325 - INFO - 4-traitement_obs:179 - Final DataFrame head:
2025-08-21 09:10:18,328 - INFO - 4-traitement_obs:181 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    31.9    42.9    41.7     NaN    36.0
1            ANNABA    22.4     NaN    29.4     NaN    22.7
2      B-B-ARRERIDJ    25.4    35.3    32.5     NaN     NaN
3             BATNA    30.6    38.3    33.6     NaN    21.3
4            BECHAR    25.1    37.9    38.9     NaN    33.2
2025-08-21 09:10:18,330 - INFO - 4-traitement_obs:193 - DataFrame successfully saved to: /home/aoumeur/bqrm/sonelgaz/scr/../outputs/observations/observations_20250821.csv
2025-08-21 09:10:18,331 - INFO - 4-traitement_obs:199 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-21 09:10:18,331 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-21 09:10:19,167 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-21 09:10:19,167 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/bqrm/sonelgaz
2025-08-21 09:10:19,167 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-21 09:10:19,168 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-21, Yesterday: 2025-08-20
2025-08-21 09:10:19,168 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-21 09:10:19,168 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-21 09:10:19,168 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-21 09:10:19,168 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/21/Synop_202508210600.bufr
2025-08-21 09:10:19,168 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/bqrm/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508201800.bufr
2025-08-21 09:10:19,168 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-21 09:10:19,169 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/21/Synop_202508210600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-21 09:10:19,327 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 89
2025-08-21 09:10:19,327 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/bqrm/bufr_data/observations/2025/08/20/Synop_202508201800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-21 09:10:19,454 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 89
2025-08-21 09:10:19,454 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-21 09:10:19,454 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-21 09:10:19,458 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-21 09:10:19,460 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/bqrm/sonelgaz/outputs/observations
2025-08-21 09:10:19,463 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250821.csv
2025-08-21 09:10:19,463 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-21 09:10:19,463 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/6-create_tables.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-21 09:10:20,060 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-21, Yesterday: 2025-08-20
2025-08-21 09:10:20,060 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/bqrm/sonelgaz/outputs
2025-08-21 09:10:20,064 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/bqrm/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 09:10:20,095 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-21 09:10:20,096 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-21 09:10:20,096 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-21 09:10:20,097 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250821.csv
2025-08-21 09:10:20,107 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/observations_20250821.csv
2025-08-21 09:10:20,107 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-21 09:10:20,108 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250821.csv
2025-08-21 09:10:20,114 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/bqrm/sonelgaz/outputs/observations/tmin_tmax_20250821.csv
2025-08-21 09:10:20,115 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-21 09:10:20,119 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-21 09:10:20,119 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-21 09:10:20,121 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-21 09:10:20,121 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-21 09:10:20,121 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-21 09:10:20,136 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-21 09:10:20,136 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-21 09:10:20,136 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-21 09:10:20,148 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-21 09:10:20,149 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-21 09:10:20,149 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-21 09:10:20,162 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-21 09:10:20,162 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-21 09:10:20,162 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-21 09:10:20,175 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-21 09:10:20,175 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-21 09:10:20,175 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-21 09:10:20,175 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-21 09:10:20,175 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/7-create_word.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-21 09:10:20,770 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-21 09:10:20,770 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 09:10:20,770 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-21 09:10:20,770 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/bqrm/sonelgaz
2025-08-21 09:10:20,770 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/bqrm/sonelgaz/scr
2025-08-21 09:10:20,770 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/bqrm/sonelgaz
2025-08-21 09:10:20,770 - INFO - 7-create_word:73 - Processed dates - Today: 21-08-2025, Tomorrow: 22-08-2025
2025-08-21 09:10:20,770 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-21 09:10:20,770 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-21 09:10:20,770 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-21 09:10:20,770 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-21 09:10:20,770 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-21 09:10:20,771 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-21 09:10:20,771 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_21-08-2025.docx
2025-08-21 09:10:20,771 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-21 09:10:20,771 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-21 09:10:20,778 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-21 09:10:20,778 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-21 09:10:20,785 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-21 09:10:20,785 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-21 09:10:20,791 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-21 09:10:20,792 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-21 09:10:20,798 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/bqrm/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-21 09:10:20,798 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-21 09:10:20,798 - INFO - 7-create_word:230 - Loading Word template...
2025-08-21 09:10:20,860 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/bqrm/sonelgaz/template/Bulletin.docx
2025-08-21 09:10:20,860 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-21 09:10:20,861 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-21 09:10:20,862 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 21-08-2025'.
2025-08-21 09:10:20,863 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-21 09:10:20,863 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 22-08-2025'.
2025-08-21 09:10:20,863 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-21 09:10:20,863 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-21 09:10:20,864 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-21 09:10:21,564 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-21 09:10:21,603 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-21 09:10:21,603 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-21 09:10:22,028 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-21 09:10:22,057 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-21 09:10:22,057 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-21 09:10:22,865 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-21 09:10:22,906 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-21 09:10:22,906 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-21 09:10:23,845 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-21 09:10:23,889 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-21 09:10:23,889 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-21 09:10:23,889 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_21-08-2025.docx
2025-08-21 09:10:24,190 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/bqrm/sonelgaz/bulletins/Bulletin_Sonelgaz_21-08-2025.docx
2025-08-21 09:10:24,190 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_21-08-2025.docx' exists on disk at '/home/aoumeur/bqrm/sonelgaz/bulletins' (size: 2962581 bytes).
2025-08-21 09:10:24,190 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/bqrm/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-21 09:10:24,190 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-21 09:10:24,190 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-21 09:10:24,190 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/bqrm/sonelgaz/scr/8-send_MSG.py /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/bqrm/sonelgaz/scr'
2025-08-21 09:10:24,265 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/bqrm/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 09:10:24,265 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-21 09:10:24,265 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-21 09:10:24,265 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-21, Yesterday: 2025-08-20
2025-08-21 09:10:24,266 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=21
2025-08-21 09:10:24,266 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=21
2025-08-21 09:10:24,266 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/bqrm/sonelgaz/scr
2025-08-21 09:10:24,266 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_21-08-2025.docx
2025-08-21 09:10:24,266 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:24,266 - WARNING - file_operations:245 - File not found: /home/aoumeur/bqrm/sonelgaz/scr/../tmp/grib_2025082100_0000. Skipping this operation.
2025-08-21 09:10:24,266 - INFO - 8-send_MSG:99 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-21 09:10:24,266 - DEBUG - file_operations:247 - File found: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_21-08-2025.docx
2025-08-21 09:10:24,266 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_21-08-2025.docx
2025-08-21 09:10:24,266 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 21/08/2025 Généré avec ARPEGE'
2025-08-21 09:10:24,266 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_21-08-2025.docx')]
2025-08-21 09:10:24,364 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-21 09:10:24,365 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-21 09:10:24,365 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_21-08-2025.docx'
2025-08-21 09:10:24,365 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/bqrm/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_21-08-2025.docx'. Attempting to open and attach.
2025-08-21 09:10:24,486 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_21-08-2025.docx'
2025-08-21 09:10:24,883 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-21 09:10:24,890 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-21 09:10:24,890 - INFO - 8-send_MSG:131 - Attempting to clean up temporary directory: /home/aoumeur/bqrm/sonelgaz/scr/../tmp
2025-08-21 09:10:24,891 - INFO - file_operations:286 - Starting cleanup of directory: /home/aoumeur/bqrm/sonelgaz/tmp (Pattern: All files)
2025-08-21 09:10:24,911 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:24,922 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:24,932 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:24,942 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:24,945 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/2t_20250821.grib
2025-08-21 09:10:24,955 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:24,965 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/bqrm/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2
2025-08-21 09:10:24,966 - INFO - file_operations:303 - Finished cleanup. Successfully deleted 7 files from /home/aoumeur/bqrm/sonelgaz/tmp.
2025-08-21 09:10:24,966 - INFO - 8-send_MSG:140 - Successfully cleaned 7 files from /home/aoumeur/bqrm/sonelgaz/scr/../tmp.
2025-08-21 09:10:24,966 - INFO - 8-send_MSG:147 - Script execution finished.
2025-08-21 09:10:24,978 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 09:10:24,978 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-21 09:10:24,978 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-21 09:10:25,080 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 09:10:25,080 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-21 09:10:25,080 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-21 09:10:25,171 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 09:10:25,171 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-21 09:10:25,171 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-21 09:10:25,315 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 09:10:25,315 - INFO - 4-traitement_obs:207 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-21 09:10:25,315 - INFO - 4-traitement_obs:216 - --- Script '4-traitement_obs.py' finished. ---
2025-08-21 09:10:25,455 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 09:10:25,455 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-21 09:10:25,455 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-21 09:10:25,602 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 09:10:25,602 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-21 09:10:25,602 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-21 09:10:25,718 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 09:10:25,718 - INFO - 1-get_arpege:156 - Successfully executed 2-conv.py.
2025-08-21 09:10:25,718 - INFO - 1-get_arpege:165 - --- Script '1-get_arpege.py' finished. ---
2025-08-21 11:45:08,752 - INFO - 1-get_arpege:51 - --- Script '1-get_arpege.py' started ---
2025-08-21 11:45:08,752 - INFO - 1-get_arpege:52 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 11:45:08,752 - INFO - 1-get_arpege:53 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 11:45:08,752 - INFO - 1-get_arpege:54 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 11:45:08,752 - INFO - 1-get_arpege:55 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 11:45:08,752 - INFO - 1-get_arpege:56 - Temporary directory for FTP download: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-21 11:45:08,752 - INFO - 1-get_arpege:57 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-21 11:45:08,752 - INFO - 1-get_arpege:60 - Ensured temporary directory exists: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-21 11:45:08,752 - INFO - 1-get_arpege:69 - Fetching files for date: 20250821 with pattern: *SP1*20250821000*
2025-08-21 11:45:08,752 - INFO - 1-get_arpege:72 - Checking if files exist on FTP server...
2025-08-21 11:45:08,752 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250821000*)...
2025-08-21 11:45:08,752 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-21 11:45:09,012 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-21 11:45:09,024 - INFO - fetchdata:81 - Found 6 files matching pattern '*SP1*20250821000*'.
2025-08-21 11:45:09,025 - INFO - 1-get_arpege:100 - Found 6 matching files on FTP server:
2025-08-21 11:45:09,026 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:09,026 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:09,026 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:09,026 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:09,026 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:09,026 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:09,027 - INFO - 1-get_arpege:115 - Proceeding with FTP download using fetch_remote_files.
2025-08-21 11:45:09,027 - INFO - 1-get_arpege:116 - Attempting to download 6 files to /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-21 11:45:09,027 - INFO - fetchdata:171 - Starting FTP file fetching process for 6 files.
2025-08-21 11:45:09,027 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-21 11:45:09,245 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-21 11:45:09,245 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2 is missing. Downloading.
2025-08-21 11:45:09,246 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:09,754 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:09,754 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2 is missing. Downloading.
2025-08-21 11:45:09,754 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:10,329 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:10,329 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2 is missing. Downloading.
2025-08-21 11:45:10,329 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:10,979 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:10,979 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2 is missing. Downloading.
2025-08-21 11:45:10,979 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:11,598 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:11,598 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2 is missing. Downloading.
2025-08-21 11:45:11,598 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:12,138 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:12,138 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2 is missing. Downloading.
2025-08-21 11:45:12,138 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:12,672 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2
2025-08-21 11:45:12,672 - INFO - fetchdata:257 - FTP client closed.
2025-08-21 11:45:12,673 - INFO - fetchdata:261 - FTP file fetching process completed.
2025-08-21 11:45:12,673 - INFO - 1-get_arpege:127 - FTP transfer process initiated by fetch_remote_files completed.
2025-08-21 11:45:12,673 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 11:45:12,673 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 11:45:12,673 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 11:45:12,673 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 11:45:12,673 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 11:45:12,673 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 11:45:12,673 - INFO - 1-get_arpege:146 - Successfully verified all 6 files downloaded to '/home/aoumeur/BQRM_V01/sonelgaz/tmp'.
2025-08-21 11:45:12,673 - INFO - 1-get_arpege:149 - Attempting to run next program: 2-conv.py
2025-08-21 11:45:12,673 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:13,415 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-21 11:45:13,415 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 11:45:13,415 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 11:45:13,415 - INFO - 2-conv:43 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 11:45:13,415 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 11:45:13,416 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-21 11:45:13,416 - INFO - 2-conv:55 - Processing for date: 20250821
2025-08-21 11:45:13,416 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-21 11:45:13,416 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2. Processing this branch.
2025-08-21 11:45:13,416 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-21 11:45:13,416 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2' to 't2m00-12.grib'.
2025-08-21 11:45:13,416 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:13,809 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 11:45:13,809 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2' to 't2m12-24.grib'.
2025-08-21 11:45:13,809 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:14,177 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 11:45:14,177 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2' to 't2m24-36.grib'.
2025-08-21 11:45:14,177 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:14,541 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 11:45:14,541 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2' to 't2m36-48.grib'.
2025-08-21 11:45:14,541 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:14,899 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 11:45:14,899 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib'.
2025-08-21 11:45:14,899 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib'.
2025-08-21 11:45:14,913 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib'.
2025-08-21 11:45:14,913 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib
2025-08-21 11:45:14,913 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-21 11:45:14,914 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib
2025-08-21 11:45:14,914 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib
2025-08-21 11:45:14,915 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib
2025-08-21 11:45:14,916 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib
2025-08-21 11:45:14,916 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-21 11:45:14,916 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-21 11:45:14,916 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib
2025-08-21 11:45:14,916 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-21 11:45:14,916 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 11:45:15,776 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-21, Yesterday: 2025-08-20
2025-08-21 11:45:15,778 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-21 11:45:15,780 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-21 11:45:15,790 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-21 11:45:15,799 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib
2025-08-21 11:45:16,048 - INFO - grib_processor:113 - GRIB file '2t_20250821.grib' opened successfully.
2025-08-21 11:45:16,048 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-21 11:45:16,048 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-21 11:45:16,048 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-21 11:45:21,041 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-21 11:45:21,041 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-21 11:45:21,093 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-21 11:45:21,093 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-21 11:45:21,093 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-21 11:45:21,094 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-21 11:45:21,094 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-21 11:45:21,094 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-21 11:45:21,096 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-21 11:45:21,122 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 11:45:21,127 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 11:45:21,127 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 11:45:21,127 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-21 11:45:21,127 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:21,697 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-21 11:45:21,697 - ERROR - system_utils:58 - STDOUT: 
2025-08-21 11:45:21,697 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py", line 6, in <module>
    from modules.module import run_next_program # Existing external module
ModuleNotFoundError: No module named 'modules'
2025-08-21 11:45:21,698 - ERROR - 3-create_forecast_table:201 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py", line 195, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-21 11:45:21,838 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-21 11:45:21,838 - ERROR - system_utils:58 - STDOUT: 2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 11:45:15,776 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-21, Yesterday: 2025-08-20
2025-08-21 11:45:15,778 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-21 11:45:15,780 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-21 11:45:15,790 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-21 11:45:15,799 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib
2025-08-21 11:45:16,048 - INFO - grib_processor:113 - GRIB file '2t_20250821.grib' opened successfully.
2025-08-21 11:45:16,048 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-21 11:45:16,048 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-21 11:45:16,048 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-21 11:45:21,041 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-21 11:45:21,041 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-21 11:45:21,093 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-21 11:45:21,093 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-21 11:45:21,093 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-21 11:45:21,094 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-21 11:45:21,094 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-21 11:45:21,094 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-21 11:45:21,096 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-21 11:45:21,122 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 11:45:21,127 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 11:45:21,127 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 11:45:21,127 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-21 11:45:21,127 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:21,697 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-21 11:45:21,697 - ERROR - system_utils:58 - STDOUT: 
2025-08-21 11:45:21,697 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py", line 6, in <module>
    from modules.module import run_next_program # Existing external module
ModuleNotFoundError: No module named 'modules'
2025-08-21 11:45:21,698 - ERROR - 3-create_forecast_table:201 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py", line 195, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-21 11:45:21,839 - ERROR - system_utils:59 - STDERR: 
2025-08-21 11:45:21,839 - ERROR - 2-conv:136 - An error occurred while running 3-create_forecast_table.py: Command '['/usr/bin/python3', '/home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py", line 130, in main
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-21 11:45:21,955 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-21 11:45:21,956 - ERROR - system_utils:58 - STDOUT: 2025-08-21 11:45:13,415 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-21 11:45:13,415 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 11:45:13,415 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 11:45:13,415 - INFO - 2-conv:43 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 11:45:13,415 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 11:45:13,416 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-21 11:45:13,416 - INFO - 2-conv:55 - Processing for date: 20250821
2025-08-21 11:45:13,416 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-21 11:45:13,416 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2. Processing this branch.
2025-08-21 11:45:13,416 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-21 11:45:13,416 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2' to 't2m00-12.grib'.
2025-08-21 11:45:13,416 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:13,809 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 11:45:13,809 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2' to 't2m12-24.grib'.
2025-08-21 11:45:13,809 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:14,177 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 11:45:14,177 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2' to 't2m24-36.grib'.
2025-08-21 11:45:14,177 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:14,541 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 11:45:14,541 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2' to 't2m36-48.grib'.
2025-08-21 11:45:14,541 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:14,899 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 11:45:14,899 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib'.
2025-08-21 11:45:14,899 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib'.
2025-08-21 11:45:14,913 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib'.
2025-08-21 11:45:14,913 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib
2025-08-21 11:45:14,913 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-21 11:45:14,914 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib
2025-08-21 11:45:14,914 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib
2025-08-21 11:45:14,915 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib
2025-08-21 11:45:14,916 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib
2025-08-21 11:45:14,916 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-21 11:45:14,916 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-21 11:45:14,916 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib
2025-08-21 11:45:14,916 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-21 11:45:14,916 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:21,838 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-21 11:45:21,838 - ERROR - system_utils:58 - STDOUT: 2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 11:45:15,776 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 11:45:15,776 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-21, Yesterday: 2025-08-20
2025-08-21 11:45:15,778 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-21 11:45:15,780 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-21 11:45:15,790 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-21 11:45:15,799 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib
2025-08-21 11:45:16,048 - INFO - grib_processor:113 - GRIB file '2t_20250821.grib' opened successfully.
2025-08-21 11:45:16,048 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-21 11:45:16,048 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-21 11:45:16,048 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-21 11:45:21,041 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-21 11:45:21,041 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-21 11:45:21,093 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-21 11:45:21,093 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-21 11:45:21,093 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-21 11:45:21,094 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-21 11:45:21,094 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-21 11:45:21,094 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-21 11:45:21,096 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-21 11:45:21,122 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 11:45:21,127 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 11:45:21,127 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 11:45:21,127 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-21 11:45:21,127 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 11:45:21,697 - ERROR - system_utils:57 - Command '/usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log' failed with exit code 1.
2025-08-21 11:45:21,697 - ERROR - system_utils:58 - STDOUT: 
2025-08-21 11:45:21,697 - ERROR - system_utils:59 - STDERR: Traceback (most recent call last):
  File "/home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py", line 6, in <module>
    from modules.module import run_next_program # Existing external module
ModuleNotFoundError: No module named 'modules'
2025-08-21 11:45:21,698 - ERROR - 3-create_forecast_table:201 - An error occurred while running 4-traitement_obs.py: Command '['/usr/bin/python3', '/home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py", line 195, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py', '/home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-21 11:45:21,839 - ERROR - system_utils:59 - STDERR: 
2025-08-21 11:45:21,839 - ERROR - 2-conv:136 - An error occurred while running 3-create_forecast_table.py: Command '['/usr/bin/python3', '/home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py", line 130, in main
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py', '/home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-21 11:45:21,956 - ERROR - system_utils:59 - STDERR: 
2025-08-21 11:45:21,956 - ERROR - 1-get_arpege:158 - An error occurred while running 2-conv.py: Command '['/usr/bin/python3', '/home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py', '/home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home/aoumeur/BQRM_V01/sonelgaz/scr/1-get_arpege.py", line 152, in <module>
    execute_command(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/system_utils.py", line 39, in execute_command
    result = subprocess.run(
  File "/usr/lib/python3.10/subprocess.py", line 526, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/usr/bin/python3', '/home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py', '/home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log']' returned non-zero exit status 1.
2025-08-21 13:34:01,986 - INFO - 1-get_arpege:51 - --- Script '1-get_arpege.py' started ---
2025-08-21 13:34:01,986 - INFO - 1-get_arpege:52 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 13:34:01,986 - INFO - 1-get_arpege:53 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 13:34:01,986 - INFO - 1-get_arpege:54 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 13:34:01,986 - INFO - 1-get_arpege:55 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 13:34:01,986 - INFO - 1-get_arpege:56 - Temporary directory for FTP download: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-21 13:34:01,986 - INFO - 1-get_arpege:57 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-21 13:34:01,986 - INFO - 1-get_arpege:60 - Ensured temporary directory exists: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-21 13:34:01,986 - INFO - 1-get_arpege:69 - Fetching files for date: 20250821 with pattern: *SP1*20250821000*
2025-08-21 13:34:01,986 - INFO - 1-get_arpege:72 - Checking if files exist on FTP server...
2025-08-21 13:34:01,986 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250821000*)...
2025-08-21 13:34:01,986 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-21 13:34:02,250 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-21 13:34:02,263 - INFO - fetchdata:81 - Found 6 files matching pattern '*SP1*20250821000*'.
2025-08-21 13:34:02,264 - INFO - 1-get_arpege:100 - Found 6 matching files on FTP server:
2025-08-21 13:34:02,264 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2
2025-08-21 13:34:02,265 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2
2025-08-21 13:34:02,265 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2
2025-08-21 13:34:02,265 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2
2025-08-21 13:34:02,265 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2
2025-08-21 13:34:02,265 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2
2025-08-21 13:34:02,266 - INFO - 1-get_arpege:115 - Proceeding with FTP download using fetch_remote_files.
2025-08-21 13:34:02,266 - INFO - 1-get_arpege:116 - Attempting to download 6 files to /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-21 13:34:02,266 - INFO - fetchdata:171 - Starting FTP file fetching process for 6 files.
2025-08-21 13:34:02,266 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-21 13:34:02,489 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-21 13:34:02,492 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-21 13:34:02,494 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-21 13:34:02,496 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-21 13:34:02,497 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-21 13:34:02,498 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-21 13:34:02,499 - INFO - fetchdata:220 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2 already exists and sizes match (FTP size check). Skipping download.
2025-08-21 13:34:02,500 - INFO - fetchdata:257 - FTP client closed.
2025-08-21 13:34:02,500 - INFO - fetchdata:261 - FTP file fetching process completed.
2025-08-21 13:34:02,500 - INFO - 1-get_arpege:127 - FTP transfer process initiated by fetch_remote_files completed.
2025-08-21 13:34:02,500 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 13:34:02,500 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 13:34:02,500 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 13:34:02,500 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 13:34:02,500 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 13:34:02,500 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2 exists and is not empty.
2025-08-21 13:34:02,500 - INFO - 1-get_arpege:146 - Successfully verified all 6 files downloaded to '/home/aoumeur/BQRM_V01/sonelgaz/tmp'.
2025-08-21 13:34:02,500 - INFO - 1-get_arpege:149 - Attempting to run next program: 2-conv.py
2025-08-21 13:34:02,500 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 13:34:03,276 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-21 13:34:03,276 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 13:34:03,276 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 13:34:03,277 - INFO - 2-conv:43 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 13:34:03,277 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 13:34:03,277 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-21 13:34:03,277 - INFO - 2-conv:55 - Processing for date: 20250821
2025-08-21 13:34:03,277 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-21 13:34:03,277 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2. Processing this branch.
2025-08-21 13:34:03,277 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-21 13:34:03,277 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2' to 't2m00-12.grib'.
2025-08-21 13:34:03,277 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 13:34:03,666 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 13:34:03,666 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2' to 't2m12-24.grib'.
2025-08-21 13:34:03,666 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 13:34:04,045 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 13:34:04,045 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2' to 't2m24-36.grib'.
2025-08-21 13:34:04,045 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 13:34:04,467 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 13:34:04,467 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2' to 't2m36-48.grib'.
2025-08-21 13:34:04,468 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 13:34:04,887 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-21 13:34:04,887 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib'.
2025-08-21 13:34:04,887 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib'.
2025-08-21 13:34:04,927 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib'.
2025-08-21 13:34:04,927 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib
2025-08-21 13:34:04,928 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-21 13:34:04,930 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib
2025-08-21 13:34:04,932 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib
2025-08-21 13:34:04,934 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib
2025-08-21 13:34:04,937 - INFO - file_operations:431 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib
2025-08-21 13:34:04,937 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-21 13:34:04,937 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-21 13:34:04,937 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib
2025-08-21 13:34:04,937 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-21 13:34:04,937 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 13:34:05,919 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-21 13:34:05,919 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 13:34:05,919 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 13:34:05,919 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 13:34:05,919 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 13:34:05,919 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 13:34:05,919 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-21, Yesterday: 2025-08-20
2025-08-21 13:34:05,920 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-21 13:34:05,923 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-21 13:34:05,934 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-21 13:34:05,944 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib
2025-08-21 13:34:06,205 - INFO - grib_processor:113 - GRIB file '2t_20250821.grib' opened successfully.
2025-08-21 13:34:06,205 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-21 13:34:06,205 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-21 13:34:06,205 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-21 13:34:10,916 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-21 13:34:10,917 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-21 13:34:10,963 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-21 13:34:10,963 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-21 13:34:10,963 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-21 13:34:10,963 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-21 13:34:10,964 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-21 13:34:10,964 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-21 13:34:10,965 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-21 13:34:10,989 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 13:34:10,994 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 13:34:10,994 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 13:34:10,994 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-21 13:34:10,995 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 13:34:11,817 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 13:34:11,818 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../../bufr_data/observations
2025-08-21 13:34:11,818 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations
2025-08-21 13:34:11,818 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-21, Yesterday: 2025-08-20
2025-08-21 13:34:11,818 - INFO - 4-traitement_obs:104 - Initialized DataFrame with 47 unique stations.
2025-08-21 13:34:11,818 - INFO - 4-traitement_obs:132 - Configured to process 5 time steps for observations.
2025-08-21 13:34:11,818 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/20/Synop_202508200600.bufr for key 'airTemperature'
2025-08-21 13:34:11,960 - INFO - 4-traitement_obs:160 - Merged data for t2m_06 into the main DataFrame.
2025-08-21 13:34:11,961 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/20/Synop_202508201200.bufr for key 'airTemperature'
2025-08-21 13:34:12,058 - INFO - 4-traitement_obs:160 - Merged data for t2m_12 into the main DataFrame.
2025-08-21 13:34:12,058 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/20/Synop_202508201800.bufr for key 'airTemperature'
2025-08-21 13:34:12,163 - INFO - 4-traitement_obs:160 - Merged data for t2m_18 into the main DataFrame.
2025-08-21 13:34:12,164 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/20/Synop_202508202100.bufr for key 'airTemperature'
2025-08-21 13:34:12,190 - INFO - 4-traitement_obs:160 - Merged data for t2m_21 into the main DataFrame.
2025-08-21 13:34:12,190 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/21/Synop_202508210000.bufr for key 'airTemperature'
2025-08-21 13:34:12,253 - INFO - 4-traitement_obs:160 - Merged data for t2m_24 into the main DataFrame.
2025-08-21 13:34:12,253 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-21 13:34:12,253 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-21 13:34:12,254 - INFO - 4-traitement_obs:178 - Final DataFrame head:
2025-08-21 13:34:12,257 - INFO - 4-traitement_obs:180 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    31.9    42.9    41.7     NaN    36.0
1            ANNABA    22.4     NaN    29.4     NaN    22.7
2      B-B-ARRERIDJ    25.4    35.3    32.5     NaN     NaN
3             BATNA    30.6    38.3    33.6     NaN    21.3
4            BECHAR    25.1    37.9    38.9     NaN    33.2
2025-08-21 13:34:12,258 - INFO - 4-traitement_obs:192 - DataFrame successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations/observations_20250821.csv
2025-08-21 13:34:12,259 - INFO - 4-traitement_obs:198 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-21 13:34:12,259 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 13:34:13,088 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-21 13:34:13,088 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 13:34:13,088 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 13:34:13,088 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-21, Yesterday: 2025-08-20
2025-08-21 13:34:13,088 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-21 13:34:13,088 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-21 13:34:13,089 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-21 13:34:13,089 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/21/Synop_202508210600.bufr
2025-08-21 13:34:13,089 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/20/Synop_202508201800.bufr
2025-08-21 13:34:13,089 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-21 13:34:13,089 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/21/Synop_202508210600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-21 13:34:13,237 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 89
2025-08-21 13:34:13,238 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/20/Synop_202508201800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-21 13:34:13,345 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 89
2025-08-21 13:34:13,345 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-21 13:34:13,346 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-21 13:34:13,349 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-21 13:34:13,351 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations
2025-08-21 13:34:13,353 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250821.csv
2025-08-21 13:34:13,353 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-21 13:34:13,353 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/6-create_tables.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 13:34:13,862 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-21, Yesterday: 2025-08-20
2025-08-21 13:34:13,862 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/BQRM_V01/sonelgaz/outputs
2025-08-21 13:34:13,865 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250821.csv
2025-08-21 13:34:13,892 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-21 13:34:13,893 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-21 13:34:13,893 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-21 13:34:13,894 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250821.csv
2025-08-21 13:34:13,902 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250821.csv
2025-08-21 13:34:13,903 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-21 13:34:13,904 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250821.csv
2025-08-21 13:34:13,909 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250821.csv
2025-08-21 13:34:13,909 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-21 13:34:13,913 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-21 13:34:13,913 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-21 13:34:13,914 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-21 13:34:13,914 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-21 13:34:13,915 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-21 13:34:13,927 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-21 13:34:13,927 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-21 13:34:13,927 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-21 13:34:13,938 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-21 13:34:13,938 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-21 13:34:13,938 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-21 13:34:13,949 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-21 13:34:13,949 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-21 13:34:13,949 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-21 13:34:13,960 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-21 13:34:13,961 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-21 13:34:13,961 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-21 13:34:13,961 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-21 13:34:13,961 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/7-create_word.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 13:34:14,506 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-21 13:34:14,507 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 13:34:14,507 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 13:34:14,507 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 13:34:14,507 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 13:34:14,507 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-21 13:34:14,507 - INFO - 7-create_word:73 - Processed dates - Today: 21-08-2025, Tomorrow: 22-08-2025
2025-08-21 13:34:14,507 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-21 13:34:14,507 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-21 13:34:14,507 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-21 13:34:14,507 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-21 13:34:14,507 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-21 13:34:14,507 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-21 13:34:14,507 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_21-08-2025.docx
2025-08-21 13:34:14,507 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-21 13:34:14,507 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-21 13:34:14,514 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-21 13:34:14,515 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-21 13:34:14,520 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-21 13:34:14,520 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-21 13:34:14,526 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-21 13:34:14,526 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-21 13:34:14,532 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-21 13:34:14,532 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-21 13:34:14,532 - INFO - 7-create_word:230 - Loading Word template...
2025-08-21 13:34:14,588 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-21 13:34:14,588 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-21 13:34:14,589 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-21 13:34:14,589 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 21-08-2025'.
2025-08-21 13:34:14,590 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-21 13:34:14,591 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 22-08-2025'.
2025-08-21 13:34:14,591 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-21 13:34:14,591 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-21 13:34:14,591 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-21 13:34:15,244 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-21 13:34:15,281 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-21 13:34:15,281 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-21 13:34:15,680 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-21 13:34:15,708 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-21 13:34:15,708 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-21 13:34:16,460 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-21 13:34:16,500 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-21 13:34:16,500 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-21 13:34:17,370 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-21 13:34:17,411 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-21 13:34:17,412 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-21 13:34:17,412 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_21-08-2025.docx
2025-08-21 13:34:17,691 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_21-08-2025.docx
2025-08-21 13:34:17,691 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_21-08-2025.docx' exists on disk at '/home/aoumeur/BQRM_V01/sonelgaz/bulletins' (size: 2962581 bytes).
2025-08-21 13:34:17,691 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/BQRM_V01/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-21 13:34:17,691 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-21 13:34:17,691 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-21 13:34:17,691 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/8-send_MSG.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-21 13:34:17,754 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-21 13:34:17,754 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-21 13:34:17,754 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-21 13:34:17,755 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-21, Yesterday: 2025-08-20
2025-08-21 13:34:17,755 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=21
2025-08-21 13:34:17,755 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=21
2025-08-21 13:34:17,755 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-21 13:34:17,755 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_21-08-2025.docx
2025-08-21 13:34:17,755 - DEBUG - file_operations:247 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2
2025-08-21 13:34:17,755 - WARNING - file_operations:245 - File not found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/grib_2025082100_0000. Skipping this operation.
2025-08-21 13:34:17,755 - INFO - 8-send_MSG:99 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-21 13:34:17,755 - DEBUG - file_operations:247 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_21-08-2025.docx
2025-08-21 13:34:17,755 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_21-08-2025.docx
2025-08-21 13:34:17,755 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 21/08/2025 Généré avec ARPEGE'
2025-08-21 13:34:17,755 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_21-08-2025.docx')]
2025-08-21 13:34:17,848 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-21 13:34:17,848 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-21 13:34:17,849 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_21-08-2025.docx'
2025-08-21 13:34:17,849 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_21-08-2025.docx'. Attempting to open and attach.
2025-08-21 13:34:17,962 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_21-08-2025.docx'
2025-08-21 13:34:18,266 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-21 13:34:18,272 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-21 13:34:18,272 - INFO - 8-send_MSG:131 - Attempting to clean up temporary directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp
2025-08-21 13:34:18,273 - INFO - file_operations:286 - Starting cleanup of directory: /home/aoumeur/BQRM_V01/sonelgaz/tmp (Pattern: All files)
2025-08-21 13:34:18,294 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508210000--.grib2
2025-08-21 13:34:18,306 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508210000--.grib2
2025-08-21 13:34:18,316 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508210000--.grib2
2025-08-21 13:34:18,324 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508210000--.grib2
2025-08-21 13:34:18,326 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250821.grib
2025-08-21 13:34:18,334 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508210000--.grib2
2025-08-21 13:34:18,342 - DEBUG - file_operations:295 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508210000--.grib2
2025-08-21 13:34:18,342 - INFO - file_operations:303 - Finished cleanup. Successfully deleted 7 files from /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-21 13:34:18,342 - INFO - 8-send_MSG:140 - Successfully cleaned 7 files from /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp.
2025-08-21 13:34:18,342 - INFO - 8-send_MSG:147 - Script execution finished.
2025-08-21 13:34:18,353 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 13:34:18,353 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-21 13:34:18,353 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-21 13:34:18,457 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 13:34:18,457 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-21 13:34:18,457 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-21 13:34:18,532 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 13:34:18,532 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-21 13:34:18,532 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-21 13:34:18,657 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 13:34:18,657 - INFO - 4-traitement_obs:206 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-21 13:34:18,657 - INFO - 4-traitement_obs:215 - --- Script '4-traitement_obs.py' finished. ---
2025-08-21 13:34:18,780 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 13:34:18,780 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-21 13:34:18,780 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-21 13:34:18,907 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 13:34:18,908 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-21 13:34:18,908 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-21 13:34:19,016 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-21 13:34:19,016 - INFO - 1-get_arpege:156 - Successfully executed 2-conv.py.
2025-08-21 13:34:19,017 - INFO - 1-get_arpege:165 - --- Script '1-get_arpege.py' finished. ---
2025-08-24 09:10:34,205 - INFO - 1-get_arpege:51 - --- Script '1-get_arpege.py' started ---
2025-08-24 09:10:34,221 - INFO - 1-get_arpege:52 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:10:34,221 - INFO - 1-get_arpege:53 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:10:34,221 - INFO - 1-get_arpege:54 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:10:34,221 - INFO - 1-get_arpege:55 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:10:34,221 - INFO - 1-get_arpege:56 - Temporary directory for FTP download: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 09:10:34,221 - INFO - 1-get_arpege:57 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-24 09:10:34,221 - INFO - 1-get_arpege:60 - Ensured temporary directory exists: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 09:10:34,222 - INFO - 1-get_arpege:69 - Fetching files for date: 20250824 with pattern: *SP1*20250824000*
2025-08-24 09:10:34,222 - INFO - 1-get_arpege:72 - Checking if files exist on FTP server...
2025-08-24 09:10:34,222 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250824000*)...
2025-08-24 09:10:34,222 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-24 09:10:34,436 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-24 09:10:34,445 - INFO - fetchdata:81 - Found 9 files matching pattern '*SP1*20250824000*'.
2025-08-24 09:10:34,446 - INFO - 1-get_arpege:100 - Found 9 matching files on FTP server:
2025-08-24 09:10:34,446 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:34,446 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:34,446 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:34,446 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:34,446 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:34,446 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:34,446 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:34,446 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:34,446 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:34,446 - INFO - 1-get_arpege:115 - Proceeding with FTP download using fetch_remote_files.
2025-08-24 09:10:34,446 - INFO - 1-get_arpege:116 - Attempting to download 9 files to /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 09:10:34,446 - INFO - fetchdata:171 - Starting FTP file fetching process for 9 files.
2025-08-24 09:10:34,446 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-24 09:10:34,659 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-24 09:10:34,660 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:10:34,660 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:35,373 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:35,374 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:10:35,374 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:36,366 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:36,366 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:10:36,366 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:37,228 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:37,228 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:10:37,228 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:38,057 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:38,057 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:10:38,057 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:39,012 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:39,012 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:10:39,012 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:39,887 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:39,887 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:10:39,887 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:47,028 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:47,028 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:10:47,028 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:47,823 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:47,823 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:10:47,823 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:48,284 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 09:10:48,284 - INFO - fetchdata:257 - FTP client closed.
2025-08-24 09:10:48,284 - INFO - fetchdata:261 - FTP file fetching process completed.
2025-08-24 09:10:48,284 - INFO - 1-get_arpege:127 - FTP transfer process initiated by fetch_remote_files completed.
2025-08-24 09:10:48,284 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:10:48,284 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:10:48,284 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:10:48,284 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:10:48,285 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:10:48,285 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:10:48,285 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:10:48,285 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:10:48,285 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:10:48,285 - INFO - 1-get_arpege:146 - Successfully verified all 9 files downloaded to '/home/aoumeur/BQRM_V01/sonelgaz/tmp'.
2025-08-24 09:10:48,285 - INFO - 1-get_arpege:149 - Attempting to run next program: 2-conv.py
2025-08-24 09:10:48,285 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:10:49,043 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-24 09:10:49,044 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:10:49,044 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:10:49,044 - INFO - 2-conv:43 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:10:49,044 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:10:49,044 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 09:10:49,044 - INFO - 2-conv:55 - Processing for date: 20250824
2025-08-24 09:10:49,044 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-24 09:10:49,044 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2. Processing this branch.
2025-08-24 09:10:49,044 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-24 09:10:49,044 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2' to 't2m00-12.grib'.
2025-08-24 09:10:49,044 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:10:52,575 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:10:52,575 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2' to 't2m12-24.grib'.
2025-08-24 09:10:52,575 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:10:53,106 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:10:53,106 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2' to 't2m24-36.grib'.
2025-08-24 09:10:53,107 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:10:53,645 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:10:53,645 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2' to 't2m36-48.grib'.
2025-08-24 09:10:53,645 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:10:54,234 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:10:54,234 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 09:10:54,234 - INFO - file_operations:127 - Starting merge of 4 files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 09:10:54,249 - INFO - file_operations:139 - Successfully merged files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 09:10:54,249 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:10:54,249 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-24 09:10:54,250 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib
2025-08-24 09:10:54,250 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib
2025-08-24 09:10:54,251 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib
2025-08-24 09:10:54,252 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib
2025-08-24 09:10:54,252 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-24 09:10:54,252 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-24 09:10:54,252 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:10:54,252 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-24 09:10:54,252 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:10:55,090 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-24 09:10:55,090 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:10:55,090 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:10:55,090 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:10:55,090 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:10:55,090 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:10:55,090 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:10:55,091 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 09:10:55,094 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 09:10:55,103 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-24 09:10:55,112 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:10:55,346 - INFO - grib_processor:113 - GRIB file '2t_20250824.grib' opened successfully.
2025-08-24 09:10:55,347 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-24 09:10:55,347 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-24 09:10:55,347 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-24 09:10:58,859 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-24 09:10:58,860 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-24 09:10:58,906 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-24 09:10:58,906 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-24 09:10:58,906 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-24 09:10:58,906 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-24 09:10:58,907 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-24 09:10:58,907 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-24 09:10:58,908 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-24 09:10:58,932 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:10:58,938 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:10:58,938 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:10:58,938 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-24 09:10:58,938 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:10:59,764 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:10:59,764 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../../bufr_data/observations
2025-08-24 09:10:59,765 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations
2025-08-24 09:10:59,765 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:10:59,765 - INFO - 4-traitement_obs:104 - Initialized DataFrame with 47 unique stations.
2025-08-24 09:10:59,765 - INFO - 4-traitement_obs:132 - Configured to process 5 time steps for observations.
2025-08-24 09:10:59,765 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508230600.bufr for key 'airTemperature'
2025-08-24 09:10:59,910 - INFO - 4-traitement_obs:160 - Merged data for t2m_06 into the main DataFrame.
2025-08-24 09:10:59,910 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231200.bufr for key 'airTemperature'
2025-08-24 09:11:00,015 - INFO - 4-traitement_obs:160 - Merged data for t2m_12 into the main DataFrame.
2025-08-24 09:11:00,015 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'airTemperature'
2025-08-24 09:11:00,119 - INFO - 4-traitement_obs:160 - Merged data for t2m_18 into the main DataFrame.
2025-08-24 09:11:00,120 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508232100.bufr for key 'airTemperature'
2025-08-24 09:11:00,148 - INFO - 4-traitement_obs:160 - Merged data for t2m_21 into the main DataFrame.
2025-08-24 09:11:00,149 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240000.bufr for key 'airTemperature'
2025-08-24 09:11:00,212 - INFO - 4-traitement_obs:160 - Merged data for t2m_24 into the main DataFrame.
2025-08-24 09:11:00,213 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-24 09:11:00,213 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-24 09:11:00,213 - INFO - 4-traitement_obs:178 - Final DataFrame head:
2025-08-24 09:11:00,216 - INFO - 4-traitement_obs:180 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    29.1    44.0    43.2     NaN    33.3
1            ANNABA    22.0    29.0    26.1     NaN    19.7
2      B-B-ARRERIDJ    17.7    32.1    29.3     NaN     NaN
3             BATNA    18.5    35.1    29.0     NaN    20.5
4            BECHAR    30.1    38.0    35.2     NaN    31.7
2025-08-24 09:11:00,218 - INFO - 4-traitement_obs:192 - DataFrame successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations/observations_20250824.csv
2025-08-24 09:11:00,218 - INFO - 4-traitement_obs:198 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-24 09:11:00,218 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:11:01,053 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-24 09:11:01,053 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:11:01,053 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:11:01,053 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:11:01,053 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-24 09:11:01,053 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-24 09:11:01,054 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-24 09:11:01,054 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/24/Synop_202508240600.bufr
2025-08-24 09:11:01,054 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/23/Synop_202508231800.bufr
2025-08-24 09:11:01,054 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-24 09:11:01,054 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 09:11:01,201 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-24 09:11:01,201 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 09:11:01,307 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 88
2025-08-24 09:11:01,307 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-24 09:11:01,307 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-24 09:11:01,310 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-24 09:11:01,312 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations
2025-08-24 09:11:01,314 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 09:11:01,314 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-24 09:11:01,314 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/6-create_tables.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:11:01,912 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:11:01,912 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/BQRM_V01/sonelgaz/outputs
2025-08-24 09:11:01,915 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:11:01,941 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-24 09:11:01,942 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-24 09:11:01,942 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-24 09:11:01,944 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 09:11:01,951 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 09:11:01,951 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-24 09:11:01,953 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 09:11:01,958 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 09:11:01,958 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-24 09:11:01,961 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-24 09:11:01,962 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-24 09:11:01,963 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-24 09:11:01,963 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-24 09:11:01,963 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-24 09:11:01,976 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-24 09:11:01,976 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 09:11:01,976 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-24 09:11:01,987 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-24 09:11:01,987 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 09:11:01,987 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-24 09:11:01,998 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-24 09:11:01,998 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 09:11:01,998 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-24 09:11:02,009 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-24 09:11:02,009 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 09:11:02,009 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-24 09:11:02,010 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-24 09:11:02,010 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/7-create_word.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:11:02,609 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-24 09:11:02,609 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:11:02,609 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:11:02,609 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:11:02,609 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:11:02,609 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:11:02,609 - INFO - 7-create_word:73 - Processed dates - Today: 24-08-2025, Tomorrow: 25-08-2025
2025-08-24 09:11:02,609 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-24 09:11:02,610 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 09:11:02,610 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 09:11:02,610 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 09:11:02,610 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 09:11:02,610 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 09:11:02,610 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:11:02,610 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-24 09:11:02,610 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 09:11:02,617 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-24 09:11:02,617 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 09:11:02,622 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-24 09:11:02,623 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 09:11:02,628 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-24 09:11:02,628 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 09:11:02,635 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-24 09:11:02,635 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-24 09:11:02,635 - INFO - 7-create_word:230 - Loading Word template...
2025-08-24 09:11:02,741 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 09:11:02,741 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-24 09:11:02,742 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-24 09:11:02,743 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 24-08-2025'.
2025-08-24 09:11:02,744 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-24 09:11:02,744 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 25-08-2025'.
2025-08-24 09:11:02,744 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-24 09:11:02,744 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-24 09:11:02,744 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-24 09:11:03,392 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-24 09:11:03,428 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-24 09:11:03,428 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-24 09:11:03,819 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-24 09:11:03,847 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-24 09:11:03,847 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-24 09:11:04,599 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-24 09:11:04,638 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-24 09:11:04,638 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-24 09:11:05,526 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-24 09:11:05,568 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-24 09:11:05,568 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-24 09:11:05,568 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:11:05,856 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:11:05,856 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_24-08-2025.docx' exists on disk at '/home/aoumeur/BQRM_V01/sonelgaz/bulletins' (size: 2962609 bytes).
2025-08-24 09:11:05,857 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/BQRM_V01/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-24 09:11:05,857 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-24 09:11:05,857 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-24 09:11:05,857 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/8-send_MSG.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:11:05,950 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:11:05,951 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-24 09:11:05,951 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-24 09:11:05,951 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:11:05,951 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 09:11:05,951 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 09:11:05,951 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:11:05,951 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:11:05,951 - DEBUG - file_operations:245 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:11:05,951 - WARNING - file_operations:243 - File not found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/grib_2025082400_0000. Skipping this operation.
2025-08-24 09:11:05,951 - INFO - 8-send_MSG:99 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-24 09:11:05,951 - DEBUG - file_operations:245 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:11:05,951 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:11:05,951 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 24/08/2025 Généré avec ARPEGE'
2025-08-24 09:11:05,952 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx')]
2025-08-24 09:11:06,054 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-24 09:11:06,055 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-24 09:11:06,055 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 09:11:06,055 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'. Attempting to open and attach.
2025-08-24 09:11:06,154 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 09:11:06,753 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-24 09:11:06,761 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-24 09:11:06,762 - INFO - 8-send_MSG:131 - Attempting to clean up temporary directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp
2025-08-24 09:11:06,762 - INFO - file_operations:284 - Starting cleanup of directory: /home/aoumeur/BQRM_V01/sonelgaz/tmp (Pattern: All files)
2025-08-24 09:11:06,793 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 09:11:06,808 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 09:11:06,819 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:11:06,831 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 09:11:06,843 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 09:11:06,855 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 09:11:06,867 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 09:11:06,879 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 09:11:06,885 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 09:11:06,888 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:11:06,888 - INFO - file_operations:301 - Finished cleanup. Successfully deleted 10 files from /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 09:11:06,888 - INFO - 8-send_MSG:140 - Successfully cleaned 10 files from /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp.
2025-08-24 09:11:06,888 - INFO - 8-send_MSG:147 - Script execution finished.
2025-08-24 09:11:06,899 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:11:06,899 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-24 09:11:06,899 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-24 09:11:06,991 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:11:06,991 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-24 09:11:06,991 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-24 09:11:07,067 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:11:07,067 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-24 09:11:07,067 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-24 09:11:07,192 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:11:07,192 - INFO - 4-traitement_obs:206 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-24 09:11:07,192 - INFO - 4-traitement_obs:215 - --- Script '4-traitement_obs.py' finished. ---
2025-08-24 09:11:07,317 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:11:07,317 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-24 09:11:07,317 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-24 09:11:07,443 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:11:07,443 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-24 09:11:07,443 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-24 09:11:07,551 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:11:07,551 - INFO - 1-get_arpege:156 - Successfully executed 2-conv.py.
2025-08-24 09:11:07,551 - INFO - 1-get_arpege:165 - --- Script '1-get_arpege.py' finished. ---
2025-08-24 09:22:37,492 - INFO - 1-get-aladin:33 - --- Script 'sonelgaz' execution started. ---
2025-08-24 09:22:37,492 - INFO - 1-get-aladin:34 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:22:37,492 - INFO - 1-get-aladin:35 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:22:37,492 - INFO - 1-get-aladin:36 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:22:37,492 - INFO - 1-get-aladin:37 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:22:37,492 - INFO - 1-get-aladin:41 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:22:37,493 - INFO - 1-get-aladin:60 - Configuration loaded directly from script variables (for ALADIN data).
2025-08-24 09:22:37,493 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:22:37,493 - INFO - 1-get-aladin:126 - --- Main script execution started ---
2025-08-24 09:22:37,493 - INFO - 1-get-aladin:80 - Preparing ALADIN file list for date 2025-08-24 with resolution 00.
2025-08-24 09:22:37,493 - INFO - 1-get-aladin:106 - Prepared 49 files for download.
2025-08-24 09:22:37,493 - INFO - fetchdata:171 - Starting SFTP file fetching process for 49 files.
2025-08-24 09:22:37,493 - INFO - fetchdata:33 - Attempting to create SFTP client for login2.fennec.meteo.dz:22 with user wchikhi.
2025-08-24 09:22:37,514 - INFO - transport:1844 - Connected (version 2.0, client OpenSSH_8.0)
2025-08-24 09:22:37,604 - INFO - transport:1844 - Authentication (password) successful!
2025-08-24 09:22:42,190 - INFO - sftp:158 - [chan 0] Opened sftp connection (server version 3)
2025-08-24 09:22:42,190 - INFO - fetchdata:39 - Successfully connected to SFTP server: login2.fennec.meteo.dz
2025-08-24 09:22:42,191 - INFO - fetchdata:227 - Local file grib_2025082400_0000 is missing. Downloading.
2025-08-24 09:22:42,192 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0000 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0000
2025-08-24 09:22:42,420 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0000
2025-08-24 09:22:42,420 - INFO - fetchdata:227 - Local file grib_2025082400_0001 is missing. Downloading.
2025-08-24 09:22:42,420 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0001 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0001
2025-08-24 09:22:42,598 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0001
2025-08-24 09:22:42,599 - INFO - fetchdata:227 - Local file grib_2025082400_0002 is missing. Downloading.
2025-08-24 09:22:42,599 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0002 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0002
2025-08-24 09:22:42,805 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0002
2025-08-24 09:22:42,806 - INFO - fetchdata:227 - Local file grib_2025082400_0003 is missing. Downloading.
2025-08-24 09:22:42,806 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0003 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0003
2025-08-24 09:22:43,015 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0003
2025-08-24 09:22:43,015 - INFO - fetchdata:227 - Local file grib_2025082400_0004 is missing. Downloading.
2025-08-24 09:22:43,016 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0004 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0004
2025-08-24 09:22:43,235 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0004
2025-08-24 09:22:43,236 - INFO - fetchdata:227 - Local file grib_2025082400_0005 is missing. Downloading.
2025-08-24 09:22:43,236 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0005 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0005
2025-08-24 09:22:43,476 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0005
2025-08-24 09:22:43,476 - INFO - fetchdata:227 - Local file grib_2025082400_0006 is missing. Downloading.
2025-08-24 09:22:43,476 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0006 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0006
2025-08-24 09:22:43,648 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0006
2025-08-24 09:22:43,648 - INFO - fetchdata:227 - Local file grib_2025082400_0007 is missing. Downloading.
2025-08-24 09:22:43,648 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0007 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0007
2025-08-24 09:22:43,829 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0007
2025-08-24 09:22:43,829 - INFO - fetchdata:227 - Local file grib_2025082400_0008 is missing. Downloading.
2025-08-24 09:22:43,829 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0008 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0008
2025-08-24 09:22:44,076 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0008
2025-08-24 09:22:44,076 - INFO - fetchdata:227 - Local file grib_2025082400_0009 is missing. Downloading.
2025-08-24 09:22:44,076 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0009 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0009
2025-08-24 09:22:44,255 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0009
2025-08-24 09:22:44,255 - INFO - fetchdata:227 - Local file grib_2025082400_0010 is missing. Downloading.
2025-08-24 09:22:44,255 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0010 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0010
2025-08-24 09:22:44,400 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0010
2025-08-24 09:22:44,400 - INFO - fetchdata:227 - Local file grib_2025082400_0011 is missing. Downloading.
2025-08-24 09:22:44,400 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0011 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0011
2025-08-24 09:22:44,545 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0011
2025-08-24 09:22:44,545 - INFO - fetchdata:227 - Local file grib_2025082400_0012 is missing. Downloading.
2025-08-24 09:22:44,545 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0012 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0012
2025-08-24 09:22:44,711 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0012
2025-08-24 09:22:44,711 - INFO - fetchdata:227 - Local file grib_2025082400_0013 is missing. Downloading.
2025-08-24 09:22:44,711 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0013 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0013
2025-08-24 09:22:44,863 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0013
2025-08-24 09:22:44,863 - INFO - fetchdata:227 - Local file grib_2025082400_0014 is missing. Downloading.
2025-08-24 09:22:44,864 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0014 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0014
2025-08-24 09:22:45,079 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0014
2025-08-24 09:22:45,079 - INFO - fetchdata:227 - Local file grib_2025082400_0015 is missing. Downloading.
2025-08-24 09:22:45,079 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0015 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0015
2025-08-24 09:22:45,260 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0015
2025-08-24 09:22:45,260 - INFO - fetchdata:227 - Local file grib_2025082400_0016 is missing. Downloading.
2025-08-24 09:22:45,260 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0016 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0016
2025-08-24 09:22:45,420 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0016
2025-08-24 09:22:45,420 - INFO - fetchdata:227 - Local file grib_2025082400_0017 is missing. Downloading.
2025-08-24 09:22:45,420 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0017 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0017
2025-08-24 09:22:45,608 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0017
2025-08-24 09:22:45,609 - INFO - fetchdata:227 - Local file grib_2025082400_0018 is missing. Downloading.
2025-08-24 09:22:45,609 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0018 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0018
2025-08-24 09:22:45,845 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0018
2025-08-24 09:22:45,845 - INFO - fetchdata:227 - Local file grib_2025082400_0019 is missing. Downloading.
2025-08-24 09:22:45,845 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0019 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0019
2025-08-24 09:22:46,030 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0019
2025-08-24 09:22:46,030 - INFO - fetchdata:227 - Local file grib_2025082400_0020 is missing. Downloading.
2025-08-24 09:22:46,030 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0020 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0020
2025-08-24 09:22:46,184 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0020
2025-08-24 09:22:46,184 - INFO - fetchdata:227 - Local file grib_2025082400_0021 is missing. Downloading.
2025-08-24 09:22:46,185 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0021 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0021
2025-08-24 09:22:46,361 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0021
2025-08-24 09:22:46,361 - INFO - fetchdata:227 - Local file grib_2025082400_0022 is missing. Downloading.
2025-08-24 09:22:46,362 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0022 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0022
2025-08-24 09:22:46,541 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0022
2025-08-24 09:22:46,542 - INFO - fetchdata:227 - Local file grib_2025082400_0023 is missing. Downloading.
2025-08-24 09:22:46,542 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0023 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0023
2025-08-24 09:22:46,720 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0023
2025-08-24 09:22:46,720 - INFO - fetchdata:227 - Local file grib_2025082400_0024 is missing. Downloading.
2025-08-24 09:22:46,720 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0024 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0024
2025-08-24 09:22:46,889 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0024
2025-08-24 09:22:46,889 - INFO - fetchdata:227 - Local file grib_2025082400_0025 is missing. Downloading.
2025-08-24 09:22:46,889 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0025 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0025
2025-08-24 09:22:47,098 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0025
2025-08-24 09:22:47,098 - INFO - fetchdata:227 - Local file grib_2025082400_0026 is missing. Downloading.
2025-08-24 09:22:47,098 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0026 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0026
2025-08-24 09:22:47,303 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0026
2025-08-24 09:22:47,304 - INFO - fetchdata:227 - Local file grib_2025082400_0027 is missing. Downloading.
2025-08-24 09:22:47,304 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0027 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0027
2025-08-24 09:22:47,486 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0027
2025-08-24 09:22:47,486 - INFO - fetchdata:227 - Local file grib_2025082400_0028 is missing. Downloading.
2025-08-24 09:22:47,486 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0028 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0028
2025-08-24 09:22:47,662 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0028
2025-08-24 09:22:47,662 - INFO - fetchdata:227 - Local file grib_2025082400_0029 is missing. Downloading.
2025-08-24 09:22:47,662 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0029 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0029
2025-08-24 09:22:47,807 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0029
2025-08-24 09:22:47,807 - INFO - fetchdata:227 - Local file grib_2025082400_0030 is missing. Downloading.
2025-08-24 09:22:47,807 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0030 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0030
2025-08-24 09:22:47,999 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0030
2025-08-24 09:22:48,000 - INFO - fetchdata:227 - Local file grib_2025082400_0031 is missing. Downloading.
2025-08-24 09:22:48,000 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0031 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0031
2025-08-24 09:22:48,185 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0031
2025-08-24 09:22:48,186 - INFO - fetchdata:227 - Local file grib_2025082400_0032 is missing. Downloading.
2025-08-24 09:22:48,186 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0032 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0032
2025-08-24 09:22:48,404 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0032
2025-08-24 09:22:48,404 - INFO - fetchdata:227 - Local file grib_2025082400_0033 is missing. Downloading.
2025-08-24 09:22:48,404 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0033 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0033
2025-08-24 09:22:48,548 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0033
2025-08-24 09:22:48,548 - INFO - fetchdata:227 - Local file grib_2025082400_0034 is missing. Downloading.
2025-08-24 09:22:48,548 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0034 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0034
2025-08-24 09:22:48,714 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0034
2025-08-24 09:22:48,714 - INFO - fetchdata:227 - Local file grib_2025082400_0035 is missing. Downloading.
2025-08-24 09:22:48,714 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0035 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0035
2025-08-24 09:22:48,862 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0035
2025-08-24 09:22:48,862 - INFO - fetchdata:227 - Local file grib_2025082400_0036 is missing. Downloading.
2025-08-24 09:22:48,862 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0036 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0036
2025-08-24 09:22:49,054 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0036
2025-08-24 09:22:49,055 - INFO - fetchdata:227 - Local file grib_2025082400_0037 is missing. Downloading.
2025-08-24 09:22:49,055 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0037 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0037
2025-08-24 09:22:49,233 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0037
2025-08-24 09:22:49,233 - INFO - fetchdata:227 - Local file grib_2025082400_0038 is missing. Downloading.
2025-08-24 09:22:49,233 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0038 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0038
2025-08-24 09:22:49,396 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0038
2025-08-24 09:22:49,397 - INFO - fetchdata:227 - Local file grib_2025082400_0039 is missing. Downloading.
2025-08-24 09:22:49,397 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0039 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0039
2025-08-24 09:22:49,564 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0039
2025-08-24 09:22:49,564 - INFO - fetchdata:227 - Local file grib_2025082400_0040 is missing. Downloading.
2025-08-24 09:22:49,564 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0040 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0040
2025-08-24 09:22:49,766 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0040
2025-08-24 09:22:49,766 - INFO - fetchdata:227 - Local file grib_2025082400_0041 is missing. Downloading.
2025-08-24 09:22:49,766 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0041 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0041
2025-08-24 09:22:49,954 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0041
2025-08-24 09:22:49,955 - INFO - fetchdata:227 - Local file grib_2025082400_0042 is missing. Downloading.
2025-08-24 09:22:49,955 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0042 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0042
2025-08-24 09:22:50,107 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0042
2025-08-24 09:22:50,107 - INFO - fetchdata:227 - Local file grib_2025082400_0043 is missing. Downloading.
2025-08-24 09:22:50,107 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0043 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0043
2025-08-24 09:22:50,261 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0043
2025-08-24 09:22:50,262 - INFO - fetchdata:227 - Local file grib_2025082400_0044 is missing. Downloading.
2025-08-24 09:22:50,262 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0044 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0044
2025-08-24 09:22:50,408 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0044
2025-08-24 09:22:50,408 - INFO - fetchdata:227 - Local file grib_2025082400_0045 is missing. Downloading.
2025-08-24 09:22:50,408 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0045 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0045
2025-08-24 09:22:50,613 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0045
2025-08-24 09:22:50,613 - INFO - fetchdata:227 - Local file grib_2025082400_0046 is missing. Downloading.
2025-08-24 09:22:50,613 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0046 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0046
2025-08-24 09:22:50,765 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0046
2025-08-24 09:22:50,765 - INFO - fetchdata:227 - Local file grib_2025082400_0047 is missing. Downloading.
2025-08-24 09:22:50,765 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0047 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0047
2025-08-24 09:22:50,925 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0047
2025-08-24 09:22:50,926 - INFO - fetchdata:227 - Local file grib_2025082400_0048 is missing. Downloading.
2025-08-24 09:22:50,926 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0048 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0048
2025-08-24 09:22:51,132 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0048
2025-08-24 09:22:51,132 - INFO - fetchdata:254 - SFTP SSH client closed.
2025-08-24 09:22:51,132 - INFO - fetchdata:261 - SFTP file fetching process completed.
2025-08-24 09:22:51,132 - INFO - 1-get-aladin:118 - ALADIN file fetching process completed for 2025-08-24.
2025-08-24 09:22:51,132 - INFO - 1-get-aladin:134 - Attempting to run next program: 2-conv.py
2025-08-24 09:22:51,132 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:51,877 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-24 09:22:51,877 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:22:51,877 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:22:51,877 - INFO - 2-conv:43 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:22:51,877 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:22:51,877 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 09:22:51,877 - INFO - 2-conv:55 - Processing for date: 20250824
2025-08-24 09:22:51,877 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-24 09:22:51,877 - INFO - 2-conv:96 - Primary ARPEGE file not found. Found alternative GRIB file: grib_2025082400_0000. Processing this branch.
2025-08-24 09:22:51,877 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-24 09:22:51,878 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0000' to 't2m00.grib'.
2025-08-24 09:22:51,878 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0000 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:51,998 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:51,998 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0001' to 't2m01.grib'.
2025-08-24 09:22:51,998 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0001 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m01.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:52,074 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:52,074 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0002' to 't2m02.grib'.
2025-08-24 09:22:52,074 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0002 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m02.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:52,150 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:52,150 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0003' to 't2m03.grib'.
2025-08-24 09:22:52,150 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0003 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m03.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:52,226 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:52,226 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0004' to 't2m04.grib'.
2025-08-24 09:22:52,226 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0004 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m04.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:52,301 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:52,301 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0005' to 't2m05.grib'.
2025-08-24 09:22:52,302 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0005 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m05.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:52,377 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:52,377 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0006' to 't2m06.grib'.
2025-08-24 09:22:52,377 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0006 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m06.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:52,452 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:52,452 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0007' to 't2m07.grib'.
2025-08-24 09:22:52,452 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0007 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m07.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:52,527 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:52,527 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0008' to 't2m08.grib'.
2025-08-24 09:22:52,527 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0008 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m08.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:52,603 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:52,603 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0009' to 't2m09.grib'.
2025-08-24 09:22:52,603 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0009 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m09.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:52,678 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:52,678 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0010' to 't2m10.grib'.
2025-08-24 09:22:52,678 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0010 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m10.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:52,753 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:52,754 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0011' to 't2m11.grib'.
2025-08-24 09:22:52,754 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0011 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m11.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:52,829 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:52,829 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0012' to 't2m12.grib'.
2025-08-24 09:22:52,829 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0012 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:52,905 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:52,905 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0013' to 't2m13.grib'.
2025-08-24 09:22:52,905 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0013 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m13.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:52,980 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:52,981 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0014' to 't2m14.grib'.
2025-08-24 09:22:52,981 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0014 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m14.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:53,055 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:53,056 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0015' to 't2m15.grib'.
2025-08-24 09:22:53,056 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0015 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m15.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:53,130 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:53,131 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0016' to 't2m16.grib'.
2025-08-24 09:22:53,131 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0016 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m16.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:53,206 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:53,206 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0017' to 't2m17.grib'.
2025-08-24 09:22:53,207 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0017 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m17.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:53,282 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:53,282 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0018' to 't2m18.grib'.
2025-08-24 09:22:53,282 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0018 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m18.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:53,357 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:53,357 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0019' to 't2m19.grib'.
2025-08-24 09:22:53,357 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0019 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m19.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:53,432 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:53,433 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0020' to 't2m20.grib'.
2025-08-24 09:22:53,433 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0020 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m20.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:53,508 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:53,509 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0021' to 't2m21.grib'.
2025-08-24 09:22:53,509 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0021 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m21.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:53,584 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:53,584 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0022' to 't2m22.grib'.
2025-08-24 09:22:53,584 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0022 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m22.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:53,659 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:53,660 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0023' to 't2m23.grib'.
2025-08-24 09:22:53,660 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0023 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m23.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:53,734 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:53,735 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0024' to 't2m24.grib'.
2025-08-24 09:22:53,735 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0024 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:53,810 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:53,810 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0025' to 't2m25.grib'.
2025-08-24 09:22:53,811 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0025 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m25.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:53,887 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:53,887 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0026' to 't2m26.grib'.
2025-08-24 09:22:53,887 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0026 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m26.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:53,962 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:53,962 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0027' to 't2m27.grib'.
2025-08-24 09:22:53,962 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0027 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m27.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:54,038 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:54,038 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0028' to 't2m28.grib'.
2025-08-24 09:22:54,038 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0028 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m28.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:54,113 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:54,113 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0029' to 't2m29.grib'.
2025-08-24 09:22:54,113 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0029 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m29.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:54,189 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:54,190 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0030' to 't2m30.grib'.
2025-08-24 09:22:54,190 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0030 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m30.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:54,265 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:54,265 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0031' to 't2m31.grib'.
2025-08-24 09:22:54,266 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0031 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m31.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:54,341 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:54,341 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0032' to 't2m32.grib'.
2025-08-24 09:22:54,341 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0032 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m32.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:54,417 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:54,418 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0033' to 't2m33.grib'.
2025-08-24 09:22:54,418 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0033 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m33.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:54,494 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:54,494 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0034' to 't2m34.grib'.
2025-08-24 09:22:54,494 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0034 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m34.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:54,569 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:54,569 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0035' to 't2m35.grib'.
2025-08-24 09:22:54,569 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0035 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m35.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:54,645 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:54,645 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0036' to 't2m36.grib'.
2025-08-24 09:22:54,645 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0036 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:54,720 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:54,720 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0037' to 't2m37.grib'.
2025-08-24 09:22:54,720 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0037 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m37.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:54,795 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:54,795 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0038' to 't2m38.grib'.
2025-08-24 09:22:54,795 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0038 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m38.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:54,871 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:54,871 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0039' to 't2m39.grib'.
2025-08-24 09:22:54,871 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0039 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m39.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:54,948 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:54,948 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0040' to 't2m40.grib'.
2025-08-24 09:22:54,948 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0040 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m40.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:55,023 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:55,023 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0041' to 't2m41.grib'.
2025-08-24 09:22:55,023 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0041 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m41.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:55,098 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:55,098 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0042' to 't2m42.grib'.
2025-08-24 09:22:55,098 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0042 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m42.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:55,174 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:55,174 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0043' to 't2m43.grib'.
2025-08-24 09:22:55,174 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0043 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m43.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:55,250 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:55,250 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0044' to 't2m44.grib'.
2025-08-24 09:22:55,250 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0044 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m44.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:55,326 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:55,326 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0045' to 't2m45.grib'.
2025-08-24 09:22:55,326 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0045 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m45.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:55,401 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:55,401 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0046' to 't2m46.grib'.
2025-08-24 09:22:55,402 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0046 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m46.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:55,477 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:55,477 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0047' to 't2m47.grib'.
2025-08-24 09:22:55,477 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0047 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m47.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:55,552 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:55,552 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0048' to 't2m48.grib'.
2025-08-24 09:22:55,552 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0048 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m48.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:55,628 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:22:55,628 - INFO - grib_processor:69 - Merging 49 extracted GRIB files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 09:22:55,628 - INFO - file_operations:127 - Starting merge of 49 files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 09:22:55,633 - INFO - file_operations:139 - Successfully merged files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 09:22:55,633 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:22:55,633 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-24 09:22:55,633 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00.grib
2025-08-24 09:22:55,634 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m01.grib
2025-08-24 09:22:55,634 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m02.grib
2025-08-24 09:22:55,634 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m03.grib
2025-08-24 09:22:55,634 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m04.grib
2025-08-24 09:22:55,634 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m05.grib
2025-08-24 09:22:55,634 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m06.grib
2025-08-24 09:22:55,634 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m07.grib
2025-08-24 09:22:55,635 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m08.grib
2025-08-24 09:22:55,635 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m09.grib
2025-08-24 09:22:55,635 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m10.grib
2025-08-24 09:22:55,635 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m11.grib
2025-08-24 09:22:55,635 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12.grib
2025-08-24 09:22:55,635 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m13.grib
2025-08-24 09:22:55,635 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m14.grib
2025-08-24 09:22:55,635 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m15.grib
2025-08-24 09:22:55,635 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m16.grib
2025-08-24 09:22:55,636 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m17.grib
2025-08-24 09:22:55,636 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m18.grib
2025-08-24 09:22:55,636 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m19.grib
2025-08-24 09:22:55,636 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m20.grib
2025-08-24 09:22:55,636 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m21.grib
2025-08-24 09:22:55,636 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m22.grib
2025-08-24 09:22:55,636 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m23.grib
2025-08-24 09:22:55,636 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24.grib
2025-08-24 09:22:55,636 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m25.grib
2025-08-24 09:22:55,637 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m26.grib
2025-08-24 09:22:55,637 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m27.grib
2025-08-24 09:22:55,637 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m28.grib
2025-08-24 09:22:55,637 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m29.grib
2025-08-24 09:22:55,637 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m30.grib
2025-08-24 09:22:55,637 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m31.grib
2025-08-24 09:22:55,637 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m32.grib
2025-08-24 09:22:55,637 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m33.grib
2025-08-24 09:22:55,637 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m34.grib
2025-08-24 09:22:55,638 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m35.grib
2025-08-24 09:22:55,638 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36.grib
2025-08-24 09:22:55,638 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m37.grib
2025-08-24 09:22:55,638 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m38.grib
2025-08-24 09:22:55,638 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m39.grib
2025-08-24 09:22:55,638 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m40.grib
2025-08-24 09:22:55,638 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m41.grib
2025-08-24 09:22:55,638 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m42.grib
2025-08-24 09:22:55,638 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m43.grib
2025-08-24 09:22:55,639 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m44.grib
2025-08-24 09:22:55,639 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m45.grib
2025-08-24 09:22:55,639 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m46.grib
2025-08-24 09:22:55,639 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m47.grib
2025-08-24 09:22:55,639 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m48.grib
2025-08-24 09:22:55,639 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-24 09:22:55,639 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-24 09:22:55,639 - INFO - 2-conv:118 - Alternative GRIB processing completed successfully. Final file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:22:55,639 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-24 09:22:55,639 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:22:56,445 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-24 09:22:56,445 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:22:56,445 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:22:56,445 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:22:56,445 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:22:56,445 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:22:56,446 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:22:56,447 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 09:22:56,449 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 09:22:56,458 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-24 09:22:56,467 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:22:56,655 - INFO - grib_processor:113 - GRIB file '2t_20250824.grib' opened successfully.
2025-08-24 09:22:56,655 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-24 09:22:56,655 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-24 09:22:56,655 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-24 09:22:59,467 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-24 09:22:59,468 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-24 09:22:59,493 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-24 09:22:59,493 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-24 09:22:59,493 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-24 09:22:59,493 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-24 09:22:59,494 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-24 09:22:59,494 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-24 09:22:59,495 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-24 09:22:59,519 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:22:59,524 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:22:59,524 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:22:59,524 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-24 09:22:59,524 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:23:00,335 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:23:00,335 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../../bufr_data/observations
2025-08-24 09:23:00,335 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations
2025-08-24 09:23:00,335 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:23:00,335 - INFO - 4-traitement_obs:104 - Initialized DataFrame with 47 unique stations.
2025-08-24 09:23:00,336 - INFO - 4-traitement_obs:132 - Configured to process 5 time steps for observations.
2025-08-24 09:23:00,336 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508230600.bufr for key 'airTemperature'
2025-08-24 09:23:00,479 - INFO - 4-traitement_obs:160 - Merged data for t2m_06 into the main DataFrame.
2025-08-24 09:23:00,479 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231200.bufr for key 'airTemperature'
2025-08-24 09:23:00,582 - INFO - 4-traitement_obs:160 - Merged data for t2m_12 into the main DataFrame.
2025-08-24 09:23:00,582 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'airTemperature'
2025-08-24 09:23:00,686 - INFO - 4-traitement_obs:160 - Merged data for t2m_18 into the main DataFrame.
2025-08-24 09:23:00,686 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508232100.bufr for key 'airTemperature'
2025-08-24 09:23:00,715 - INFO - 4-traitement_obs:160 - Merged data for t2m_21 into the main DataFrame.
2025-08-24 09:23:00,715 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240000.bufr for key 'airTemperature'
2025-08-24 09:23:00,779 - INFO - 4-traitement_obs:160 - Merged data for t2m_24 into the main DataFrame.
2025-08-24 09:23:00,779 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-24 09:23:00,779 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-24 09:23:00,780 - INFO - 4-traitement_obs:178 - Final DataFrame head:
2025-08-24 09:23:00,783 - INFO - 4-traitement_obs:180 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    29.1    44.0    43.2     NaN    33.3
1            ANNABA    22.0    29.0    26.1     NaN    19.7
2      B-B-ARRERIDJ    17.7    32.1    29.3     NaN     NaN
3             BATNA    18.5    35.1    29.0     NaN    20.5
4            BECHAR    30.1    38.0    35.2     NaN    31.7
2025-08-24 09:23:00,785 - INFO - 4-traitement_obs:192 - DataFrame successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations/observations_20250824.csv
2025-08-24 09:23:00,785 - INFO - 4-traitement_obs:198 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-24 09:23:00,785 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:23:01,597 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-24 09:23:01,597 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:23:01,597 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:23:01,597 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:23:01,597 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-24 09:23:01,597 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-24 09:23:01,598 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-24 09:23:01,598 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/24/Synop_202508240600.bufr
2025-08-24 09:23:01,598 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/23/Synop_202508231800.bufr
2025-08-24 09:23:01,598 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-24 09:23:01,598 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 09:23:01,739 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-24 09:23:01,740 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 09:23:01,842 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 88
2025-08-24 09:23:01,842 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-24 09:23:01,842 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-24 09:23:01,845 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-24 09:23:01,847 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations
2025-08-24 09:23:01,849 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 09:23:01,849 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-24 09:23:01,849 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/6-create_tables.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:23:02,348 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:23:02,348 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/BQRM_V01/sonelgaz/outputs
2025-08-24 09:23:02,351 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:23:02,376 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-24 09:23:02,377 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-24 09:23:02,377 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-24 09:23:02,379 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 09:23:02,386 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 09:23:02,387 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-24 09:23:02,388 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 09:23:02,393 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 09:23:02,393 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-24 09:23:02,396 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-24 09:23:02,396 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-24 09:23:02,398 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-24 09:23:02,398 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-24 09:23:02,398 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-24 09:23:02,410 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-24 09:23:02,411 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 09:23:02,411 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-24 09:23:02,421 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-24 09:23:02,421 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 09:23:02,421 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-24 09:23:02,432 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-24 09:23:02,432 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 09:23:02,432 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-24 09:23:02,443 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-24 09:23:02,444 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 09:23:02,444 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-24 09:23:02,444 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-24 09:23:02,444 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/7-create_word.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:23:02,974 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-24 09:23:02,975 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:23:02,975 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:23:02,976 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:23:02,976 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:23:02,976 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:23:02,976 - INFO - 7-create_word:73 - Processed dates - Today: 24-08-2025, Tomorrow: 25-08-2025
2025-08-24 09:23:02,976 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-24 09:23:02,976 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 09:23:02,976 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 09:23:02,976 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 09:23:02,976 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 09:23:02,976 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 09:23:02,976 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:23:02,976 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-24 09:23:02,976 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 09:23:02,983 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-24 09:23:02,984 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 09:23:02,989 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-24 09:23:02,989 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 09:23:02,995 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-24 09:23:02,995 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 09:23:03,001 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-24 09:23:03,001 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-24 09:23:03,001 - INFO - 7-create_word:230 - Loading Word template...
2025-08-24 09:23:03,055 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 09:23:03,055 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-24 09:23:03,056 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-24 09:23:03,057 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 24-08-2025'.
2025-08-24 09:23:03,058 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-24 09:23:03,058 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 25-08-2025'.
2025-08-24 09:23:03,058 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-24 09:23:03,058 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-24 09:23:03,058 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-24 09:23:03,679 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-24 09:23:03,715 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-24 09:23:03,715 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-24 09:23:04,094 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-24 09:23:04,122 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-24 09:23:04,122 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-24 09:23:04,837 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-24 09:23:04,875 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-24 09:23:04,875 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-24 09:23:05,707 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-24 09:23:05,747 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-24 09:23:05,747 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-24 09:23:05,747 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:23:06,063 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:23:06,063 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_24-08-2025.docx' exists on disk at '/home/aoumeur/BQRM_V01/sonelgaz/bulletins' (size: 2962604 bytes).
2025-08-24 09:23:06,063 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/BQRM_V01/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-24 09:23:06,063 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-24 09:23:06,063 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-24 09:23:06,063 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/8-send_MSG.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:23:06,125 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:23:06,126 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-24 09:23:06,126 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-24 09:23:06,126 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:23:06,126 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 09:23:06,126 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 09:23:06,126 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:23:06,126 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:23:06,126 - WARNING - file_operations:243 - File not found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2. Skipping this operation.
2025-08-24 09:23:06,126 - DEBUG - file_operations:245 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/grib_2025082400_0000
2025-08-24 09:23:06,126 - INFO - 8-send_MSG:103 - ALADIN GRIB file found. Setting email subject/body for ALADIN model.
2025-08-24 09:23:06,126 - DEBUG - file_operations:245 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:23:06,127 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:23:06,127 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 24/08/2025 Généré avec ALADIN'
2025-08-24 09:23:06,127 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx')]
2025-08-24 09:23:06,238 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-24 09:23:06,239 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-24 09:23:06,239 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 09:23:06,239 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'. Attempting to open and attach.
2025-08-24 09:23:06,354 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 09:23:06,990 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-24 09:23:06,998 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-24 09:23:06,998 - INFO - 8-send_MSG:131 - Attempting to clean up temporary directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp
2025-08-24 09:23:06,999 - INFO - file_operations:284 - Starting cleanup of directory: /home/aoumeur/BQRM_V01/sonelgaz/tmp (Pattern: All files)
2025-08-24 09:23:07,003 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0000
2025-08-24 09:23:07,008 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0035
2025-08-24 09:23:07,013 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0028
2025-08-24 09:23:07,017 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0030
2025-08-24 09:23:07,022 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0016
2025-08-24 09:23:07,025 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0012
2025-08-24 09:23:07,028 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0008
2025-08-24 09:23:07,031 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0040
2025-08-24 09:23:07,033 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0020
2025-08-24 09:23:07,035 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0044
2025-08-24 09:23:07,037 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0023
2025-08-24 09:23:07,039 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0005
2025-08-24 09:23:07,041 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0007
2025-08-24 09:23:07,043 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0043
2025-08-24 09:23:07,044 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0019
2025-08-24 09:23:07,046 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0038
2025-08-24 09:23:07,047 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0017
2025-08-24 09:23:07,049 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0037
2025-08-24 09:23:07,050 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0003
2025-08-24 09:23:07,052 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0047
2025-08-24 09:23:07,054 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0015
2025-08-24 09:23:07,055 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0031
2025-08-24 09:23:07,056 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0021
2025-08-24 09:23:07,058 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0013
2025-08-24 09:23:07,059 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0041
2025-08-24 09:23:07,061 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0009
2025-08-24 09:23:07,062 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0018
2025-08-24 09:23:07,064 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0011
2025-08-24 09:23:07,065 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0036
2025-08-24 09:23:07,067 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0042
2025-08-24 09:23:07,068 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0004
2025-08-24 09:23:07,070 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0001
2025-08-24 09:23:07,071 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0006
2025-08-24 09:23:07,073 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0022
2025-08-24 09:23:07,075 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0048
2025-08-24 09:23:07,076 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0032
2025-08-24 09:23:07,078 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0029
2025-08-24 09:23:07,079 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0026
2025-08-24 09:23:07,080 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0010
2025-08-24 09:23:07,082 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0025
2025-08-24 09:23:07,084 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0046
2025-08-24 09:23:07,085 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0034
2025-08-24 09:23:07,086 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0014
2025-08-24 09:23:07,088 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0027
2025-08-24 09:23:07,090 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0045
2025-08-24 09:23:07,091 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0024
2025-08-24 09:23:07,092 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:23:07,094 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0033
2025-08-24 09:23:07,095 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0039
2025-08-24 09:23:07,097 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0002
2025-08-24 09:23:07,097 - INFO - file_operations:301 - Finished cleanup. Successfully deleted 50 files from /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 09:23:07,097 - INFO - 8-send_MSG:140 - Successfully cleaned 50 files from /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp.
2025-08-24 09:23:07,097 - INFO - 8-send_MSG:147 - Script execution finished.
2025-08-24 09:23:07,107 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:23:07,107 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-24 09:23:07,107 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-24 09:23:07,194 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:23:07,195 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-24 09:23:07,195 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-24 09:23:07,275 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:23:07,275 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-24 09:23:07,275 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-24 09:23:07,399 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:23:07,399 - INFO - 4-traitement_obs:206 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-24 09:23:07,399 - INFO - 4-traitement_obs:215 - --- Script '4-traitement_obs.py' finished. ---
2025-08-24 09:23:07,519 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:23:07,519 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-24 09:23:07,519 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-24 09:23:07,640 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:23:07,640 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-24 09:23:07,640 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-24 09:23:07,744 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:23:07,744 - INFO - 1-get-aladin:142 - Successfully executed 2-conv.py.
2025-08-24 09:23:07,744 - INFO - 1-get-aladin:152 - --- Script 'sonelgaz' finished. ---
2025-08-24 09:24:20,807 - INFO - 1-get_arpege:51 - --- Script '1-get_arpege.py' started ---
2025-08-24 09:24:20,807 - INFO - 1-get_arpege:52 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:24:20,807 - INFO - 1-get_arpege:53 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:24:20,807 - INFO - 1-get_arpege:54 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:24:20,807 - INFO - 1-get_arpege:55 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:24:20,807 - INFO - 1-get_arpege:56 - Temporary directory for FTP download: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 09:24:20,807 - INFO - 1-get_arpege:57 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-24 09:24:20,807 - INFO - 1-get_arpege:60 - Ensured temporary directory exists: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 09:24:20,807 - INFO - 1-get_arpege:69 - Fetching files for date: 20250824 with pattern: *SP1*20250824000*
2025-08-24 09:24:20,807 - INFO - 1-get_arpege:72 - Checking if files exist on FTP server...
2025-08-24 09:24:20,807 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250824000*)...
2025-08-24 09:24:20,807 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-24 09:24:21,047 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-24 09:24:21,060 - INFO - fetchdata:81 - Found 9 files matching pattern '*SP1*20250824000*'.
2025-08-24 09:24:21,061 - INFO - 1-get_arpege:100 - Found 9 matching files on FTP server:
2025-08-24 09:24:21,061 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:21,061 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:21,062 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:21,062 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:21,062 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:21,062 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:21,062 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:21,062 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:21,063 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:21,063 - INFO - 1-get_arpege:115 - Proceeding with FTP download using fetch_remote_files.
2025-08-24 09:24:21,063 - INFO - 1-get_arpege:116 - Attempting to download 9 files to /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 09:24:21,063 - INFO - fetchdata:171 - Starting FTP file fetching process for 9 files.
2025-08-24 09:24:21,064 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-24 09:24:21,277 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-24 09:24:21,278 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:24:21,278 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:22,034 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:22,035 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:24:22,035 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:22,844 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:22,844 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:24:22,844 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:23,855 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:23,855 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:24:23,855 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:24,672 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:24,672 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:24:24,672 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:25,459 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:25,460 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:24:25,460 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:26,510 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:26,510 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:24:26,510 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:27,216 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:27,217 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:24:27,217 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:28,027 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:28,027 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:24:28,028 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:28,456 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:28,457 - INFO - fetchdata:257 - FTP client closed.
2025-08-24 09:24:28,457 - INFO - fetchdata:261 - FTP file fetching process completed.
2025-08-24 09:24:28,457 - INFO - 1-get_arpege:127 - FTP transfer process initiated by fetch_remote_files completed.
2025-08-24 09:24:28,457 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:24:28,457 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:24:28,457 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:24:28,457 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:24:28,457 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:24:28,457 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:24:28,457 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:24:28,457 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:24:28,457 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:24:28,457 - INFO - 1-get_arpege:146 - Successfully verified all 9 files downloaded to '/home/aoumeur/BQRM_V01/sonelgaz/tmp'.
2025-08-24 09:24:28,458 - INFO - 1-get_arpege:149 - Attempting to run next program: 2-conv.py
2025-08-24 09:24:28,458 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:24:29,189 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-24 09:24:29,189 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:24:29,189 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:24:29,189 - INFO - 2-conv:43 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:24:29,189 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:24:29,189 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 09:24:29,189 - INFO - 2-conv:55 - Processing for date: 20250824
2025-08-24 09:24:29,189 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-24 09:24:29,190 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2. Processing this branch.
2025-08-24 09:24:29,190 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-24 09:24:29,190 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2' to 't2m00-12.grib'.
2025-08-24 09:24:29,190 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:24:29,684 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:24:29,684 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2' to 't2m12-24.grib'.
2025-08-24 09:24:29,684 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:24:30,160 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:24:30,160 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2' to 't2m24-36.grib'.
2025-08-24 09:24:30,160 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:24:30,641 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:24:30,642 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2' to 't2m36-48.grib'.
2025-08-24 09:24:30,642 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:24:31,122 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:24:31,122 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 09:24:31,122 - INFO - file_operations:127 - Starting merge of 4 files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 09:24:31,135 - INFO - file_operations:139 - Successfully merged files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 09:24:31,135 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:24:31,135 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-24 09:24:31,136 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib
2025-08-24 09:24:31,137 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib
2025-08-24 09:24:31,137 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib
2025-08-24 09:24:31,138 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib
2025-08-24 09:24:31,138 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-24 09:24:31,138 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-24 09:24:31,138 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:24:31,138 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-24 09:24:31,138 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:24:31,947 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-24 09:24:31,947 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:24:31,947 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:24:31,947 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:24:31,947 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:24:31,947 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:24:31,947 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:24:31,948 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 09:24:31,950 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 09:24:31,960 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-24 09:24:31,969 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:24:32,193 - INFO - grib_processor:113 - GRIB file '2t_20250824.grib' opened successfully.
2025-08-24 09:24:32,194 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-24 09:24:32,195 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-24 09:24:32,195 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-24 09:24:35,599 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-24 09:24:35,600 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-24 09:24:35,644 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-24 09:24:35,644 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-24 09:24:35,645 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-24 09:24:35,645 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-24 09:24:35,645 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-24 09:24:35,645 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-24 09:24:35,647 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-24 09:24:35,671 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:24:35,689 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:24:35,689 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:24:35,689 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-24 09:24:35,689 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:24:36,502 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:24:36,502 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../../bufr_data/observations
2025-08-24 09:24:36,502 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations
2025-08-24 09:24:36,503 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:24:36,503 - INFO - 4-traitement_obs:104 - Initialized DataFrame with 47 unique stations.
2025-08-24 09:24:36,503 - INFO - 4-traitement_obs:132 - Configured to process 5 time steps for observations.
2025-08-24 09:24:36,503 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508230600.bufr for key 'airTemperature'
2025-08-24 09:24:36,645 - INFO - 4-traitement_obs:160 - Merged data for t2m_06 into the main DataFrame.
2025-08-24 09:24:36,646 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231200.bufr for key 'airTemperature'
2025-08-24 09:24:36,750 - INFO - 4-traitement_obs:160 - Merged data for t2m_12 into the main DataFrame.
2025-08-24 09:24:36,751 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'airTemperature'
2025-08-24 09:24:36,853 - INFO - 4-traitement_obs:160 - Merged data for t2m_18 into the main DataFrame.
2025-08-24 09:24:36,854 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508232100.bufr for key 'airTemperature'
2025-08-24 09:24:36,882 - INFO - 4-traitement_obs:160 - Merged data for t2m_21 into the main DataFrame.
2025-08-24 09:24:36,882 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240000.bufr for key 'airTemperature'
2025-08-24 09:24:36,946 - INFO - 4-traitement_obs:160 - Merged data for t2m_24 into the main DataFrame.
2025-08-24 09:24:36,946 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-24 09:24:36,946 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-24 09:24:36,947 - INFO - 4-traitement_obs:178 - Final DataFrame head:
2025-08-24 09:24:36,950 - INFO - 4-traitement_obs:180 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    29.1    44.0    43.2     NaN    33.3
1            ANNABA    22.0    29.0    26.1     NaN    19.7
2      B-B-ARRERIDJ    17.7    32.1    29.3     NaN     NaN
3             BATNA    18.5    35.1    29.0     NaN    20.5
4            BECHAR    30.1    38.0    35.2     NaN    31.7
2025-08-24 09:24:37,018 - INFO - 4-traitement_obs:192 - DataFrame successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations/observations_20250824.csv
2025-08-24 09:24:37,018 - INFO - 4-traitement_obs:198 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-24 09:24:37,018 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:24:37,848 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-24 09:24:37,848 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:24:37,849 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:24:37,849 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:24:37,849 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-24 09:24:37,849 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-24 09:24:37,849 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-24 09:24:37,849 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/24/Synop_202508240600.bufr
2025-08-24 09:24:37,849 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/23/Synop_202508231800.bufr
2025-08-24 09:24:37,850 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-24 09:24:37,850 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 09:24:37,990 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-24 09:24:37,990 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 09:24:38,092 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 88
2025-08-24 09:24:38,092 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-24 09:24:38,092 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-24 09:24:38,096 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-24 09:24:38,098 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations
2025-08-24 09:24:38,099 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 09:24:38,099 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-24 09:24:38,099 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/6-create_tables.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:24:38,595 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:24:38,595 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/BQRM_V01/sonelgaz/outputs
2025-08-24 09:24:38,598 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:24:38,623 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-24 09:24:38,624 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-24 09:24:38,624 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-24 09:24:38,626 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 09:24:38,633 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 09:24:38,633 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-24 09:24:38,634 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 09:24:38,640 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 09:24:38,640 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-24 09:24:38,643 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-24 09:24:38,643 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-24 09:24:38,645 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-24 09:24:38,645 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-24 09:24:38,645 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-24 09:24:38,657 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-24 09:24:38,657 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 09:24:38,657 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-24 09:24:38,668 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-24 09:24:38,668 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 09:24:38,668 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-24 09:24:38,679 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-24 09:24:38,679 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 09:24:38,679 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-24 09:24:38,690 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-24 09:24:38,690 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 09:24:38,690 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-24 09:24:38,690 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-24 09:24:38,690 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/7-create_word.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:24:39,224 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-24 09:24:39,224 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:24:39,225 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:24:39,225 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:24:39,225 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:24:39,225 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:24:39,225 - INFO - 7-create_word:73 - Processed dates - Today: 24-08-2025, Tomorrow: 25-08-2025
2025-08-24 09:24:39,225 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-24 09:24:39,225 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 09:24:39,225 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 09:24:39,225 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 09:24:39,225 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 09:24:39,225 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 09:24:39,225 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:24:39,225 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-24 09:24:39,225 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 09:24:39,232 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-24 09:24:39,233 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 09:24:39,238 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-24 09:24:39,238 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 09:24:39,244 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-24 09:24:39,244 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 09:24:39,250 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-24 09:24:39,250 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-24 09:24:39,250 - INFO - 7-create_word:230 - Loading Word template...
2025-08-24 09:24:39,305 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 09:24:39,305 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-24 09:24:39,305 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-24 09:24:39,306 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 24-08-2025'.
2025-08-24 09:24:39,307 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-24 09:24:39,307 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 25-08-2025'.
2025-08-24 09:24:39,307 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-24 09:24:39,308 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-24 09:24:39,308 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-24 09:24:39,930 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-24 09:24:39,966 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-24 09:24:39,966 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-24 09:24:40,347 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-24 09:24:40,375 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-24 09:24:40,375 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-24 09:24:41,091 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-24 09:24:41,129 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-24 09:24:41,129 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-24 09:24:41,966 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-24 09:24:42,007 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-24 09:24:42,007 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-24 09:24:42,007 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:24:42,283 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:24:42,283 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_24-08-2025.docx' exists on disk at '/home/aoumeur/BQRM_V01/sonelgaz/bulletins' (size: 2962609 bytes).
2025-08-24 09:24:42,284 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/BQRM_V01/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-24 09:24:42,284 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-24 09:24:42,284 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-24 09:24:42,284 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/8-send_MSG.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:24:42,345 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:24:42,345 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-24 09:24:42,346 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-24 09:24:42,346 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:24:42,346 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 09:24:42,346 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 09:24:42,346 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:24:42,346 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:24:42,346 - DEBUG - file_operations:245 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:42,346 - WARNING - file_operations:243 - File not found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/grib_2025082400_0000. Skipping this operation.
2025-08-24 09:24:42,346 - INFO - 8-send_MSG:99 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-24 09:24:42,346 - DEBUG - file_operations:245 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:24:42,346 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:24:42,346 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 24/08/2025 Généré avec ARPEGE'
2025-08-24 09:24:42,346 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx')]
2025-08-24 09:24:42,445 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-24 09:24:42,445 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-24 09:24:42,446 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 09:24:42,446 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'. Attempting to open and attach.
2025-08-24 09:24:42,559 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 09:24:43,180 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-24 09:24:43,187 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-24 09:24:43,187 - INFO - 8-send_MSG:131 - Attempting to clean up temporary directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp
2025-08-24 09:24:43,187 - INFO - file_operations:284 - Starting cleanup of directory: /home/aoumeur/BQRM_V01/sonelgaz/tmp (Pattern: All files)
2025-08-24 09:24:43,199 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:43,211 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:43,223 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:43,233 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:43,244 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:43,256 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:43,268 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:43,279 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:43,284 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 09:24:43,287 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:24:43,287 - INFO - file_operations:301 - Finished cleanup. Successfully deleted 10 files from /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 09:24:43,287 - INFO - 8-send_MSG:140 - Successfully cleaned 10 files from /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp.
2025-08-24 09:24:43,287 - INFO - 8-send_MSG:147 - Script execution finished.
2025-08-24 09:24:43,297 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:24:43,297 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-24 09:24:43,297 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-24 09:24:43,384 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:24:43,384 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-24 09:24:43,384 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-24 09:24:43,457 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:24:43,457 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-24 09:24:43,457 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-24 09:24:43,579 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:24:43,579 - INFO - 4-traitement_obs:206 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-24 09:24:43,579 - INFO - 4-traitement_obs:215 - --- Script '4-traitement_obs.py' finished. ---
2025-08-24 09:24:43,701 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:24:43,701 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-24 09:24:43,701 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-24 09:24:43,823 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:24:43,823 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-24 09:24:43,823 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-24 09:24:43,931 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:24:43,931 - INFO - 1-get_arpege:156 - Successfully executed 2-conv.py.
2025-08-24 09:24:43,931 - INFO - 1-get_arpege:165 - --- Script '1-get_arpege.py' finished. ---
2025-08-24 09:33:32,081 - INFO - 1-get_arpege:51 - --- Script '1-get_arpege.py' started ---
2025-08-24 09:33:32,081 - INFO - 1-get_arpege:52 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:33:32,081 - INFO - 1-get_arpege:53 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:33:32,081 - INFO - 1-get_arpege:54 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:33:32,081 - INFO - 1-get_arpege:55 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:33:32,081 - INFO - 1-get_arpege:56 - Temporary directory for FTP download: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 09:33:32,081 - INFO - 1-get_arpege:57 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-24 09:33:32,081 - INFO - 1-get_arpege:60 - Ensured temporary directory exists: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 09:33:32,081 - INFO - 1-get_arpege:69 - Fetching files for date: 20250824 with pattern: *SP1*20250824000*
2025-08-24 09:33:32,081 - INFO - 1-get_arpege:72 - Checking if files exist on FTP server...
2025-08-24 09:33:32,082 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250824000*)...
2025-08-24 09:33:32,082 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-24 09:33:32,340 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-24 09:33:32,353 - INFO - fetchdata:81 - Found 9 files matching pattern '*SP1*20250824000*'.
2025-08-24 09:33:32,354 - INFO - 1-get_arpege:100 - Found 9 matching files on FTP server:
2025-08-24 09:33:32,354 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:32,354 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:32,354 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:32,354 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:32,355 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:32,355 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:32,355 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:32,355 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:32,355 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:32,356 - INFO - 1-get_arpege:115 - Proceeding with FTP download using fetch_remote_files.
2025-08-24 09:33:32,356 - INFO - 1-get_arpege:116 - Attempting to download 9 files to /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 09:33:32,356 - INFO - fetchdata:171 - Starting FTP file fetching process for 9 files.
2025-08-24 09:33:32,356 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-24 09:33:32,572 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-24 09:33:32,573 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:33:32,573 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:33,189 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:33,189 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:33:33,189 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:34,070 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:34,071 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:33:34,071 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:35,007 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:35,008 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:33:35,008 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:35,784 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:35,784 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:33:35,784 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:36,517 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:36,518 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:33:36,518 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:37,389 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:37,389 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:33:37,389 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:38,221 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:38,221 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:33:38,221 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:38,905 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:38,905 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 09:33:38,905 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:39,254 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:39,255 - INFO - fetchdata:257 - FTP client closed.
2025-08-24 09:33:39,255 - INFO - fetchdata:261 - FTP file fetching process completed.
2025-08-24 09:33:39,255 - INFO - 1-get_arpege:127 - FTP transfer process initiated by fetch_remote_files completed.
2025-08-24 09:33:39,255 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:33:39,255 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:33:39,255 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:33:39,255 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:33:39,255 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:33:39,255 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:33:39,255 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:33:39,255 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:33:39,255 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 09:33:39,255 - INFO - 1-get_arpege:146 - Successfully verified all 9 files downloaded to '/home/aoumeur/BQRM_V01/sonelgaz/tmp'.
2025-08-24 09:33:39,255 - INFO - 1-get_arpege:149 - Attempting to run next program: 2-conv.py
2025-08-24 09:33:39,255 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:33:39,981 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-24 09:33:39,981 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:33:39,981 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:33:39,981 - INFO - 2-conv:43 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:33:39,981 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:33:39,981 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 09:33:39,981 - INFO - 2-conv:55 - Processing for date: 20250824
2025-08-24 09:33:39,981 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-24 09:33:39,981 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2. Processing this branch.
2025-08-24 09:33:39,981 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-24 09:33:39,981 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2' to 't2m00-12.grib'.
2025-08-24 09:33:39,981 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:33:40,471 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:33:40,471 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2' to 't2m12-24.grib'.
2025-08-24 09:33:40,472 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:33:40,957 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:33:40,957 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2' to 't2m24-36.grib'.
2025-08-24 09:33:40,958 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:33:41,438 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:33:41,438 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2' to 't2m36-48.grib'.
2025-08-24 09:33:41,438 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:33:41,925 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 09:33:41,925 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 09:33:41,925 - INFO - file_operations:127 - Starting merge of 4 files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 09:33:41,938 - INFO - file_operations:139 - Successfully merged files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 09:33:41,938 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:33:41,938 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-24 09:33:41,939 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib
2025-08-24 09:33:41,940 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib
2025-08-24 09:33:41,940 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib
2025-08-24 09:33:41,941 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib
2025-08-24 09:33:41,941 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-24 09:33:41,941 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-24 09:33:41,941 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:33:41,942 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-24 09:33:41,942 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:33:42,758 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-24 09:33:42,758 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:33:42,758 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:33:42,758 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:33:42,758 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:33:42,758 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:33:42,758 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:33:42,759 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 09:33:42,761 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 09:33:42,771 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-24 09:33:42,779 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:33:43,005 - INFO - grib_processor:113 - GRIB file '2t_20250824.grib' opened successfully.
2025-08-24 09:33:43,005 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-24 09:33:43,005 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-24 09:33:43,005 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-24 09:33:46,437 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-24 09:33:46,437 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-24 09:33:46,482 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-24 09:33:46,482 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-24 09:33:46,482 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-24 09:33:46,482 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-24 09:33:46,483 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-24 09:33:46,483 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-24 09:33:46,484 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-24 09:33:46,508 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:33:46,513 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:33:46,513 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:33:46,513 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-24 09:33:46,513 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:33:47,319 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:33:47,319 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../../bufr_data/observations
2025-08-24 09:33:47,319 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations
2025-08-24 09:33:47,319 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:33:47,320 - INFO - 4-traitement_obs:104 - Initialized DataFrame with 47 unique stations.
2025-08-24 09:33:47,320 - INFO - 4-traitement_obs:132 - Configured to process 5 time steps for observations.
2025-08-24 09:33:47,320 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508230600.bufr for key 'airTemperature'
2025-08-24 09:33:47,460 - INFO - 4-traitement_obs:160 - Merged data for t2m_06 into the main DataFrame.
2025-08-24 09:33:47,460 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231200.bufr for key 'airTemperature'
2025-08-24 09:33:47,561 - INFO - 4-traitement_obs:160 - Merged data for t2m_12 into the main DataFrame.
2025-08-24 09:33:47,562 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'airTemperature'
2025-08-24 09:33:47,664 - INFO - 4-traitement_obs:160 - Merged data for t2m_18 into the main DataFrame.
2025-08-24 09:33:47,664 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508232100.bufr for key 'airTemperature'
2025-08-24 09:33:47,692 - INFO - 4-traitement_obs:160 - Merged data for t2m_21 into the main DataFrame.
2025-08-24 09:33:47,692 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240000.bufr for key 'airTemperature'
2025-08-24 09:33:47,756 - INFO - 4-traitement_obs:160 - Merged data for t2m_24 into the main DataFrame.
2025-08-24 09:33:47,756 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-24 09:33:47,756 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-24 09:33:47,756 - INFO - 4-traitement_obs:178 - Final DataFrame head:
2025-08-24 09:33:47,759 - INFO - 4-traitement_obs:180 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    29.1    44.0    43.2     NaN    33.3
1            ANNABA    22.0    29.0    26.1     NaN    19.7
2      B-B-ARRERIDJ    17.7    32.1    29.3     NaN     NaN
3             BATNA    18.5    35.1    29.0     NaN    20.5
4            BECHAR    30.1    38.0    35.2     NaN    31.7
2025-08-24 09:33:47,761 - INFO - 4-traitement_obs:192 - DataFrame successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations/observations_20250824.csv
2025-08-24 09:33:47,761 - INFO - 4-traitement_obs:198 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-24 09:33:47,761 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:33:48,568 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-24 09:33:48,568 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:33:48,568 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:33:48,569 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:33:48,569 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-24 09:33:48,569 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-24 09:33:48,569 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-24 09:33:48,569 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/24/Synop_202508240600.bufr
2025-08-24 09:33:48,569 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/23/Synop_202508231800.bufr
2025-08-24 09:33:48,570 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-24 09:33:48,570 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 09:33:48,710 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-24 09:33:48,710 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 09:33:48,811 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 88
2025-08-24 09:33:48,812 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-24 09:33:48,812 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-24 09:33:48,815 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-24 09:33:48,817 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations
2025-08-24 09:33:48,818 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 09:33:48,819 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-24 09:33:48,819 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/6-create_tables.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:33:49,317 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:33:49,318 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/BQRM_V01/sonelgaz/outputs
2025-08-24 09:33:49,320 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 09:33:49,346 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-24 09:33:49,347 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-24 09:33:49,347 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-24 09:33:49,349 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 09:33:49,357 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 09:33:49,357 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-24 09:33:49,358 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 09:33:49,363 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 09:33:49,363 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-24 09:33:49,367 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-24 09:33:49,367 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-24 09:33:49,368 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-24 09:33:49,369 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-24 09:33:49,369 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-24 09:33:49,381 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-24 09:33:49,381 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 09:33:49,381 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-24 09:33:49,391 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-24 09:33:49,392 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 09:33:49,392 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-24 09:33:49,403 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-24 09:33:49,403 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 09:33:49,403 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-24 09:33:49,414 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-24 09:33:49,415 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 09:33:49,415 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-24 09:33:49,415 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-24 09:33:49,415 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/7-create_word.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:33:49,946 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-24 09:33:49,947 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:33:49,947 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:33:49,947 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:33:49,947 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:33:49,947 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:33:49,947 - INFO - 7-create_word:73 - Processed dates - Today: 24-08-2025, Tomorrow: 25-08-2025
2025-08-24 09:33:49,947 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-24 09:33:49,947 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 09:33:49,947 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 09:33:49,947 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 09:33:49,947 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 09:33:49,947 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 09:33:49,947 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:33:49,947 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-24 09:33:49,948 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 09:33:49,955 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-24 09:33:49,955 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 09:33:49,960 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-24 09:33:49,960 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 09:33:49,966 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-24 09:33:49,966 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 09:33:49,972 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-24 09:33:49,972 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-24 09:33:49,972 - INFO - 7-create_word:230 - Loading Word template...
2025-08-24 09:33:50,027 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 09:33:50,027 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-24 09:33:50,027 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-24 09:33:50,028 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 24-08-2025'.
2025-08-24 09:33:50,029 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-24 09:33:50,029 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 25-08-2025'.
2025-08-24 09:33:50,030 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-24 09:33:50,030 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-24 09:33:50,030 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-24 09:33:50,657 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-24 09:33:50,693 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-24 09:33:50,693 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-24 09:33:51,079 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-24 09:33:51,107 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-24 09:33:51,107 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-24 09:33:51,829 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-24 09:33:51,867 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-24 09:33:51,867 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-24 09:33:52,704 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-24 09:33:52,746 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-24 09:33:52,746 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-24 09:33:52,746 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:33:53,023 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:33:53,023 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_24-08-2025.docx' exists on disk at '/home/aoumeur/BQRM_V01/sonelgaz/bulletins' (size: 2962609 bytes).
2025-08-24 09:33:53,023 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/BQRM_V01/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-24 09:33:53,023 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-24 09:33:53,023 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-24 09:33:53,023 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/8-send_MSG.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 09:33:53,084 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:33:53,084 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-24 09:33:53,084 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-24 09:33:53,085 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:33:53,085 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 09:33:53,085 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 09:33:53,085 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:33:53,085 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:33:53,085 - DEBUG - file_operations:245 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:53,085 - WARNING - file_operations:243 - File not found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/grib_2025082400_0000. Skipping this operation.
2025-08-24 09:33:53,085 - INFO - 8-send_MSG:99 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-24 09:33:53,085 - DEBUG - file_operations:245 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:33:53,085 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 09:33:53,085 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 24/08/2025 Généré avec ARPEGE'
2025-08-24 09:33:53,085 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx')]
2025-08-24 09:33:53,173 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-24 09:33:53,174 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-24 09:33:53,174 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 09:33:53,174 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'. Attempting to open and attach.
2025-08-24 09:33:53,288 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 09:33:53,641 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-24 09:33:53,648 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-24 09:33:53,648 - INFO - 8-send_MSG:131 - Attempting to clean up temporary directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp
2025-08-24 09:33:53,649 - INFO - file_operations:284 - Starting cleanup of directory: /home/aoumeur/BQRM_V01/sonelgaz/tmp (Pattern: All files)
2025-08-24 09:33:53,680 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:53,696 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:53,710 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:53,724 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:53,737 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:53,751 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:53,765 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:53,778 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:53,785 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 09:33:53,787 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 09:33:53,788 - INFO - file_operations:301 - Finished cleanup. Successfully deleted 10 files from /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 09:33:53,788 - INFO - 8-send_MSG:140 - Successfully cleaned 10 files from /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp.
2025-08-24 09:33:53,788 - INFO - 8-send_MSG:147 - Script execution finished.
2025-08-24 09:33:53,798 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:33:53,798 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-24 09:33:53,798 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-24 09:33:53,886 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:33:53,886 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-24 09:33:53,886 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-24 09:33:53,959 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:33:53,959 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-24 09:33:53,959 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-24 09:33:54,079 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:33:54,079 - INFO - 4-traitement_obs:206 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-24 09:33:54,079 - INFO - 4-traitement_obs:215 - --- Script '4-traitement_obs.py' finished. ---
2025-08-24 09:33:54,199 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:33:54,199 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-24 09:33:54,199 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-24 09:33:54,321 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:33:54,322 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-24 09:33:54,322 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-24 09:33:54,425 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 09:33:54,425 - INFO - 1-get_arpege:156 - Successfully executed 2-conv.py.
2025-08-24 09:33:54,425 - INFO - 1-get_arpege:165 - --- Script '1-get_arpege.py' finished. ---
2025-08-24 09:45:33,036 - INFO - 1-get-aladin:33 - --- Script 'sonelgaz' execution started. ---
2025-08-24 09:45:33,036 - INFO - 1-get-aladin:34 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 09:45:33,036 - INFO - 1-get-aladin:35 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:45:33,036 - INFO - 1-get-aladin:36 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:45:33,036 - INFO - 1-get-aladin:37 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 09:45:33,036 - INFO - 1-get-aladin:41 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 09:45:33,036 - INFO - 1-get-aladin:60 - Configuration loaded directly from script variables (for ALADIN data).
2025-08-24 09:45:33,036 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 09:45:33,036 - INFO - 1-get-aladin:126 - --- Main script execution started ---
2025-08-24 09:45:33,037 - INFO - 1-get-aladin:80 - Preparing ALADIN file list for date 2025-08-24 with resolution 00.
2025-08-24 09:45:33,037 - INFO - 1-get-aladin:106 - Prepared 49 files for download.
2025-08-24 09:45:33,037 - INFO - fetchdata:171 - Starting SFTP file fetching process for 49 files.
2025-08-24 09:45:33,037 - INFO - fetchdata:33 - Attempting to create SFTP client for login2.fennec.meteo.dz:22 with user wchikhi.
2025-08-24 09:45:43,050 - ERROR - fetchdata:42 - Failed to connect to SFTP server login2.fennec.meteo.dz. Error: [Errno -3] Temporary failure in name resolution
2025-08-24 09:45:43,050 - ERROR - fetchdata:247 - An error occurred during SFTP transfer process: Failed to connect to SFTP server login2.fennec.meteo.dz. Error: [Errno -3] Temporary failure in name resolution
2025-08-24 09:45:43,050 - WARNING - fetchdata:259 - SFTP client was not initialized or could not be closed.
2025-08-24 09:45:43,050 - ERROR - 1-get-aladin:120 - Failed to fetch ALADIN files for 2025-08-24: Failed to connect to SFTP server login2.fennec.meteo.dz. Error: [Errno -3] Temporary failure in name resolution
2025-08-24 09:45:43,051 - CRITICAL - 1-get-aladin:148 - An unexpected error occurred in the main script flow: Failed to connect to SFTP server login2.fennec.meteo.dz. Error: [Errno -3] Temporary failure in name resolution
2025-08-24 09:45:43,051 - ERROR - 1-get-aladin:149 - Full traceback for main script flow error:
Traceback (most recent call last):
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/fetchdata.py", line 37, in create_sftp_client
    ssh_client.connect(host, port, username, password)
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 340, in connect
    to_try = list(self._families_and_addresses(hostname, port))
  File "/usr/lib/python3/dist-packages/paramiko/client.py", line 203, in _families_and_addresses
    addrinfos = socket.getaddrinfo(
  File "/usr/lib/python3.10/socket.py", line 967, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
socket.gaierror: [Errno -3] Temporary failure in name resolution

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/aoumeur/BQRM_V01/sonelgaz/scr/1-get-aladin.py", line 131, in <module>
    fetch_aladin_files(config, AA_today, MM_today, DD_today, RES="00")
  File "/home/aoumeur/BQRM_V01/sonelgaz/scr/1-get-aladin.py", line 109, in fetch_aladin_files
    pytaps_fetch_remote_files(
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/fetchdata.py", line 178, in fetch_remote_files
    client_or_tuple = create_remote_client(protocol, host, username, password, port, current_logger)
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/fetchdata.py", line 135, in create_remote_client
    return create_sftp_client(host, username, password, actual_port, current_logger)
  File "/home/aoumeur/Téléchargements/PyTAP-main/src/pytaps/fetchdata.py", line 46, in create_sftp_client
    raise ConnectionError(f"Failed to connect to SFTP server {host}. Error: {e}")
ConnectionError: Failed to connect to SFTP server login2.fennec.meteo.dz. Error: [Errno -3] Temporary failure in name resolution
2025-08-24 10:03:01,633 - INFO - 1-get-aladin:33 - --- Script 'sonelgaz' execution started. ---
2025-08-24 10:03:01,633 - INFO - 1-get-aladin:34 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 10:03:01,633 - INFO - 1-get-aladin:35 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 10:03:01,633 - INFO - 1-get-aladin:36 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 10:03:01,633 - INFO - 1-get-aladin:37 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 10:03:01,633 - INFO - 1-get-aladin:41 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 10:03:01,633 - INFO - 1-get-aladin:60 - Configuration loaded directly from script variables (for ALADIN data).
2025-08-24 10:03:01,633 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 10:03:01,633 - INFO - 1-get-aladin:126 - --- Main script execution started ---
2025-08-24 10:03:01,633 - INFO - 1-get-aladin:80 - Preparing ALADIN file list for date 2025-08-24 with resolution 00.
2025-08-24 10:03:01,634 - INFO - 1-get-aladin:106 - Prepared 49 files for download.
2025-08-24 10:03:01,634 - INFO - fetchdata:171 - Starting SFTP file fetching process for 49 files.
2025-08-24 10:03:01,634 - INFO - fetchdata:33 - Attempting to create SFTP client for login2.fennec.meteo.dz:22 with user wchikhi.
2025-08-24 10:03:01,655 - INFO - transport:1844 - Connected (version 2.0, client OpenSSH_8.0)
2025-08-24 10:03:01,745 - INFO - transport:1844 - Authentication (password) successful!
2025-08-24 10:03:06,072 - INFO - sftp:158 - [chan 0] Opened sftp connection (server version 3)
2025-08-24 10:03:06,073 - INFO - fetchdata:39 - Successfully connected to SFTP server: login2.fennec.meteo.dz
2025-08-24 10:03:06,073 - INFO - fetchdata:227 - Local file grib_2025082400_0000 is missing. Downloading.
2025-08-24 10:03:06,073 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0000 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0000
2025-08-24 10:03:06,296 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0000
2025-08-24 10:03:06,296 - INFO - fetchdata:227 - Local file grib_2025082400_0001 is missing. Downloading.
2025-08-24 10:03:06,296 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0001 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0001
2025-08-24 10:03:06,459 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0001
2025-08-24 10:03:06,459 - INFO - fetchdata:227 - Local file grib_2025082400_0002 is missing. Downloading.
2025-08-24 10:03:06,459 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0002 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0002
2025-08-24 10:03:06,602 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0002
2025-08-24 10:03:06,602 - INFO - fetchdata:227 - Local file grib_2025082400_0003 is missing. Downloading.
2025-08-24 10:03:06,602 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0003 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0003
2025-08-24 10:03:06,748 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0003
2025-08-24 10:03:06,748 - INFO - fetchdata:227 - Local file grib_2025082400_0004 is missing. Downloading.
2025-08-24 10:03:06,748 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0004 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0004
2025-08-24 10:03:06,888 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0004
2025-08-24 10:03:06,888 - INFO - fetchdata:227 - Local file grib_2025082400_0005 is missing. Downloading.
2025-08-24 10:03:06,889 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0005 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0005
2025-08-24 10:03:07,131 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0005
2025-08-24 10:03:07,131 - INFO - fetchdata:227 - Local file grib_2025082400_0006 is missing. Downloading.
2025-08-24 10:03:07,131 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0006 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0006
2025-08-24 10:03:07,299 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0006
2025-08-24 10:03:07,300 - INFO - fetchdata:227 - Local file grib_2025082400_0007 is missing. Downloading.
2025-08-24 10:03:07,300 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0007 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0007
2025-08-24 10:03:07,540 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0007
2025-08-24 10:03:07,540 - INFO - fetchdata:227 - Local file grib_2025082400_0008 is missing. Downloading.
2025-08-24 10:03:07,540 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0008 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0008
2025-08-24 10:03:07,681 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0008
2025-08-24 10:03:07,681 - INFO - fetchdata:227 - Local file grib_2025082400_0009 is missing. Downloading.
2025-08-24 10:03:07,681 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0009 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0009
2025-08-24 10:03:07,828 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0009
2025-08-24 10:03:07,828 - INFO - fetchdata:227 - Local file grib_2025082400_0010 is missing. Downloading.
2025-08-24 10:03:07,828 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0010 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0010
2025-08-24 10:03:07,991 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0010
2025-08-24 10:03:07,991 - INFO - fetchdata:227 - Local file grib_2025082400_0011 is missing. Downloading.
2025-08-24 10:03:07,991 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0011 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0011
2025-08-24 10:03:08,133 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0011
2025-08-24 10:03:08,133 - INFO - fetchdata:227 - Local file grib_2025082400_0012 is missing. Downloading.
2025-08-24 10:03:08,133 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0012 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0012
2025-08-24 10:03:08,300 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0012
2025-08-24 10:03:08,300 - INFO - fetchdata:227 - Local file grib_2025082400_0013 is missing. Downloading.
2025-08-24 10:03:08,300 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0013 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0013
2025-08-24 10:03:08,464 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0013
2025-08-24 10:03:08,464 - INFO - fetchdata:227 - Local file grib_2025082400_0014 is missing. Downloading.
2025-08-24 10:03:08,464 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0014 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0014
2025-08-24 10:03:08,632 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0014
2025-08-24 10:03:08,632 - INFO - fetchdata:227 - Local file grib_2025082400_0015 is missing. Downloading.
2025-08-24 10:03:08,632 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0015 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0015
2025-08-24 10:03:08,771 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0015
2025-08-24 10:03:08,771 - INFO - fetchdata:227 - Local file grib_2025082400_0016 is missing. Downloading.
2025-08-24 10:03:08,771 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0016 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0016
2025-08-24 10:03:08,920 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0016
2025-08-24 10:03:08,920 - INFO - fetchdata:227 - Local file grib_2025082400_0017 is missing. Downloading.
2025-08-24 10:03:08,920 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0017 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0017
2025-08-24 10:03:09,082 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0017
2025-08-24 10:03:09,082 - INFO - fetchdata:227 - Local file grib_2025082400_0018 is missing. Downloading.
2025-08-24 10:03:09,082 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0018 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0018
2025-08-24 10:03:09,252 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0018
2025-08-24 10:03:09,252 - INFO - fetchdata:227 - Local file grib_2025082400_0019 is missing. Downloading.
2025-08-24 10:03:09,252 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0019 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0019
2025-08-24 10:03:09,395 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0019
2025-08-24 10:03:09,395 - INFO - fetchdata:227 - Local file grib_2025082400_0020 is missing. Downloading.
2025-08-24 10:03:09,396 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0020 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0020
2025-08-24 10:03:09,589 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0020
2025-08-24 10:03:09,590 - INFO - fetchdata:227 - Local file grib_2025082400_0021 is missing. Downloading.
2025-08-24 10:03:09,590 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0021 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0021
2025-08-24 10:03:09,731 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0021
2025-08-24 10:03:09,731 - INFO - fetchdata:227 - Local file grib_2025082400_0022 is missing. Downloading.
2025-08-24 10:03:09,732 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0022 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0022
2025-08-24 10:03:09,937 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0022
2025-08-24 10:03:09,937 - INFO - fetchdata:227 - Local file grib_2025082400_0023 is missing. Downloading.
2025-08-24 10:03:09,937 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0023 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0023
2025-08-24 10:03:10,097 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0023
2025-08-24 10:03:10,097 - INFO - fetchdata:227 - Local file grib_2025082400_0024 is missing. Downloading.
2025-08-24 10:03:10,097 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0024 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0024
2025-08-24 10:03:10,270 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0024
2025-08-24 10:03:10,270 - INFO - fetchdata:227 - Local file grib_2025082400_0025 is missing. Downloading.
2025-08-24 10:03:10,270 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0025 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0025
2025-08-24 10:03:10,412 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0025
2025-08-24 10:03:10,412 - INFO - fetchdata:227 - Local file grib_2025082400_0026 is missing. Downloading.
2025-08-24 10:03:10,412 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0026 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0026
2025-08-24 10:03:10,571 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0026
2025-08-24 10:03:10,571 - INFO - fetchdata:227 - Local file grib_2025082400_0027 is missing. Downloading.
2025-08-24 10:03:10,571 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0027 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0027
2025-08-24 10:03:10,723 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0027
2025-08-24 10:03:10,724 - INFO - fetchdata:227 - Local file grib_2025082400_0028 is missing. Downloading.
2025-08-24 10:03:10,724 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0028 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0028
2025-08-24 10:03:10,911 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0028
2025-08-24 10:03:10,912 - INFO - fetchdata:227 - Local file grib_2025082400_0029 is missing. Downloading.
2025-08-24 10:03:10,912 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0029 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0029
2025-08-24 10:03:11,079 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0029
2025-08-24 10:03:11,079 - INFO - fetchdata:227 - Local file grib_2025082400_0030 is missing. Downloading.
2025-08-24 10:03:11,080 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0030 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0030
2025-08-24 10:03:11,238 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0030
2025-08-24 10:03:11,238 - INFO - fetchdata:227 - Local file grib_2025082400_0031 is missing. Downloading.
2025-08-24 10:03:11,238 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0031 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0031
2025-08-24 10:03:11,381 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0031
2025-08-24 10:03:11,381 - INFO - fetchdata:227 - Local file grib_2025082400_0032 is missing. Downloading.
2025-08-24 10:03:11,382 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0032 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0032
2025-08-24 10:03:11,528 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0032
2025-08-24 10:03:11,528 - INFO - fetchdata:227 - Local file grib_2025082400_0033 is missing. Downloading.
2025-08-24 10:03:11,528 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0033 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0033
2025-08-24 10:03:11,675 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0033
2025-08-24 10:03:11,676 - INFO - fetchdata:227 - Local file grib_2025082400_0034 is missing. Downloading.
2025-08-24 10:03:11,676 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0034 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0034
2025-08-24 10:03:11,894 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0034
2025-08-24 10:03:11,894 - INFO - fetchdata:227 - Local file grib_2025082400_0035 is missing. Downloading.
2025-08-24 10:03:11,894 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0035 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0035
2025-08-24 10:03:12,034 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0035
2025-08-24 10:03:12,034 - INFO - fetchdata:227 - Local file grib_2025082400_0036 is missing. Downloading.
2025-08-24 10:03:12,034 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0036 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0036
2025-08-24 10:03:39,336 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0036
2025-08-24 10:03:39,337 - INFO - fetchdata:227 - Local file grib_2025082400_0037 is missing. Downloading.
2025-08-24 10:03:39,337 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0037 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0037
2025-08-24 10:03:40,154 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0037
2025-08-24 10:03:40,154 - INFO - fetchdata:227 - Local file grib_2025082400_0038 is missing. Downloading.
2025-08-24 10:03:40,155 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0038 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0038
2025-08-24 10:03:40,957 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0038
2025-08-24 10:03:40,957 - INFO - fetchdata:227 - Local file grib_2025082400_0039 is missing. Downloading.
2025-08-24 10:03:40,957 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0039 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0039
2025-08-24 10:03:41,772 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0039
2025-08-24 10:03:41,773 - INFO - fetchdata:227 - Local file grib_2025082400_0040 is missing. Downloading.
2025-08-24 10:03:41,773 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0040 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0040
2025-08-24 10:03:42,594 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0040
2025-08-24 10:03:42,595 - INFO - fetchdata:227 - Local file grib_2025082400_0041 is missing. Downloading.
2025-08-24 10:03:42,595 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0041 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0041
2025-08-24 10:03:43,418 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0041
2025-08-24 10:03:43,418 - INFO - fetchdata:227 - Local file grib_2025082400_0042 is missing. Downloading.
2025-08-24 10:03:43,418 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0042 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0042
2025-08-24 10:03:44,234 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0042
2025-08-24 10:03:44,234 - INFO - fetchdata:227 - Local file grib_2025082400_0043 is missing. Downloading.
2025-08-24 10:03:44,234 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0043 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0043
2025-08-24 10:03:45,060 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0043
2025-08-24 10:03:45,060 - INFO - fetchdata:227 - Local file grib_2025082400_0044 is missing. Downloading.
2025-08-24 10:03:45,061 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0044 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0044
2025-08-24 10:03:45,891 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0044
2025-08-24 10:03:45,892 - INFO - fetchdata:227 - Local file grib_2025082400_0045 is missing. Downloading.
2025-08-24 10:03:45,892 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0045 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0045
2025-08-24 10:03:46,721 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0045
2025-08-24 10:03:46,722 - INFO - fetchdata:227 - Local file grib_2025082400_0046 is missing. Downloading.
2025-08-24 10:03:46,722 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0046 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0046
2025-08-24 10:03:47,541 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0046
2025-08-24 10:03:47,541 - INFO - fetchdata:227 - Local file grib_2025082400_0047 is missing. Downloading.
2025-08-24 10:03:47,542 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0047 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0047
2025-08-24 10:03:48,353 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0047
2025-08-24 10:03:48,353 - INFO - fetchdata:227 - Local file grib_2025082400_0048 is missing. Downloading.
2025-08-24 10:03:48,353 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0048 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0048
2025-08-24 10:03:49,171 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0048
2025-08-24 10:03:49,171 - INFO - fetchdata:254 - SFTP SSH client closed.
2025-08-24 10:03:49,172 - INFO - fetchdata:261 - SFTP file fetching process completed.
2025-08-24 10:03:49,172 - INFO - 1-get-aladin:118 - ALADIN file fetching process completed for 2025-08-24.
2025-08-24 10:03:49,172 - INFO - 1-get-aladin:134 - Attempting to run next program: 2-conv.py
2025-08-24 10:03:49,172 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:49,993 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-24 10:03:49,993 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 10:03:49,993 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 10:03:49,993 - INFO - 2-conv:43 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 10:03:49,993 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 10:03:49,993 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 10:03:49,993 - INFO - 2-conv:55 - Processing for date: 20250824
2025-08-24 10:03:49,993 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-24 10:03:49,993 - INFO - 2-conv:96 - Primary ARPEGE file not found. Found alternative GRIB file: grib_2025082400_0000. Processing this branch.
2025-08-24 10:03:49,993 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-24 10:03:49,994 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0000' to 't2m00.grib'.
2025-08-24 10:03:49,994 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0000 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:50,070 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:50,070 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0001' to 't2m01.grib'.
2025-08-24 10:03:50,070 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0001 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m01.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:50,146 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:50,146 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0002' to 't2m02.grib'.
2025-08-24 10:03:50,146 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0002 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m02.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:50,224 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:50,224 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0003' to 't2m03.grib'.
2025-08-24 10:03:50,224 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0003 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m03.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:50,301 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:50,301 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0004' to 't2m04.grib'.
2025-08-24 10:03:50,301 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0004 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m04.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:50,377 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:50,377 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0005' to 't2m05.grib'.
2025-08-24 10:03:50,377 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0005 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m05.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:50,456 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:50,456 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0006' to 't2m06.grib'.
2025-08-24 10:03:50,456 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0006 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m06.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:50,536 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:50,537 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0007' to 't2m07.grib'.
2025-08-24 10:03:50,537 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0007 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m07.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:50,612 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:50,613 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0008' to 't2m08.grib'.
2025-08-24 10:03:50,613 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0008 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m08.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:50,688 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:50,689 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0009' to 't2m09.grib'.
2025-08-24 10:03:50,689 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0009 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m09.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:50,764 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:50,764 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0010' to 't2m10.grib'.
2025-08-24 10:03:50,764 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0010 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m10.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:50,843 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:50,843 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0011' to 't2m11.grib'.
2025-08-24 10:03:50,843 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0011 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m11.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:50,919 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:50,919 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0012' to 't2m12.grib'.
2025-08-24 10:03:50,919 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0012 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:50,998 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:50,998 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0013' to 't2m13.grib'.
2025-08-24 10:03:50,998 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0013 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m13.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:51,073 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:51,073 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0014' to 't2m14.grib'.
2025-08-24 10:03:51,073 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0014 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m14.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:51,149 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:51,149 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0015' to 't2m15.grib'.
2025-08-24 10:03:51,149 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0015 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m15.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:51,225 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:51,225 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0016' to 't2m16.grib'.
2025-08-24 10:03:51,225 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0016 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m16.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:51,300 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:51,300 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0017' to 't2m17.grib'.
2025-08-24 10:03:51,300 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0017 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m17.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:51,376 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:51,376 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0018' to 't2m18.grib'.
2025-08-24 10:03:51,376 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0018 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m18.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:51,454 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:51,454 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0019' to 't2m19.grib'.
2025-08-24 10:03:51,454 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0019 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m19.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:51,530 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:51,530 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0020' to 't2m20.grib'.
2025-08-24 10:03:51,530 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0020 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m20.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:51,606 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:51,606 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0021' to 't2m21.grib'.
2025-08-24 10:03:51,606 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0021 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m21.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:51,681 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:51,682 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0022' to 't2m22.grib'.
2025-08-24 10:03:51,682 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0022 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m22.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:51,757 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:51,758 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0023' to 't2m23.grib'.
2025-08-24 10:03:51,758 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0023 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m23.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:51,836 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:51,836 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0024' to 't2m24.grib'.
2025-08-24 10:03:51,836 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0024 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:51,913 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:51,913 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0025' to 't2m25.grib'.
2025-08-24 10:03:51,913 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0025 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m25.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:51,990 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:51,991 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0026' to 't2m26.grib'.
2025-08-24 10:03:51,991 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0026 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m26.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:52,067 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:52,067 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0027' to 't2m27.grib'.
2025-08-24 10:03:52,067 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0027 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m27.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:52,145 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:52,145 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0028' to 't2m28.grib'.
2025-08-24 10:03:52,145 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0028 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m28.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:52,225 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:52,225 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0029' to 't2m29.grib'.
2025-08-24 10:03:52,225 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0029 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m29.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:52,303 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:52,303 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0030' to 't2m30.grib'.
2025-08-24 10:03:52,303 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0030 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m30.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:52,381 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:52,381 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0031' to 't2m31.grib'.
2025-08-24 10:03:52,381 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0031 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m31.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:52,457 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:52,457 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0032' to 't2m32.grib'.
2025-08-24 10:03:52,457 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0032 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m32.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:52,533 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:52,533 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0033' to 't2m33.grib'.
2025-08-24 10:03:52,533 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0033 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m33.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:52,609 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:52,609 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0034' to 't2m34.grib'.
2025-08-24 10:03:52,609 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0034 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m34.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:52,687 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:52,687 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0035' to 't2m35.grib'.
2025-08-24 10:03:52,687 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0035 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m35.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:52,763 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:52,763 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0036' to 't2m36.grib'.
2025-08-24 10:03:52,763 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0036 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:52,843 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:52,843 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0037' to 't2m37.grib'.
2025-08-24 10:03:52,843 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0037 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m37.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:52,919 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:52,919 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0038' to 't2m38.grib'.
2025-08-24 10:03:52,920 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0038 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m38.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:52,995 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:52,995 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0039' to 't2m39.grib'.
2025-08-24 10:03:52,995 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0039 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m39.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:53,071 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:53,071 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0040' to 't2m40.grib'.
2025-08-24 10:03:53,071 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0040 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m40.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:53,146 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:53,147 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0041' to 't2m41.grib'.
2025-08-24 10:03:53,147 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0041 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m41.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:53,225 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:53,225 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0042' to 't2m42.grib'.
2025-08-24 10:03:53,225 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0042 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m42.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:53,304 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:53,304 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0043' to 't2m43.grib'.
2025-08-24 10:03:53,304 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0043 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m43.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:53,380 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:53,381 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0044' to 't2m44.grib'.
2025-08-24 10:03:53,381 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0044 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m44.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:53,459 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:53,459 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0045' to 't2m45.grib'.
2025-08-24 10:03:53,459 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0045 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m45.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:53,536 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:53,536 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0046' to 't2m46.grib'.
2025-08-24 10:03:53,536 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0046 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m46.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:53,612 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:53,612 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0047' to 't2m47.grib'.
2025-08-24 10:03:53,612 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0047 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m47.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:53,687 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:53,687 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0048' to 't2m48.grib'.
2025-08-24 10:03:53,687 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0048 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m48.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:53,766 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 10:03:53,767 - INFO - grib_processor:69 - Merging 49 extracted GRIB files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 10:03:53,767 - INFO - file_operations:127 - Starting merge of 49 files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 10:03:53,772 - INFO - file_operations:139 - Successfully merged files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 10:03:53,772 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 10:03:53,772 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-24 10:03:53,772 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00.grib
2025-08-24 10:03:53,773 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m01.grib
2025-08-24 10:03:53,773 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m02.grib
2025-08-24 10:03:53,773 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m03.grib
2025-08-24 10:03:53,773 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m04.grib
2025-08-24 10:03:53,773 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m05.grib
2025-08-24 10:03:53,773 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m06.grib
2025-08-24 10:03:53,773 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m07.grib
2025-08-24 10:03:53,773 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m08.grib
2025-08-24 10:03:53,774 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m09.grib
2025-08-24 10:03:53,774 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m10.grib
2025-08-24 10:03:53,774 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m11.grib
2025-08-24 10:03:53,774 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12.grib
2025-08-24 10:03:53,774 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m13.grib
2025-08-24 10:03:53,774 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m14.grib
2025-08-24 10:03:53,774 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m15.grib
2025-08-24 10:03:53,774 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m16.grib
2025-08-24 10:03:53,774 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m17.grib
2025-08-24 10:03:53,775 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m18.grib
2025-08-24 10:03:53,775 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m19.grib
2025-08-24 10:03:53,775 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m20.grib
2025-08-24 10:03:53,775 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m21.grib
2025-08-24 10:03:53,775 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m22.grib
2025-08-24 10:03:53,775 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m23.grib
2025-08-24 10:03:53,775 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24.grib
2025-08-24 10:03:53,775 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m25.grib
2025-08-24 10:03:53,775 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m26.grib
2025-08-24 10:03:53,776 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m27.grib
2025-08-24 10:03:53,776 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m28.grib
2025-08-24 10:03:53,776 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m29.grib
2025-08-24 10:03:53,776 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m30.grib
2025-08-24 10:03:53,776 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m31.grib
2025-08-24 10:03:53,776 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m32.grib
2025-08-24 10:03:53,776 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m33.grib
2025-08-24 10:03:53,776 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m34.grib
2025-08-24 10:03:53,776 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m35.grib
2025-08-24 10:03:53,777 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36.grib
2025-08-24 10:03:53,777 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m37.grib
2025-08-24 10:03:53,777 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m38.grib
2025-08-24 10:03:53,777 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m39.grib
2025-08-24 10:03:53,777 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m40.grib
2025-08-24 10:03:53,777 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m41.grib
2025-08-24 10:03:53,777 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m42.grib
2025-08-24 10:03:53,777 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m43.grib
2025-08-24 10:03:53,778 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m44.grib
2025-08-24 10:03:53,778 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m45.grib
2025-08-24 10:03:53,778 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m46.grib
2025-08-24 10:03:53,778 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m47.grib
2025-08-24 10:03:53,778 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m48.grib
2025-08-24 10:03:53,778 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-24 10:03:53,778 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-24 10:03:53,778 - INFO - 2-conv:118 - Alternative GRIB processing completed successfully. Final file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 10:03:53,778 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-24 10:03:53,778 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:54,597 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-24 10:03:54,597 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 10:03:54,597 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 10:03:54,597 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 10:03:54,598 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 10:03:54,598 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 10:03:54,598 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 10:03:54,599 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 10:03:54,601 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 10:03:54,611 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-24 10:03:54,619 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 10:03:54,815 - INFO - grib_processor:113 - GRIB file '2t_20250824.grib' opened successfully.
2025-08-24 10:03:54,815 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-24 10:03:54,815 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-24 10:03:54,815 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-24 10:03:57,726 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-24 10:03:57,727 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-24 10:03:57,753 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-24 10:03:57,753 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-24 10:03:57,753 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-24 10:03:57,753 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-24 10:03:57,753 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-24 10:03:57,754 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-24 10:03:57,755 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-24 10:03:57,779 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 10:03:57,784 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 10:03:57,784 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 10:03:57,784 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-24 10:03:57,784 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:58,607 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 10:03:58,608 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../../bufr_data/observations
2025-08-24 10:03:58,608 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations
2025-08-24 10:03:58,608 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 10:03:58,608 - INFO - 4-traitement_obs:104 - Initialized DataFrame with 47 unique stations.
2025-08-24 10:03:58,609 - INFO - 4-traitement_obs:132 - Configured to process 5 time steps for observations.
2025-08-24 10:03:58,609 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508230600.bufr for key 'airTemperature'
2025-08-24 10:03:58,762 - INFO - 4-traitement_obs:160 - Merged data for t2m_06 into the main DataFrame.
2025-08-24 10:03:58,763 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231200.bufr for key 'airTemperature'
2025-08-24 10:03:58,870 - INFO - 4-traitement_obs:160 - Merged data for t2m_12 into the main DataFrame.
2025-08-24 10:03:58,871 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'airTemperature'
2025-08-24 10:03:58,981 - INFO - 4-traitement_obs:160 - Merged data for t2m_18 into the main DataFrame.
2025-08-24 10:03:58,981 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508232100.bufr for key 'airTemperature'
2025-08-24 10:03:59,010 - INFO - 4-traitement_obs:160 - Merged data for t2m_21 into the main DataFrame.
2025-08-24 10:03:59,010 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240000.bufr for key 'airTemperature'
2025-08-24 10:03:59,074 - INFO - 4-traitement_obs:160 - Merged data for t2m_24 into the main DataFrame.
2025-08-24 10:03:59,074 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-24 10:03:59,075 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-24 10:03:59,075 - INFO - 4-traitement_obs:178 - Final DataFrame head:
2025-08-24 10:03:59,078 - INFO - 4-traitement_obs:180 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    29.1    44.0    43.2     NaN    33.3
1            ANNABA    22.0    29.0    26.1     NaN    19.7
2      B-B-ARRERIDJ    17.7    32.1    29.3     NaN     NaN
3             BATNA    18.5    35.1    29.0     NaN    20.5
4            BECHAR    30.1    38.0    35.2     NaN    31.7
2025-08-24 10:03:59,080 - INFO - 4-traitement_obs:192 - DataFrame successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations/observations_20250824.csv
2025-08-24 10:03:59,080 - INFO - 4-traitement_obs:198 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-24 10:03:59,080 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:03:59,921 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-24 10:03:59,921 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 10:03:59,921 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 10:03:59,921 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 10:03:59,921 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-24 10:03:59,921 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-24 10:03:59,922 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-24 10:03:59,922 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/24/Synop_202508240600.bufr
2025-08-24 10:03:59,922 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/23/Synop_202508231800.bufr
2025-08-24 10:03:59,922 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-24 10:03:59,922 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 10:04:00,066 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-24 10:04:00,066 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 10:04:00,169 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 88
2025-08-24 10:04:00,169 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-24 10:04:00,169 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-24 10:04:00,172 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-24 10:04:00,174 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations
2025-08-24 10:04:00,176 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 10:04:00,176 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-24 10:04:00,176 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/6-create_tables.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:04:00,674 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 10:04:00,674 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/BQRM_V01/sonelgaz/outputs
2025-08-24 10:04:00,677 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 10:04:00,702 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-24 10:04:00,703 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-24 10:04:00,703 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-24 10:04:00,705 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 10:04:00,712 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 10:04:00,712 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-24 10:04:00,714 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 10:04:00,719 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 10:04:00,719 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-24 10:04:00,722 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-24 10:04:00,722 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-24 10:04:00,724 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-24 10:04:00,724 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-24 10:04:00,724 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-24 10:04:00,748 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-24 10:04:00,748 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 10:04:00,749 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-24 10:04:00,768 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-24 10:04:00,768 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 10:04:00,768 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-24 10:04:00,779 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-24 10:04:00,779 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 10:04:00,779 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-24 10:04:00,791 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-24 10:04:00,791 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 10:04:00,791 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-24 10:04:00,791 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-24 10:04:00,791 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/7-create_word.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:04:01,334 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-24 10:04:01,334 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 10:04:01,334 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 10:04:01,334 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 10:04:01,334 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 10:04:01,335 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 10:04:01,335 - INFO - 7-create_word:73 - Processed dates - Today: 24-08-2025, Tomorrow: 25-08-2025
2025-08-24 10:04:01,335 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-24 10:04:01,335 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 10:04:01,335 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 10:04:01,335 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 10:04:01,335 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 10:04:01,335 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 10:04:01,335 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 10:04:01,335 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-24 10:04:01,335 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 10:04:01,342 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-24 10:04:01,342 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 10:04:01,348 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-24 10:04:01,348 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 10:04:01,354 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-24 10:04:01,354 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 10:04:01,359 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-24 10:04:01,360 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-24 10:04:01,360 - INFO - 7-create_word:230 - Loading Word template...
2025-08-24 10:04:01,414 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 10:04:01,414 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-24 10:04:01,415 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-24 10:04:01,416 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 24-08-2025'.
2025-08-24 10:04:01,416 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-24 10:04:01,417 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 25-08-2025'.
2025-08-24 10:04:01,417 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-24 10:04:01,417 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-24 10:04:01,417 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-24 10:04:02,045 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-24 10:04:02,081 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-24 10:04:02,081 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-24 10:04:02,481 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-24 10:04:02,509 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-24 10:04:02,509 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-24 10:04:03,229 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-24 10:04:03,267 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-24 10:04:03,267 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-24 10:04:04,133 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-24 10:04:04,175 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-24 10:04:04,175 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-24 10:04:04,175 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 10:04:04,453 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 10:04:04,454 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_24-08-2025.docx' exists on disk at '/home/aoumeur/BQRM_V01/sonelgaz/bulletins' (size: 2962604 bytes).
2025-08-24 10:04:04,454 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/BQRM_V01/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-24 10:04:04,454 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-24 10:04:04,454 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-24 10:04:04,454 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/8-send_MSG.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 10:04:04,516 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 10:04:04,516 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-24 10:04:04,516 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-24 10:04:04,516 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 10:04:04,516 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 10:04:04,516 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 10:04:04,516 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 10:04:04,516 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 10:04:04,516 - WARNING - file_operations:243 - File not found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2. Skipping this operation.
2025-08-24 10:04:04,517 - DEBUG - file_operations:245 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/grib_2025082400_0000
2025-08-24 10:04:04,517 - INFO - 8-send_MSG:103 - ALADIN GRIB file found. Setting email subject/body for ALADIN model.
2025-08-24 10:04:04,517 - DEBUG - file_operations:245 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 10:04:04,517 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 10:04:04,517 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 24/08/2025 Généré avec ALADIN'
2025-08-24 10:04:04,517 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx')]
2025-08-24 10:04:04,619 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-24 10:04:04,619 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-24 10:04:04,620 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 10:04:04,620 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'. Attempting to open and attach.
2025-08-24 10:04:04,739 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 10:04:05,408 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-24 10:04:05,416 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-24 10:04:05,416 - INFO - 8-send_MSG:131 - Attempting to clean up temporary directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp
2025-08-24 10:04:05,416 - INFO - file_operations:284 - Starting cleanup of directory: /home/aoumeur/BQRM_V01/sonelgaz/tmp (Pattern: All files)
2025-08-24 10:04:05,418 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0000
2025-08-24 10:04:05,419 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0035
2025-08-24 10:04:05,421 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0028
2025-08-24 10:04:05,422 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0030
2025-08-24 10:04:05,424 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0016
2025-08-24 10:04:05,425 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0012
2025-08-24 10:04:05,427 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0008
2025-08-24 10:04:05,429 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0040
2025-08-24 10:04:05,430 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0020
2025-08-24 10:04:05,432 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0044
2025-08-24 10:04:05,434 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0023
2025-08-24 10:04:05,435 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0005
2025-08-24 10:04:05,437 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0007
2025-08-24 10:04:05,439 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0043
2025-08-24 10:04:05,440 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0019
2025-08-24 10:04:05,442 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0038
2025-08-24 10:04:05,443 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0017
2025-08-24 10:04:05,445 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0037
2025-08-24 10:04:05,447 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0003
2025-08-24 10:04:05,448 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0047
2025-08-24 10:04:05,450 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0015
2025-08-24 10:04:05,451 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0031
2025-08-24 10:04:05,453 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0021
2025-08-24 10:04:05,455 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0013
2025-08-24 10:04:05,456 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0041
2025-08-24 10:04:05,458 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0009
2025-08-24 10:04:05,460 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0018
2025-08-24 10:04:05,461 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0011
2025-08-24 10:04:05,463 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0036
2025-08-24 10:04:05,464 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0042
2025-08-24 10:04:05,466 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0004
2025-08-24 10:04:05,467 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0001
2025-08-24 10:04:05,469 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0006
2025-08-24 10:04:05,471 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0022
2025-08-24 10:04:05,473 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0048
2025-08-24 10:04:05,474 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0032
2025-08-24 10:04:05,476 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0029
2025-08-24 10:04:05,477 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0026
2025-08-24 10:04:05,479 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0010
2025-08-24 10:04:05,480 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0025
2025-08-24 10:04:05,482 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0046
2025-08-24 10:04:05,483 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0034
2025-08-24 10:04:05,485 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0014
2025-08-24 10:04:05,487 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0027
2025-08-24 10:04:05,488 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0045
2025-08-24 10:04:05,490 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0024
2025-08-24 10:04:05,491 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 10:04:05,493 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0033
2025-08-24 10:04:05,494 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0039
2025-08-24 10:04:05,496 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0002
2025-08-24 10:04:05,496 - INFO - file_operations:301 - Finished cleanup. Successfully deleted 50 files from /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 10:04:05,496 - INFO - 8-send_MSG:140 - Successfully cleaned 50 files from /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp.
2025-08-24 10:04:05,496 - INFO - 8-send_MSG:147 - Script execution finished.
2025-08-24 10:04:05,507 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 10:04:05,507 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-24 10:04:05,507 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-24 10:04:05,597 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 10:04:05,597 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-24 10:04:05,597 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-24 10:04:05,672 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 10:04:05,672 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-24 10:04:05,672 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-24 10:04:05,801 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 10:04:05,801 - INFO - 4-traitement_obs:206 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-24 10:04:05,801 - INFO - 4-traitement_obs:215 - --- Script '4-traitement_obs.py' finished. ---
2025-08-24 10:04:05,933 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 10:04:05,933 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-24 10:04:05,933 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-24 10:04:06,061 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 10:04:06,061 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-24 10:04:06,061 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-24 10:04:06,165 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 10:04:06,166 - INFO - 1-get-aladin:142 - Successfully executed 2-conv.py.
2025-08-24 10:04:06,166 - INFO - 1-get-aladin:152 - --- Script 'sonelgaz' finished. ---
2025-08-24 11:46:28,761 - INFO - 1-get_arpege:51 - --- Script '1-get_arpege.py' started ---
2025-08-24 11:46:28,761 - INFO - 1-get_arpege:52 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 11:46:28,762 - INFO - 1-get_arpege:53 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 11:46:28,762 - INFO - 1-get_arpege:54 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 11:46:28,762 - INFO - 1-get_arpege:55 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 11:46:28,762 - INFO - 1-get_arpege:56 - Temporary directory for FTP download: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 11:46:28,762 - INFO - 1-get_arpege:57 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-24 11:46:28,762 - INFO - 1-get_arpege:60 - Ensured temporary directory exists: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 11:46:28,762 - INFO - 1-get_arpege:69 - Fetching files for date: 20250824 with pattern: *SP1*20250824000*
2025-08-24 11:46:28,762 - INFO - 1-get_arpege:72 - Checking if files exist on FTP server...
2025-08-24 11:46:28,762 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250824000*)...
2025-08-24 11:46:28,762 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-24 11:46:29,027 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-24 11:46:29,037 - INFO - fetchdata:81 - Found 9 files matching pattern '*SP1*20250824000*'.
2025-08-24 11:46:29,038 - INFO - 1-get_arpege:100 - Found 9 matching files on FTP server:
2025-08-24 11:46:29,038 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:29,038 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:29,038 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:29,038 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:29,038 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:29,038 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:29,038 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:29,038 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:29,038 - INFO - 1-get_arpege:102 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:29,038 - INFO - 1-get_arpege:115 - Proceeding with FTP download using fetch_remote_files.
2025-08-24 11:46:29,038 - INFO - 1-get_arpege:116 - Attempting to download 9 files to /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 11:46:29,038 - INFO - fetchdata:171 - Starting FTP file fetching process for 9 files.
2025-08-24 11:46:29,038 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-24 11:46:29,460 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-24 11:46:29,461 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 11:46:29,461 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:35,462 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:35,462 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 11:46:35,462 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:41,721 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:41,721 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 11:46:41,721 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:48,248 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:48,248 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 11:46:48,248 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:54,893 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 11:46:54,893 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 11:46:54,893 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:00,948 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:00,949 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 11:47:00,949 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:06,982 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:06,982 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 11:47:06,982 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:13,125 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:13,126 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 11:47:13,126 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:19,306 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:19,307 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 11:47:19,307 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:22,403 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:22,403 - INFO - fetchdata:257 - FTP client closed.
2025-08-24 11:47:22,403 - INFO - fetchdata:261 - FTP file fetching process completed.
2025-08-24 11:47:22,403 - INFO - 1-get_arpege:127 - FTP transfer process initiated by fetch_remote_files completed.
2025-08-24 11:47:22,404 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 11:47:22,404 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 11:47:22,404 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 11:47:22,404 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 11:47:22,404 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 11:47:22,404 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 11:47:22,404 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 11:47:22,404 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 11:47:22,404 - INFO - 1-get_arpege:134 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 11:47:22,404 - INFO - 1-get_arpege:146 - Successfully verified all 9 files downloaded to '/home/aoumeur/BQRM_V01/sonelgaz/tmp'.
2025-08-24 11:47:22,404 - INFO - 1-get_arpege:149 - Attempting to run next program: 2-conv.py
2025-08-24 11:47:22,404 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 11:47:23,217 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-24 11:47:23,217 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 11:47:23,217 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 11:47:23,217 - INFO - 2-conv:43 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 11:47:23,217 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 11:47:23,217 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 11:47:23,217 - INFO - 2-conv:55 - Processing for date: 20250824
2025-08-24 11:47:23,217 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-24 11:47:23,217 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2. Processing this branch.
2025-08-24 11:47:23,217 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-24 11:47:23,217 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2' to 't2m00-12.grib'.
2025-08-24 11:47:23,218 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 11:47:23,793 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 11:47:23,793 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2' to 't2m12-24.grib'.
2025-08-24 11:47:23,793 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 11:47:24,366 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 11:47:24,366 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2' to 't2m24-36.grib'.
2025-08-24 11:47:24,366 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 11:47:24,930 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 11:47:24,930 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2' to 't2m36-48.grib'.
2025-08-24 11:47:24,930 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 11:47:25,500 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 11:47:25,500 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 11:47:25,500 - INFO - file_operations:127 - Starting merge of 4 files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 11:47:25,514 - INFO - file_operations:139 - Successfully merged files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 11:47:25,515 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 11:47:25,515 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-24 11:47:25,516 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib
2025-08-24 11:47:25,516 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib
2025-08-24 11:47:25,517 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib
2025-08-24 11:47:25,518 - INFO - file_operations:168 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib
2025-08-24 11:47:25,518 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-24 11:47:25,518 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-24 11:47:25,518 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 11:47:25,518 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-24 11:47:25,518 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 11:47:26,414 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-24 11:47:26,414 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 11:47:26,414 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 11:47:26,414 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 11:47:26,414 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 11:47:26,414 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 11:47:26,414 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 11:47:26,416 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 11:47:26,418 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 11:47:26,429 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-24 11:47:26,439 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 11:47:26,689 - INFO - grib_processor:113 - GRIB file '2t_20250824.grib' opened successfully.
2025-08-24 11:47:26,690 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-24 11:47:26,690 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-24 11:47:26,690 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-24 11:47:30,657 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-24 11:47:30,657 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-24 11:47:30,710 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-24 11:47:30,710 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-24 11:47:30,710 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-24 11:47:30,710 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-24 11:47:30,711 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-24 11:47:30,711 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-24 11:47:30,712 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-24 11:47:30,739 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 11:47:30,744 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 11:47:30,744 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 11:47:30,744 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-24 11:47:30,744 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 11:47:31,661 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 11:47:31,661 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../../bufr_data/observations
2025-08-24 11:47:31,661 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations
2025-08-24 11:47:31,661 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 11:47:31,662 - INFO - 4-traitement_obs:104 - Initialized DataFrame with 47 unique stations.
2025-08-24 11:47:31,662 - INFO - 4-traitement_obs:132 - Configured to process 5 time steps for observations.
2025-08-24 11:47:31,662 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508230600.bufr for key 'airTemperature'
2025-08-24 11:47:31,830 - INFO - 4-traitement_obs:160 - Merged data for t2m_06 into the main DataFrame.
2025-08-24 11:47:31,831 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231200.bufr for key 'airTemperature'
2025-08-24 11:47:31,955 - INFO - 4-traitement_obs:160 - Merged data for t2m_12 into the main DataFrame.
2025-08-24 11:47:31,955 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'airTemperature'
2025-08-24 11:47:32,075 - INFO - 4-traitement_obs:160 - Merged data for t2m_18 into the main DataFrame.
2025-08-24 11:47:32,075 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508232100.bufr for key 'airTemperature'
2025-08-24 11:47:32,109 - INFO - 4-traitement_obs:160 - Merged data for t2m_21 into the main DataFrame.
2025-08-24 11:47:32,110 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240000.bufr for key 'airTemperature'
2025-08-24 11:47:32,184 - INFO - 4-traitement_obs:160 - Merged data for t2m_24 into the main DataFrame.
2025-08-24 11:47:32,185 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-24 11:47:32,185 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-24 11:47:32,185 - INFO - 4-traitement_obs:178 - Final DataFrame head:
2025-08-24 11:47:32,189 - INFO - 4-traitement_obs:180 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    29.1    44.0    43.2     NaN    33.3
1            ANNABA    22.0    29.0    26.1     NaN    19.7
2      B-B-ARRERIDJ    17.7    32.1    29.3     NaN     NaN
3             BATNA    18.5    35.1    29.0     NaN    20.5
4            BECHAR    30.1    38.0    35.2     NaN    31.7
2025-08-24 11:47:32,191 - INFO - 4-traitement_obs:192 - DataFrame successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations/observations_20250824.csv
2025-08-24 11:47:32,191 - INFO - 4-traitement_obs:198 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-24 11:47:32,191 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 11:47:33,117 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-24 11:47:33,117 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 11:47:33,117 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 11:47:33,117 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 11:47:33,117 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-24 11:47:33,118 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-24 11:47:33,118 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-24 11:47:33,118 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/24/Synop_202508240600.bufr
2025-08-24 11:47:33,118 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/23/Synop_202508231800.bufr
2025-08-24 11:47:33,118 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-24 11:47:33,119 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 11:47:33,279 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-24 11:47:33,279 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 11:47:33,400 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 88
2025-08-24 11:47:33,400 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-24 11:47:33,400 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-24 11:47:33,404 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-24 11:47:33,406 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations
2025-08-24 11:47:33,408 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 11:47:33,408 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-24 11:47:33,408 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/6-create_tables.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 11:47:33,971 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 11:47:33,971 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/BQRM_V01/sonelgaz/outputs
2025-08-24 11:47:33,974 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 11:47:34,003 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-24 11:47:34,004 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-24 11:47:34,004 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-24 11:47:34,006 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 11:47:34,014 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 11:47:34,014 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-24 11:47:34,015 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 11:47:34,022 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 11:47:34,022 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-24 11:47:34,026 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-24 11:47:34,026 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-24 11:47:34,027 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-24 11:47:34,027 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-24 11:47:34,027 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-24 11:47:34,041 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-24 11:47:34,041 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 11:47:34,042 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-24 11:47:34,054 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-24 11:47:34,054 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 11:47:34,055 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-24 11:47:34,067 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-24 11:47:34,068 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 11:47:34,068 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-24 11:47:34,079 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-24 11:47:34,080 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 11:47:34,080 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-24 11:47:34,080 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-24 11:47:34,080 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/7-create_word.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 11:47:34,680 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-24 11:47:34,680 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 11:47:34,680 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 11:47:34,680 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 11:47:34,680 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 11:47:34,680 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 11:47:34,681 - INFO - 7-create_word:73 - Processed dates - Today: 24-08-2025, Tomorrow: 25-08-2025
2025-08-24 11:47:34,681 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-24 11:47:34,681 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 11:47:34,681 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 11:47:34,681 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 11:47:34,681 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 11:47:34,681 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 11:47:34,681 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 11:47:34,681 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-24 11:47:34,681 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 11:47:34,690 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-24 11:47:34,690 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 11:47:34,695 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-24 11:47:34,695 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 11:47:34,703 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-24 11:47:34,703 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 11:47:34,710 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-24 11:47:34,710 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-24 11:47:34,710 - INFO - 7-create_word:230 - Loading Word template...
2025-08-24 11:47:34,770 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 11:47:34,770 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-24 11:47:34,771 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-24 11:47:34,772 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 24-08-2025'.
2025-08-24 11:47:34,772 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-24 11:47:34,773 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 25-08-2025'.
2025-08-24 11:47:34,773 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-24 11:47:34,773 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-24 11:47:34,773 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-24 11:47:35,475 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-24 11:47:35,514 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-24 11:47:35,514 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-24 11:47:35,943 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-24 11:47:35,973 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-24 11:47:35,974 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-24 11:47:36,783 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-24 11:47:36,825 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-24 11:47:36,825 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-24 11:47:37,725 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-24 11:47:37,766 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-24 11:47:37,766 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-24 11:47:37,766 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 11:47:38,066 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 11:47:38,066 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_24-08-2025.docx' exists on disk at '/home/aoumeur/BQRM_V01/sonelgaz/bulletins' (size: 2962609 bytes).
2025-08-24 11:47:38,066 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/BQRM_V01/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-24 11:47:38,066 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-24 11:47:38,066 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-24 11:47:38,066 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/8-send_MSG.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 11:47:38,129 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 11:47:38,129 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-24 11:47:38,129 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-24 11:47:38,129 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 11:47:38,129 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 11:47:38,129 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 11:47:38,129 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 11:47:38,129 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 11:47:38,130 - DEBUG - file_operations:245 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:38,130 - WARNING - file_operations:243 - File not found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/grib_2025082400_0000. Skipping this operation.
2025-08-24 11:47:38,130 - INFO - 8-send_MSG:99 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-24 11:47:38,130 - DEBUG - file_operations:245 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 11:47:38,130 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 11:47:38,130 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 24/08/2025 Généré avec ARPEGE'
2025-08-24 11:47:38,130 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx')]
2025-08-24 11:47:40,201 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-24 11:47:40,201 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-24 11:47:40,202 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 11:47:40,202 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'. Attempting to open and attach.
2025-08-24 11:47:40,304 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 11:47:42,679 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-24 11:47:42,804 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-24 11:47:42,805 - INFO - 8-send_MSG:131 - Attempting to clean up temporary directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp
2025-08-24 11:47:42,805 - INFO - file_operations:284 - Starting cleanup of directory: /home/aoumeur/BQRM_V01/sonelgaz/tmp (Pattern: All files)
2025-08-24 11:47:42,827 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:42,843 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:42,857 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:42,871 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:42,883 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:42,896 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:42,909 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:42,925 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:42,932 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 11:47:42,935 - DEBUG - file_operations:293 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 11:47:42,935 - INFO - file_operations:301 - Finished cleanup. Successfully deleted 10 files from /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 11:47:42,935 - INFO - 8-send_MSG:140 - Successfully cleaned 10 files from /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp.
2025-08-24 11:47:42,935 - INFO - 8-send_MSG:147 - Script execution finished.
2025-08-24 11:47:42,946 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 11:47:42,946 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-24 11:47:42,946 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-24 11:47:43,046 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 11:47:43,046 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-24 11:47:43,046 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-24 11:47:43,124 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 11:47:43,124 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-24 11:47:43,124 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-24 11:47:43,246 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 11:47:43,246 - INFO - 4-traitement_obs:206 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-24 11:47:43,246 - INFO - 4-traitement_obs:215 - --- Script '4-traitement_obs.py' finished. ---
2025-08-24 11:47:43,372 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 11:47:43,372 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-24 11:47:43,372 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-24 11:47:43,504 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 11:47:43,504 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-24 11:47:43,504 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-24 11:47:43,620 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 11:47:43,620 - INFO - 1-get_arpege:156 - Successfully executed 2-conv.py.
2025-08-24 11:47:43,620 - INFO - 1-get_arpege:165 - --- Script '1-get_arpege.py' finished. ---
2025-08-24 14:55:17,597 - INFO - 1-get_arpege:61 - --- Script '1-get_arpege.py' started ---
2025-08-24 14:55:17,597 - INFO - 1-get_arpege:62 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 14:55:17,597 - INFO - 1-get_arpege:63 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 14:55:17,597 - INFO - 1-get_arpege:64 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 14:55:17,597 - INFO - 1-get_arpege:65 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 14:55:17,597 - INFO - 1-get_arpege:66 - Temporary directory for FTP download: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 14:55:17,597 - INFO - 1-get_arpege:67 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-24 14:55:17,597 - INFO - 1-get_arpege:70 - Ensured temporary directory exists: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 14:55:17,598 - INFO - 1-get_arpege:78 - Fetching files for date: 20250824 with pattern: *SP1*20250824000*
2025-08-24 14:55:17,598 - INFO - 1-get_arpege:81 - Checking if ARPEGE files exist on FTP server and verifying completeness...
2025-08-24 14:55:17,598 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250824000*)...
2025-08-24 14:55:17,598 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-24 14:55:17,857 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-24 14:55:17,869 - INFO - fetchdata:81 - Found 9 files matching pattern '*SP1*20250824000*'.
2025-08-24 14:55:17,870 - INFO - 1-get_arpege:114 - All 9 expected ARPEGE forecast steps found on FTP server for date 20250824.
2025-08-24 14:55:17,871 - INFO - 1-get_arpege:133 - Found 9 matching ARPEGE files on FTP server:
2025-08-24 14:55:17,871 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:17,871 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:17,871 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:17,871 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:17,871 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:17,872 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:17,872 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:17,872 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:17,872 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:17,873 - INFO - 1-get_arpege:148 - Proceeding with FTP download using fetch_remote_files.
2025-08-24 14:55:17,873 - INFO - 1-get_arpege:149 - Attempting to download 9 files to /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 14:55:17,873 - INFO - fetchdata:171 - Starting FTP file fetching process for 9 files.
2025-08-24 14:55:17,873 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-24 14:55:18,087 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-24 14:55:18,088 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 14:55:18,088 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:18,745 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:18,745 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 14:55:18,745 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:19,568 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:19,568 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 14:55:19,568 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:20,332 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:20,332 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 14:55:20,332 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:21,095 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:21,095 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 14:55:21,095 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:21,852 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:21,852 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 14:55:21,852 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:22,511 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:22,511 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 14:55:22,511 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:23,234 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:23,234 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 14:55:23,235 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:23,928 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:23,928 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 14:55:23,928 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:24,272 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:24,272 - INFO - fetchdata:257 - FTP client closed.
2025-08-24 14:55:24,272 - INFO - fetchdata:261 - FTP file fetching process completed.
2025-08-24 14:55:24,273 - INFO - 1-get_arpege:160 - FTP transfer process initiated by fetch_remote_files completed.
2025-08-24 14:55:24,273 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 14:55:24,273 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 14:55:24,273 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 14:55:24,273 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 14:55:24,273 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 14:55:24,273 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 14:55:24,273 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 14:55:24,273 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 14:55:24,273 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 14:55:24,273 - INFO - 1-get_arpege:179 - Successfully verified all 9 files downloaded to '/home/aoumeur/BQRM_V01/sonelgaz/tmp'.
2025-08-24 14:55:24,273 - INFO - 1-get_arpege:182 - Attempting to run next program: 2-conv.py
2025-08-24 14:55:24,273 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 14:55:25,042 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-24 14:55:25,042 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 14:55:25,042 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 14:55:25,042 - INFO - 2-conv:43 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 14:55:25,042 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 14:55:25,043 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 14:55:25,043 - INFO - 2-conv:55 - Processing for date: 20250824
2025-08-24 14:55:25,043 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-24 14:55:25,043 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2. Processing this branch.
2025-08-24 14:55:25,043 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-24 14:55:25,043 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2' to 't2m00-12.grib'.
2025-08-24 14:55:25,043 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 14:55:25,531 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 14:55:25,531 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2' to 't2m12-24.grib'.
2025-08-24 14:55:25,531 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 14:55:26,007 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 14:55:26,007 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2' to 't2m24-36.grib'.
2025-08-24 14:55:26,007 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 14:55:26,486 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 14:55:26,486 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2' to 't2m36-48.grib'.
2025-08-24 14:55:26,487 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 14:55:26,969 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 14:55:26,970 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 14:55:26,970 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 14:55:26,983 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 14:55:26,983 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 14:55:26,983 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-24 14:55:26,984 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib
2025-08-24 14:55:26,984 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib
2025-08-24 14:55:26,985 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib
2025-08-24 14:55:26,986 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib
2025-08-24 14:55:26,986 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-24 14:55:26,986 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-24 14:55:26,986 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 14:55:26,986 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-24 14:55:26,986 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 14:55:27,793 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-24 14:55:27,793 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 14:55:27,793 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 14:55:27,793 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 14:55:27,794 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 14:55:27,794 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 14:55:27,794 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 14:55:27,795 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 14:55:27,797 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 14:55:27,807 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-24 14:55:27,815 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 14:55:28,042 - INFO - grib_processor:113 - GRIB file '2t_20250824.grib' opened successfully.
2025-08-24 14:55:28,042 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-24 14:55:28,042 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-24 14:55:28,043 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-24 14:55:31,496 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-24 14:55:31,497 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-24 14:55:31,568 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-24 14:55:31,569 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-24 14:55:31,569 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-24 14:55:31,569 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-24 14:55:31,569 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-24 14:55:31,569 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-24 14:55:31,571 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-24 14:55:31,600 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 14:55:31,606 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 14:55:31,607 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 14:55:31,607 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-24 14:55:31,607 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 14:55:32,464 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 14:55:32,464 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../../bufr_data/observations
2025-08-24 14:55:32,464 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations
2025-08-24 14:55:32,464 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 14:55:32,465 - INFO - 4-traitement_obs:104 - Initialized DataFrame with 47 unique stations.
2025-08-24 14:55:32,465 - INFO - 4-traitement_obs:132 - Configured to process 5 time steps for observations.
2025-08-24 14:55:32,465 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508230600.bufr for key 'airTemperature'
2025-08-24 14:55:32,609 - INFO - 4-traitement_obs:160 - Merged data for t2m_06 into the main DataFrame.
2025-08-24 14:55:32,610 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231200.bufr for key 'airTemperature'
2025-08-24 14:55:32,720 - INFO - 4-traitement_obs:160 - Merged data for t2m_12 into the main DataFrame.
2025-08-24 14:55:32,720 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'airTemperature'
2025-08-24 14:55:32,828 - INFO - 4-traitement_obs:160 - Merged data for t2m_18 into the main DataFrame.
2025-08-24 14:55:32,829 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508232100.bufr for key 'airTemperature'
2025-08-24 14:55:32,857 - INFO - 4-traitement_obs:160 - Merged data for t2m_21 into the main DataFrame.
2025-08-24 14:55:32,858 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240000.bufr for key 'airTemperature'
2025-08-24 14:55:32,924 - INFO - 4-traitement_obs:160 - Merged data for t2m_24 into the main DataFrame.
2025-08-24 14:55:32,925 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-24 14:55:32,925 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-24 14:55:32,925 - INFO - 4-traitement_obs:178 - Final DataFrame head:
2025-08-24 14:55:32,928 - INFO - 4-traitement_obs:180 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    29.1    44.0    43.2     NaN    33.3
1            ANNABA    22.0    29.0    26.1     NaN    19.7
2      B-B-ARRERIDJ    17.7    32.1    29.3     NaN     NaN
3             BATNA    18.5    35.1    29.0     NaN    20.5
4            BECHAR    30.1    38.0    35.2     NaN    31.7
2025-08-24 14:55:32,930 - INFO - 4-traitement_obs:192 - DataFrame successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations/observations_20250824.csv
2025-08-24 14:55:32,930 - INFO - 4-traitement_obs:198 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-24 14:55:32,930 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 14:55:33,752 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-24 14:55:33,753 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 14:55:33,753 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 14:55:33,753 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 14:55:33,753 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-24 14:55:33,753 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-24 14:55:33,753 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-24 14:55:33,753 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/24/Synop_202508240600.bufr
2025-08-24 14:55:33,753 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/23/Synop_202508231800.bufr
2025-08-24 14:55:33,754 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-24 14:55:33,754 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 14:55:33,897 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-24 14:55:33,898 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 14:55:34,003 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 88
2025-08-24 14:55:34,003 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-24 14:55:34,003 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-24 14:55:34,006 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-24 14:55:34,008 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations
2025-08-24 14:55:34,010 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 14:55:34,010 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-24 14:55:34,010 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/6-create_tables.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 14:55:34,514 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 14:55:34,515 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/BQRM_V01/sonelgaz/outputs
2025-08-24 14:55:34,517 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 14:55:34,543 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-24 14:55:34,544 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-24 14:55:34,544 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-24 14:55:34,545 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 14:55:34,553 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 14:55:34,554 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-24 14:55:34,555 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 14:55:34,560 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 14:55:34,560 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-24 14:55:34,563 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-24 14:55:34,564 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-24 14:55:34,565 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-24 14:55:34,565 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-24 14:55:34,565 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-24 14:55:34,578 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-24 14:55:34,578 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 14:55:34,578 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-24 14:55:34,588 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-24 14:55:34,589 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 14:55:34,589 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-24 14:55:34,600 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-24 14:55:34,600 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 14:55:34,600 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-24 14:55:34,611 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-24 14:55:34,611 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 14:55:34,611 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-24 14:55:34,611 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-24 14:55:34,611 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/7-create_word.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 14:55:35,151 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-24 14:55:35,151 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 14:55:35,151 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 14:55:35,151 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 14:55:35,151 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 14:55:35,151 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 14:55:35,152 - INFO - 7-create_word:73 - Processed dates - Today: 24-08-2025, Tomorrow: 25-08-2025
2025-08-24 14:55:35,152 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-24 14:55:35,152 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 14:55:35,152 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 14:55:35,152 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 14:55:35,152 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 14:55:35,152 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 14:55:35,152 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 14:55:35,152 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-24 14:55:35,152 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 14:55:35,159 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-24 14:55:35,159 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 14:55:35,164 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-24 14:55:35,165 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 14:55:35,170 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-24 14:55:35,170 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 14:55:35,176 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-24 14:55:35,176 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-24 14:55:35,176 - INFO - 7-create_word:230 - Loading Word template...
2025-08-24 14:55:35,231 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 14:55:35,231 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-24 14:55:35,231 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-24 14:55:35,232 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 24-08-2025'.
2025-08-24 14:55:35,233 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-24 14:55:35,233 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 25-08-2025'.
2025-08-24 14:55:35,233 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-24 14:55:35,234 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-24 14:55:35,234 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-24 14:55:35,859 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-24 14:55:35,894 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-24 14:55:35,894 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-24 14:55:36,273 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-24 14:55:36,300 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-24 14:55:36,300 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-24 14:55:37,015 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-24 14:55:37,052 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-24 14:55:37,052 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-24 14:55:37,880 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-24 14:55:37,922 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-24 14:55:37,922 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-24 14:55:37,922 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 14:55:38,202 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 14:55:38,202 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_24-08-2025.docx' exists on disk at '/home/aoumeur/BQRM_V01/sonelgaz/bulletins' (size: 2962609 bytes).
2025-08-24 14:55:38,202 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/BQRM_V01/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-24 14:55:38,202 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-24 14:55:38,202 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-24 14:55:38,202 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/8-send_MSG.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 14:55:38,264 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 14:55:38,264 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-24 14:55:38,264 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-24 14:55:38,265 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 14:55:38,265 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 14:55:38,265 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 14:55:38,265 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 14:55:38,265 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 14:55:38,265 - DEBUG - file_operations:244 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:38,265 - WARNING - file_operations:242 - File not found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/grib_2025082400_0000. Skipping this operation.
2025-08-24 14:55:38,265 - INFO - 8-send_MSG:99 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-24 14:55:38,265 - DEBUG - file_operations:244 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 14:55:38,265 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 14:55:38,265 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 24/08/2025 Généré avec ARPEGE'
2025-08-24 14:55:38,265 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx')]
2025-08-24 14:55:43,366 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-24 14:55:43,367 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-24 14:55:43,367 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 14:55:43,367 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'. Attempting to open and attach.
2025-08-24 14:55:43,460 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 14:55:43,775 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-24 14:55:43,778 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-24 14:55:43,779 - INFO - 8-send_MSG:131 - Attempting to clean up temporary directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp
2025-08-24 14:55:43,779 - INFO - file_operations:283 - Starting cleanup of directory: /home/aoumeur/BQRM_V01/sonelgaz/tmp (Pattern: All files)
2025-08-24 14:55:43,800 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:43,817 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:43,831 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:43,843 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:43,857 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:43,871 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:43,885 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:43,898 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:43,905 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 14:55:43,908 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 14:55:43,908 - INFO - file_operations:300 - Finished cleanup. Successfully deleted 10 files from /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 14:55:43,908 - INFO - 8-send_MSG:140 - Successfully cleaned 10 files from /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp.
2025-08-24 14:55:43,908 - INFO - 8-send_MSG:147 - Script execution finished.
2025-08-24 14:55:43,919 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 14:55:43,919 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-24 14:55:43,919 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-24 14:55:44,010 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 14:55:44,010 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-24 14:55:44,010 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-24 14:55:44,085 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 14:55:44,085 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-24 14:55:44,085 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-24 14:55:44,206 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 14:55:44,206 - INFO - 4-traitement_obs:206 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-24 14:55:44,206 - INFO - 4-traitement_obs:215 - --- Script '4-traitement_obs.py' finished. ---
2025-08-24 14:55:44,326 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 14:55:44,327 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-24 14:55:44,327 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-24 14:55:44,453 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 14:55:44,453 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-24 14:55:44,453 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-24 14:55:44,556 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 14:55:44,556 - INFO - 1-get_arpege:188 - Successfully executed 2-conv.py.
2025-08-24 14:55:44,556 - INFO - 1-get_arpege:197 - --- Script '1-get_arpege.py' finished. ---
2025-08-24 15:26:38,316 - INFO - 1-get_arpege:61 - --- Script '1-get_arpege.py' started ---
2025-08-24 15:26:38,316 - INFO - 1-get_arpege:62 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 15:26:38,317 - INFO - 1-get_arpege:63 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:26:38,317 - INFO - 1-get_arpege:64 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:26:38,317 - INFO - 1-get_arpege:65 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:26:38,317 - INFO - 1-get_arpege:66 - Temporary directory for FTP download: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 15:26:38,317 - INFO - 1-get_arpege:67 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-24 15:26:38,317 - INFO - 1-get_arpege:70 - Ensured temporary directory exists: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 15:26:38,317 - INFO - 1-get_arpege:78 - Fetching files for date: 20250824 with pattern: *SP1*20250824000*
2025-08-24 15:26:38,317 - INFO - 1-get_arpege:81 - Checking if ARPEGE files exist on FTP server and verifying completeness...
2025-08-24 15:26:38,317 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250824000*)...
2025-08-24 15:26:38,317 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-24 15:26:38,555 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-24 15:26:38,567 - INFO - fetchdata:81 - Found 9 files matching pattern '*SP1*20250824000*'.
2025-08-24 15:26:38,569 - ERROR - 1-get_arpege:109 - ERROR: Incomplete ARPEGE dataset on FTP server for date 20250824.
2025-08-24 15:26:38,569 - ERROR - 1-get_arpege:110 - Missing forecast steps: 97H109H
2025-08-24 15:26:38,569 - INFO - 1-get_arpege:111 - Due to missing ARPEGE files, launching 1-get-aladin.py instead.
2025-08-24 15:26:38,570 - WARNING - 1-get_arpege:118 - WARNING: Found unexpected ARPEGE forecast steps on FTP server: 97H102H. These will be downloaded.
2025-08-24 15:26:38,570 - INFO - 1-get_arpege:123 - Executing: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/1-get-aladin.py --shared-log-file /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 15:26:38,570 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/1-get-aladin.py --shared-log-file /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:26:38,848 - INFO - 1-get-aladin:42 - --- Script '1-get-aladin.py' execution started. ---
2025-08-24 15:26:38,848 - INFO - 1-get-aladin:43 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 15:26:38,848 - INFO - 1-get-aladin:44 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:26:38,848 - INFO - 1-get-aladin:45 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:26:38,848 - INFO - 1-get-aladin:46 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:26:38,848 - INFO - 1-get-aladin:48 - Using shared log file path: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 15:26:38,848 - INFO - 1-get-aladin:54 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:26:38,848 - INFO - 1-get-aladin:73 - Configuration loaded directly from script variables (for ALADIN data).
2025-08-24 15:26:38,848 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 15:26:38,848 - INFO - 1-get-aladin:136 - --- Main script execution started ---
2025-08-24 15:26:38,849 - INFO - 1-get-aladin:92 - Preparing ALADIN file list for date 2025-08-24 with resolution 00.
2025-08-24 15:26:38,849 - INFO - 1-get-aladin:117 - Prepared 49 files for download.
2025-08-24 15:26:38,849 - INFO - fetchdata:171 - Starting SFTP file fetching process for 49 files.
2025-08-24 15:26:38,849 - INFO - fetchdata:33 - Attempting to create SFTP client for login2.fennec.meteo.dz:22 with user wchikhi.
2025-08-24 15:26:38,870 - INFO - transport:1844 - Connected (version 2.0, client OpenSSH_8.0)
2025-08-24 15:26:38,961 - INFO - transport:1844 - Authentication (password) successful!
2025-08-24 15:26:53,548 - INFO - sftp:158 - [chan 0] Opened sftp connection (server version 3)
2025-08-24 15:26:53,548 - INFO - fetchdata:39 - Successfully connected to SFTP server: login2.fennec.meteo.dz
2025-08-24 15:26:53,549 - INFO - fetchdata:227 - Local file grib_2025082400_0000 is missing. Downloading.
2025-08-24 15:26:53,550 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0000 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0000
2025-08-24 15:26:54,212 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0000
2025-08-24 15:26:54,212 - INFO - fetchdata:227 - Local file grib_2025082400_0001 is missing. Downloading.
2025-08-24 15:26:54,212 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0001 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0001
2025-08-24 15:26:54,487 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0001
2025-08-24 15:26:54,488 - INFO - fetchdata:227 - Local file grib_2025082400_0002 is missing. Downloading.
2025-08-24 15:26:54,488 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0002 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0002
2025-08-24 15:26:54,737 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0002
2025-08-24 15:26:54,737 - INFO - fetchdata:227 - Local file grib_2025082400_0003 is missing. Downloading.
2025-08-24 15:26:54,738 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0003 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0003
2025-08-24 15:26:55,038 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0003
2025-08-24 15:26:55,039 - INFO - fetchdata:227 - Local file grib_2025082400_0004 is missing. Downloading.
2025-08-24 15:26:55,039 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0004 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0004
2025-08-24 15:26:55,314 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0004
2025-08-24 15:26:55,315 - INFO - fetchdata:227 - Local file grib_2025082400_0005 is missing. Downloading.
2025-08-24 15:26:55,315 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0005 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0005
2025-08-24 15:26:55,524 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0005
2025-08-24 15:26:55,525 - INFO - fetchdata:227 - Local file grib_2025082400_0006 is missing. Downloading.
2025-08-24 15:26:55,525 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0006 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0006
2025-08-24 15:26:55,771 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0006
2025-08-24 15:26:55,771 - INFO - fetchdata:227 - Local file grib_2025082400_0007 is missing. Downloading.
2025-08-24 15:26:55,771 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0007 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0007
2025-08-24 15:26:56,076 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0007
2025-08-24 15:26:56,076 - INFO - fetchdata:227 - Local file grib_2025082400_0008 is missing. Downloading.
2025-08-24 15:26:56,076 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0008 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0008
2025-08-24 15:26:56,390 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0008
2025-08-24 15:26:56,391 - INFO - fetchdata:227 - Local file grib_2025082400_0009 is missing. Downloading.
2025-08-24 15:26:56,391 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0009 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0009
2025-08-24 15:26:56,637 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0009
2025-08-24 15:26:56,637 - INFO - fetchdata:227 - Local file grib_2025082400_0010 is missing. Downloading.
2025-08-24 15:26:56,637 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0010 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0010
2025-08-24 15:26:56,922 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0010
2025-08-24 15:26:56,923 - INFO - fetchdata:227 - Local file grib_2025082400_0011 is missing. Downloading.
2025-08-24 15:26:56,923 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0011 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0011
2025-08-24 15:26:57,226 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0011
2025-08-24 15:26:57,227 - INFO - fetchdata:227 - Local file grib_2025082400_0012 is missing. Downloading.
2025-08-24 15:26:57,227 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0012 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0012
2025-08-24 15:26:57,455 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0012
2025-08-24 15:26:57,455 - INFO - fetchdata:227 - Local file grib_2025082400_0013 is missing. Downloading.
2025-08-24 15:26:57,455 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0013 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0013
2025-08-24 15:26:57,644 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0013
2025-08-24 15:26:57,644 - INFO - fetchdata:227 - Local file grib_2025082400_0014 is missing. Downloading.
2025-08-24 15:26:57,644 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0014 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0014
2025-08-24 15:26:57,891 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0014
2025-08-24 15:26:57,892 - INFO - fetchdata:227 - Local file grib_2025082400_0015 is missing. Downloading.
2025-08-24 15:26:57,892 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0015 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0015
2025-08-24 15:26:58,131 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0015
2025-08-24 15:26:58,131 - INFO - fetchdata:227 - Local file grib_2025082400_0016 is missing. Downloading.
2025-08-24 15:26:58,131 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0016 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0016
2025-08-24 15:26:58,389 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0016
2025-08-24 15:26:58,389 - INFO - fetchdata:227 - Local file grib_2025082400_0017 is missing. Downloading.
2025-08-24 15:26:58,390 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0017 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0017
2025-08-24 15:26:58,613 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0017
2025-08-24 15:26:58,614 - INFO - fetchdata:227 - Local file grib_2025082400_0018 is missing. Downloading.
2025-08-24 15:26:58,614 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0018 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0018
2025-08-24 15:26:58,911 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0018
2025-08-24 15:26:58,911 - INFO - fetchdata:227 - Local file grib_2025082400_0019 is missing. Downloading.
2025-08-24 15:26:58,912 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0019 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0019
2025-08-24 15:26:59,155 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0019
2025-08-24 15:26:59,156 - INFO - fetchdata:227 - Local file grib_2025082400_0020 is missing. Downloading.
2025-08-24 15:26:59,156 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0020 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0020
2025-08-24 15:26:59,396 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0020
2025-08-24 15:26:59,397 - INFO - fetchdata:227 - Local file grib_2025082400_0021 is missing. Downloading.
2025-08-24 15:26:59,397 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0021 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0021
2025-08-24 15:26:59,682 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0021
2025-08-24 15:26:59,683 - INFO - fetchdata:227 - Local file grib_2025082400_0022 is missing. Downloading.
2025-08-24 15:26:59,683 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0022 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0022
2025-08-24 15:26:59,929 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0022
2025-08-24 15:26:59,930 - INFO - fetchdata:227 - Local file grib_2025082400_0023 is missing. Downloading.
2025-08-24 15:26:59,930 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0023 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0023
2025-08-24 15:27:00,140 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0023
2025-08-24 15:27:00,141 - INFO - fetchdata:227 - Local file grib_2025082400_0024 is missing. Downloading.
2025-08-24 15:27:00,141 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0024 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0024
2025-08-24 15:27:00,343 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0024
2025-08-24 15:27:00,343 - INFO - fetchdata:227 - Local file grib_2025082400_0025 is missing. Downloading.
2025-08-24 15:27:00,343 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0025 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0025
2025-08-24 15:27:00,592 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0025
2025-08-24 15:27:00,592 - INFO - fetchdata:227 - Local file grib_2025082400_0026 is missing. Downloading.
2025-08-24 15:27:00,592 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0026 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0026
2025-08-24 15:27:00,827 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0026
2025-08-24 15:27:00,827 - INFO - fetchdata:227 - Local file grib_2025082400_0027 is missing. Downloading.
2025-08-24 15:27:00,827 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0027 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0027
2025-08-24 15:27:01,055 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0027
2025-08-24 15:27:01,055 - INFO - fetchdata:227 - Local file grib_2025082400_0028 is missing. Downloading.
2025-08-24 15:27:01,055 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0028 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0028
2025-08-24 15:27:01,278 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0028
2025-08-24 15:27:01,279 - INFO - fetchdata:227 - Local file grib_2025082400_0029 is missing. Downloading.
2025-08-24 15:27:01,279 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0029 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0029
2025-08-24 15:27:01,513 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0029
2025-08-24 15:27:01,514 - INFO - fetchdata:227 - Local file grib_2025082400_0030 is missing. Downloading.
2025-08-24 15:27:01,514 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0030 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0030
2025-08-24 15:27:01,755 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0030
2025-08-24 15:27:01,756 - INFO - fetchdata:227 - Local file grib_2025082400_0031 is missing. Downloading.
2025-08-24 15:27:01,756 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0031 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0031
2025-08-24 15:27:01,991 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0031
2025-08-24 15:27:01,991 - INFO - fetchdata:227 - Local file grib_2025082400_0032 is missing. Downloading.
2025-08-24 15:27:01,992 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0032 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0032
2025-08-24 15:27:02,256 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0032
2025-08-24 15:27:02,257 - INFO - fetchdata:227 - Local file grib_2025082400_0033 is missing. Downloading.
2025-08-24 15:27:02,257 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0033 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0033
2025-08-24 15:27:02,556 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0033
2025-08-24 15:27:02,557 - INFO - fetchdata:227 - Local file grib_2025082400_0034 is missing. Downloading.
2025-08-24 15:27:02,557 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0034 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0034
2025-08-24 15:27:02,864 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0034
2025-08-24 15:27:02,864 - INFO - fetchdata:227 - Local file grib_2025082400_0035 is missing. Downloading.
2025-08-24 15:27:02,864 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0035 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0035
2025-08-24 15:27:03,094 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0035
2025-08-24 15:27:03,095 - INFO - fetchdata:227 - Local file grib_2025082400_0036 is missing. Downloading.
2025-08-24 15:27:03,095 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0036 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0036
2025-08-24 15:27:03,343 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0036
2025-08-24 15:27:03,343 - INFO - fetchdata:227 - Local file grib_2025082400_0037 is missing. Downloading.
2025-08-24 15:27:03,343 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0037 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0037
2025-08-24 15:27:03,582 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0037
2025-08-24 15:27:03,582 - INFO - fetchdata:227 - Local file grib_2025082400_0038 is missing. Downloading.
2025-08-24 15:27:03,583 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0038 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0038
2025-08-24 15:27:03,813 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0038
2025-08-24 15:27:03,813 - INFO - fetchdata:227 - Local file grib_2025082400_0039 is missing. Downloading.
2025-08-24 15:27:03,813 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0039 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0039
2025-08-24 15:27:04,014 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0039
2025-08-24 15:27:04,014 - INFO - fetchdata:227 - Local file grib_2025082400_0040 is missing. Downloading.
2025-08-24 15:27:04,014 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0040 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0040
2025-08-24 15:27:04,292 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0040
2025-08-24 15:27:04,293 - INFO - fetchdata:227 - Local file grib_2025082400_0041 is missing. Downloading.
2025-08-24 15:27:04,293 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0041 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0041
2025-08-24 15:27:04,513 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0041
2025-08-24 15:27:04,514 - INFO - fetchdata:227 - Local file grib_2025082400_0042 is missing. Downloading.
2025-08-24 15:27:04,514 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0042 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0042
2025-08-24 15:27:04,749 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0042
2025-08-24 15:27:04,750 - INFO - fetchdata:227 - Local file grib_2025082400_0043 is missing. Downloading.
2025-08-24 15:27:04,750 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0043 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0043
2025-08-24 15:27:05,009 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0043
2025-08-24 15:27:05,009 - INFO - fetchdata:227 - Local file grib_2025082400_0044 is missing. Downloading.
2025-08-24 15:27:05,009 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0044 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0044
2025-08-24 15:27:05,329 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0044
2025-08-24 15:27:05,329 - INFO - fetchdata:227 - Local file grib_2025082400_0045 is missing. Downloading.
2025-08-24 15:27:05,330 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0045 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0045
2025-08-24 15:27:05,622 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0045
2025-08-24 15:27:05,623 - INFO - fetchdata:227 - Local file grib_2025082400_0046 is missing. Downloading.
2025-08-24 15:27:05,623 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0046 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0046
2025-08-24 15:27:05,846 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0046
2025-08-24 15:27:05,847 - INFO - fetchdata:227 - Local file grib_2025082400_0047 is missing. Downloading.
2025-08-24 15:27:05,847 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0047 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0047
2025-08-24 15:27:06,063 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0047
2025-08-24 15:27:06,063 - INFO - fetchdata:227 - Local file grib_2025082400_0048 is missing. Downloading.
2025-08-24 15:27:06,063 - INFO - fetchdata:230 - Downloading /fennecData/data/chprod/ALADIN/GRIB/2025/08/24/r00/grib_2025082400_0048 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0048
2025-08-24 15:27:06,279 - INFO - fetchdata:239 - Successfully downloaded grib_2025082400_0048
2025-08-24 15:27:06,279 - INFO - fetchdata:254 - SFTP SSH client closed.
2025-08-24 15:27:06,279 - INFO - fetchdata:261 - SFTP file fetching process completed.
2025-08-24 15:27:06,279 - INFO - 1-get-aladin:129 - ALADIN file fetching process completed for 2025-08-24.
2025-08-24 15:27:06,279 - INFO - 1-get-aladin:143 - Attempting to run next program: 2-conv.py
2025-08-24 15:27:06,279 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:07,025 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-24 15:27:07,025 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 15:27:07,025 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:27:07,025 - INFO - 2-conv:43 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:27:07,025 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:27:07,025 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 15:27:07,025 - INFO - 2-conv:55 - Processing for date: 20250824
2025-08-24 15:27:07,025 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-24 15:27:07,025 - INFO - 2-conv:96 - Primary ARPEGE file not found. Found alternative GRIB file: grib_2025082400_0000. Processing this branch.
2025-08-24 15:27:07,025 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-24 15:27:07,025 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0000' to 't2m00.grib'.
2025-08-24 15:27:07,025 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0000 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:07,101 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:07,101 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0001' to 't2m01.grib'.
2025-08-24 15:27:07,101 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0001 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m01.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:07,176 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:07,176 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0002' to 't2m02.grib'.
2025-08-24 15:27:07,176 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0002 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m02.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:07,251 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:07,251 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0003' to 't2m03.grib'.
2025-08-24 15:27:07,252 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0003 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m03.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:07,327 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:07,327 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0004' to 't2m04.grib'.
2025-08-24 15:27:07,327 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0004 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m04.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:07,402 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:07,402 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0005' to 't2m05.grib'.
2025-08-24 15:27:07,403 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0005 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m05.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:07,478 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:07,478 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0006' to 't2m06.grib'.
2025-08-24 15:27:07,478 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0006 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m06.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:07,553 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:07,553 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0007' to 't2m07.grib'.
2025-08-24 15:27:07,553 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0007 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m07.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:07,628 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:07,628 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0008' to 't2m08.grib'.
2025-08-24 15:27:07,628 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0008 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m08.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:07,704 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:07,704 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0009' to 't2m09.grib'.
2025-08-24 15:27:07,704 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0009 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m09.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:07,779 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:07,779 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0010' to 't2m10.grib'.
2025-08-24 15:27:07,779 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0010 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m10.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:07,854 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:07,854 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0011' to 't2m11.grib'.
2025-08-24 15:27:07,854 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0011 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m11.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:07,929 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:07,929 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0012' to 't2m12.grib'.
2025-08-24 15:27:07,930 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0012 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,005 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,005 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0013' to 't2m13.grib'.
2025-08-24 15:27:08,005 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0013 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m13.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,080 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,080 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0014' to 't2m14.grib'.
2025-08-24 15:27:08,081 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0014 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m14.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,155 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,156 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0015' to 't2m15.grib'.
2025-08-24 15:27:08,156 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0015 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m15.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,232 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,232 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0016' to 't2m16.grib'.
2025-08-24 15:27:08,232 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0016 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m16.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,307 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,307 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0017' to 't2m17.grib'.
2025-08-24 15:27:08,308 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0017 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m17.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,383 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,383 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0018' to 't2m18.grib'.
2025-08-24 15:27:08,383 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0018 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m18.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,459 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,459 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0019' to 't2m19.grib'.
2025-08-24 15:27:08,460 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0019 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m19.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,535 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,535 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0020' to 't2m20.grib'.
2025-08-24 15:27:08,535 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0020 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m20.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,610 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,610 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0021' to 't2m21.grib'.
2025-08-24 15:27:08,610 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0021 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m21.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,685 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,686 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0022' to 't2m22.grib'.
2025-08-24 15:27:08,686 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0022 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m22.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,761 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,761 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0023' to 't2m23.grib'.
2025-08-24 15:27:08,761 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0023 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m23.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,836 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,836 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0024' to 't2m24.grib'.
2025-08-24 15:27:08,836 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0024 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,912 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,912 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0025' to 't2m25.grib'.
2025-08-24 15:27:08,912 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0025 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m25.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:08,987 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:08,987 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0026' to 't2m26.grib'.
2025-08-24 15:27:08,987 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0026 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m26.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:09,063 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:09,063 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0027' to 't2m27.grib'.
2025-08-24 15:27:09,063 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0027 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m27.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:09,138 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:09,139 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0028' to 't2m28.grib'.
2025-08-24 15:27:09,139 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0028 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m28.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:09,214 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:09,214 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0029' to 't2m29.grib'.
2025-08-24 15:27:09,214 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0029 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m29.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:09,289 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:09,289 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0030' to 't2m30.grib'.
2025-08-24 15:27:09,289 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0030 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m30.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:09,365 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:09,365 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0031' to 't2m31.grib'.
2025-08-24 15:27:09,365 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0031 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m31.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:09,441 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:09,441 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0032' to 't2m32.grib'.
2025-08-24 15:27:09,441 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0032 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m32.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:09,516 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:09,516 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0033' to 't2m33.grib'.
2025-08-24 15:27:09,516 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0033 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m33.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:09,592 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:09,592 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0034' to 't2m34.grib'.
2025-08-24 15:27:09,592 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0034 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m34.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:09,667 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:09,667 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0035' to 't2m35.grib'.
2025-08-24 15:27:09,667 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0035 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m35.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:09,743 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:09,743 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0036' to 't2m36.grib'.
2025-08-24 15:27:09,743 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0036 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:09,818 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:09,818 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0037' to 't2m37.grib'.
2025-08-24 15:27:09,819 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0037 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m37.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:09,894 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:09,894 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0038' to 't2m38.grib'.
2025-08-24 15:27:09,894 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0038 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m38.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:09,969 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:09,969 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0039' to 't2m39.grib'.
2025-08-24 15:27:09,969 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0039 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m39.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:10,045 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:10,045 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0040' to 't2m40.grib'.
2025-08-24 15:27:10,045 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0040 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m40.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:10,120 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:10,120 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0041' to 't2m41.grib'.
2025-08-24 15:27:10,120 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0041 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m41.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:10,196 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:10,196 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0042' to 't2m42.grib'.
2025-08-24 15:27:10,196 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0042 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m42.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:10,271 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:10,271 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0043' to 't2m43.grib'.
2025-08-24 15:27:10,272 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0043 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m43.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:10,347 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:10,347 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0044' to 't2m44.grib'.
2025-08-24 15:27:10,347 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0044 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m44.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:10,422 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:10,423 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0045' to 't2m45.grib'.
2025-08-24 15:27:10,423 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0045 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m45.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:10,499 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:10,499 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0046' to 't2m46.grib'.
2025-08-24 15:27:10,499 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0046 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m46.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:10,575 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:10,575 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0047' to 't2m47.grib'.
2025-08-24 15:27:10,575 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0047 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m47.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:10,653 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:10,653 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'grib_2025082400_0048' to 't2m48.grib'.
2025-08-24 15:27:10,653 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0048 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m48.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:10,728 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:27:10,729 - INFO - grib_processor:69 - Merging 49 extracted GRIB files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 15:27:10,729 - INFO - file_operations:129 - Starting merge of 49 files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 15:27:10,734 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 15:27:10,734 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 15:27:10,734 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-24 15:27:10,734 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00.grib
2025-08-24 15:27:10,734 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m01.grib
2025-08-24 15:27:10,735 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m02.grib
2025-08-24 15:27:10,735 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m03.grib
2025-08-24 15:27:10,735 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m04.grib
2025-08-24 15:27:10,735 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m05.grib
2025-08-24 15:27:10,735 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m06.grib
2025-08-24 15:27:10,735 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m07.grib
2025-08-24 15:27:10,735 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m08.grib
2025-08-24 15:27:10,735 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m09.grib
2025-08-24 15:27:10,736 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m10.grib
2025-08-24 15:27:10,736 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m11.grib
2025-08-24 15:27:10,736 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12.grib
2025-08-24 15:27:10,736 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m13.grib
2025-08-24 15:27:10,736 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m14.grib
2025-08-24 15:27:10,736 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m15.grib
2025-08-24 15:27:10,736 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m16.grib
2025-08-24 15:27:10,736 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m17.grib
2025-08-24 15:27:10,736 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m18.grib
2025-08-24 15:27:10,737 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m19.grib
2025-08-24 15:27:10,737 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m20.grib
2025-08-24 15:27:10,737 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m21.grib
2025-08-24 15:27:10,737 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m22.grib
2025-08-24 15:27:10,737 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m23.grib
2025-08-24 15:27:10,737 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24.grib
2025-08-24 15:27:10,737 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m25.grib
2025-08-24 15:27:10,737 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m26.grib
2025-08-24 15:27:10,738 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m27.grib
2025-08-24 15:27:10,738 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m28.grib
2025-08-24 15:27:10,738 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m29.grib
2025-08-24 15:27:10,738 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m30.grib
2025-08-24 15:27:10,738 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m31.grib
2025-08-24 15:27:10,738 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m32.grib
2025-08-24 15:27:10,738 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m33.grib
2025-08-24 15:27:10,738 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m34.grib
2025-08-24 15:27:10,738 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m35.grib
2025-08-24 15:27:10,739 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36.grib
2025-08-24 15:27:10,739 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m37.grib
2025-08-24 15:27:10,739 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m38.grib
2025-08-24 15:27:10,739 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m39.grib
2025-08-24 15:27:10,739 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m40.grib
2025-08-24 15:27:10,739 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m41.grib
2025-08-24 15:27:10,739 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m42.grib
2025-08-24 15:27:10,739 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m43.grib
2025-08-24 15:27:10,739 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m44.grib
2025-08-24 15:27:10,740 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m45.grib
2025-08-24 15:27:10,740 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m46.grib
2025-08-24 15:27:10,740 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m47.grib
2025-08-24 15:27:10,740 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m48.grib
2025-08-24 15:27:10,740 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-24 15:27:10,740 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-24 15:27:10,740 - INFO - 2-conv:118 - Alternative GRIB processing completed successfully. Final file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 15:27:10,740 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-24 15:27:10,740 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:11,552 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-24 15:27:11,552 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 15:27:11,552 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:27:11,552 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:27:11,552 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:27:11,552 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:27:11,552 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 15:27:11,553 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 15:27:11,555 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 15:27:11,565 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-24 15:27:11,573 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 15:27:11,764 - INFO - grib_processor:113 - GRIB file '2t_20250824.grib' opened successfully.
2025-08-24 15:27:11,764 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-24 15:27:11,764 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-24 15:27:11,764 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-24 15:27:14,873 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-24 15:27:14,873 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-24 15:27:14,899 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-24 15:27:14,899 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-24 15:27:14,899 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-24 15:27:14,899 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-24 15:27:14,900 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-24 15:27:14,900 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-24 15:27:14,901 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-24 15:27:14,925 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 15:27:14,930 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 15:27:14,931 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 15:27:14,931 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-24 15:27:14,931 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:15,853 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:27:15,853 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../../bufr_data/observations
2025-08-24 15:27:15,853 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations
2025-08-24 15:27:15,853 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 15:27:15,853 - INFO - 4-traitement_obs:104 - Initialized DataFrame with 47 unique stations.
2025-08-24 15:27:15,853 - INFO - 4-traitement_obs:132 - Configured to process 5 time steps for observations.
2025-08-24 15:27:15,854 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508230600.bufr for key 'airTemperature'
2025-08-24 15:27:16,006 - INFO - 4-traitement_obs:160 - Merged data for t2m_06 into the main DataFrame.
2025-08-24 15:27:16,006 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231200.bufr for key 'airTemperature'
2025-08-24 15:27:16,111 - INFO - 4-traitement_obs:160 - Merged data for t2m_12 into the main DataFrame.
2025-08-24 15:27:16,111 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'airTemperature'
2025-08-24 15:27:16,216 - INFO - 4-traitement_obs:160 - Merged data for t2m_18 into the main DataFrame.
2025-08-24 15:27:16,217 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508232100.bufr for key 'airTemperature'
2025-08-24 15:27:16,247 - INFO - 4-traitement_obs:160 - Merged data for t2m_21 into the main DataFrame.
2025-08-24 15:27:16,247 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240000.bufr for key 'airTemperature'
2025-08-24 15:27:16,313 - INFO - 4-traitement_obs:160 - Merged data for t2m_24 into the main DataFrame.
2025-08-24 15:27:16,314 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-24 15:27:16,314 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-24 15:27:16,314 - INFO - 4-traitement_obs:178 - Final DataFrame head:
2025-08-24 15:27:16,317 - INFO - 4-traitement_obs:180 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    29.1    44.0    43.2     NaN    33.3
1            ANNABA    22.0    29.0    26.1     NaN    19.7
2      B-B-ARRERIDJ    17.7    32.1    29.3     NaN     NaN
3             BATNA    18.5    35.1    29.0     NaN    20.5
4            BECHAR    30.1    38.0    35.2     NaN    31.7
2025-08-24 15:27:16,319 - INFO - 4-traitement_obs:192 - DataFrame successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations/observations_20250824.csv
2025-08-24 15:27:16,319 - INFO - 4-traitement_obs:198 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-24 15:27:16,320 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:17,164 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-24 15:27:17,164 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:27:17,165 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:27:17,165 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 15:27:17,165 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-24 15:27:17,165 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-24 15:27:17,165 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-24 15:27:17,165 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/24/Synop_202508240600.bufr
2025-08-24 15:27:17,165 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/23/Synop_202508231800.bufr
2025-08-24 15:27:17,166 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-24 15:27:17,166 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 15:27:17,312 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-24 15:27:17,312 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 15:27:17,419 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 88
2025-08-24 15:27:17,419 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-24 15:27:17,419 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-24 15:27:17,423 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-24 15:27:17,425 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations
2025-08-24 15:27:17,426 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 15:27:17,427 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-24 15:27:17,427 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/6-create_tables.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:17,957 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 15:27:17,957 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/BQRM_V01/sonelgaz/outputs
2025-08-24 15:27:17,960 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 15:27:17,988 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-24 15:27:17,989 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-24 15:27:17,989 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-24 15:27:17,990 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 15:27:17,998 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 15:27:17,998 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-24 15:27:18,000 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 15:27:18,005 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 15:27:18,005 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-24 15:27:18,009 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-24 15:27:18,009 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-24 15:27:18,011 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-24 15:27:18,011 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-24 15:27:18,011 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-24 15:27:18,023 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-24 15:27:18,023 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 15:27:18,023 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-24 15:27:18,035 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-24 15:27:18,035 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 15:27:18,035 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-24 15:27:18,046 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-24 15:27:18,046 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 15:27:18,047 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-24 15:27:18,058 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-24 15:27:18,059 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 15:27:18,059 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-24 15:27:18,059 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-24 15:27:18,059 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/7-create_word.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:18,616 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-24 15:27:18,616 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 15:27:18,616 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:27:18,616 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:27:18,616 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:27:18,616 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:27:18,616 - INFO - 7-create_word:73 - Processed dates - Today: 24-08-2025, Tomorrow: 25-08-2025
2025-08-24 15:27:18,616 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-24 15:27:18,616 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 15:27:18,616 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 15:27:18,617 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 15:27:18,617 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 15:27:18,617 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 15:27:18,617 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 15:27:18,617 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-24 15:27:18,617 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 15:27:18,624 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-24 15:27:18,624 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 15:27:18,630 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-24 15:27:18,630 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 15:27:18,636 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-24 15:27:18,636 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 15:27:18,642 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-24 15:27:18,642 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-24 15:27:18,642 - INFO - 7-create_word:230 - Loading Word template...
2025-08-24 15:27:18,698 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 15:27:18,698 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-24 15:27:18,699 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-24 15:27:18,700 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 24-08-2025'.
2025-08-24 15:27:18,701 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-24 15:27:18,701 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 25-08-2025'.
2025-08-24 15:27:18,701 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-24 15:27:18,701 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-24 15:27:18,702 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-24 15:27:19,332 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-24 15:27:19,370 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-24 15:27:19,370 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-24 15:27:19,765 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-24 15:27:19,793 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-24 15:27:19,793 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-24 15:27:20,546 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-24 15:27:20,585 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-24 15:27:20,585 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-24 15:27:21,467 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-24 15:27:21,510 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-24 15:27:21,510 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-24 15:27:21,510 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 15:27:21,788 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 15:27:21,788 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_24-08-2025.docx' exists on disk at '/home/aoumeur/BQRM_V01/sonelgaz/bulletins' (size: 2962604 bytes).
2025-08-24 15:27:21,788 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/BQRM_V01/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-24 15:27:21,788 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-24 15:27:21,788 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-24 15:27:21,788 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/8-send_MSG.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:27:21,849 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 15:27:21,849 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-24 15:27:21,849 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-24 15:27:21,850 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 15:27:21,850 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 15:27:21,850 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 15:27:21,850 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:27:21,850 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 15:27:21,850 - WARNING - file_operations:242 - File not found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2. Skipping this operation.
2025-08-24 15:27:21,850 - DEBUG - file_operations:244 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/grib_2025082400_0000
2025-08-24 15:27:21,850 - INFO - 8-send_MSG:103 - ALADIN GRIB file found. Setting email subject/body for ALADIN model.
2025-08-24 15:27:21,850 - DEBUG - file_operations:244 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 15:27:21,850 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 15:27:21,850 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 24/08/2025 Généré avec ALADIN'
2025-08-24 15:27:21,850 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx')]
2025-08-24 15:27:21,948 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-24 15:27:21,949 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-24 15:27:21,949 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 15:27:21,949 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'. Attempting to open and attach.
2025-08-24 15:27:22,066 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 15:27:22,389 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-24 15:27:22,393 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-24 15:27:22,393 - INFO - 8-send_MSG:131 - Attempting to clean up temporary directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp
2025-08-24 15:27:22,393 - INFO - file_operations:283 - Starting cleanup of directory: /home/aoumeur/BQRM_V01/sonelgaz/tmp (Pattern: All files)
2025-08-24 15:27:22,395 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0000
2025-08-24 15:27:22,398 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0035
2025-08-24 15:27:22,401 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0028
2025-08-24 15:27:22,404 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0030
2025-08-24 15:27:22,406 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0016
2025-08-24 15:27:22,409 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0012
2025-08-24 15:27:22,411 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0008
2025-08-24 15:27:22,414 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0040
2025-08-24 15:27:22,417 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0020
2025-08-24 15:27:22,419 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0044
2025-08-24 15:27:22,422 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0023
2025-08-24 15:27:22,424 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0005
2025-08-24 15:27:22,426 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0007
2025-08-24 15:27:22,428 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0043
2025-08-24 15:27:22,430 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0019
2025-08-24 15:27:22,431 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0038
2025-08-24 15:27:22,433 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0017
2025-08-24 15:27:22,435 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0037
2025-08-24 15:27:22,436 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0003
2025-08-24 15:27:22,438 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0047
2025-08-24 15:27:22,440 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0015
2025-08-24 15:27:22,442 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0031
2025-08-24 15:27:22,443 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0021
2025-08-24 15:27:22,445 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0013
2025-08-24 15:27:22,447 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0041
2025-08-24 15:27:22,448 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0009
2025-08-24 15:27:22,450 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0018
2025-08-24 15:27:22,451 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0011
2025-08-24 15:27:22,453 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0036
2025-08-24 15:27:22,455 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0042
2025-08-24 15:27:22,456 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0004
2025-08-24 15:27:22,458 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0001
2025-08-24 15:27:22,460 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0006
2025-08-24 15:27:22,461 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0022
2025-08-24 15:27:22,463 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0048
2025-08-24 15:27:22,465 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0032
2025-08-24 15:27:22,466 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0029
2025-08-24 15:27:22,468 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0026
2025-08-24 15:27:22,470 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0010
2025-08-24 15:27:22,472 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0025
2025-08-24 15:27:22,473 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0046
2025-08-24 15:27:22,475 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0034
2025-08-24 15:27:22,476 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0014
2025-08-24 15:27:22,478 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0027
2025-08-24 15:27:22,480 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0045
2025-08-24 15:27:22,482 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0024
2025-08-24 15:27:22,483 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 15:27:22,485 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0033
2025-08-24 15:27:22,486 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0039
2025-08-24 15:27:22,488 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/grib_2025082400_0002
2025-08-24 15:27:22,488 - INFO - file_operations:300 - Finished cleanup. Successfully deleted 50 files from /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 15:27:22,488 - INFO - 8-send_MSG:140 - Successfully cleaned 50 files from /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp.
2025-08-24 15:27:22,488 - INFO - 8-send_MSG:147 - Script execution finished.
2025-08-24 15:27:22,498 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:27:22,498 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-24 15:27:22,499 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-24 15:27:22,591 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:27:22,591 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-24 15:27:22,591 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-24 15:27:22,666 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:27:22,666 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-24 15:27:22,666 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-24 15:27:22,794 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:27:22,794 - INFO - 4-traitement_obs:206 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-24 15:27:22,794 - INFO - 4-traitement_obs:215 - --- Script '4-traitement_obs.py' finished. ---
2025-08-24 15:27:22,918 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:27:22,918 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-24 15:27:22,918 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-24 15:27:23,055 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:27:23,055 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-24 15:27:23,055 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-24 15:27:23,174 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:27:23,174 - INFO - 1-get-aladin:150 - Successfully executed 2-conv.py.
2025-08-24 15:27:23,175 - INFO - 1-get-aladin:160 - --- Script '1-get-aladin.py' finished. ---
2025-08-24 15:27:23,196 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:27:23,196 - INFO - 1-get_arpege:128 - Python script '1-get-aladin.py' completed successfully.
2025-08-24 15:27:23,196 - INFO - 1-get_arpege:197 - --- Script '1-get_arpege.py' finished. ---
2025-08-24 15:31:27,513 - INFO - 1-get_arpege:61 - --- Script '1-get_arpege.py' started ---
2025-08-24 15:31:27,513 - INFO - 1-get_arpege:62 - Logger configured. All logs for this workflow will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 15:31:27,513 - INFO - 1-get_arpege:63 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:31:27,514 - INFO - 1-get_arpege:64 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:31:27,514 - INFO - 1-get_arpege:65 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:31:27,514 - INFO - 1-get_arpege:66 - Temporary directory for FTP download: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 15:31:27,514 - INFO - 1-get_arpege:67 - Remote FTP directory: /share/meteofrance/Arpege_Orig
2025-08-24 15:31:27,514 - INFO - 1-get_arpege:70 - Ensured temporary directory exists: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 15:31:27,514 - INFO - 1-get_arpege:78 - Fetching files for date: 20250824 with pattern: *SP1*20250824000*
2025-08-24 15:31:27,514 - INFO - 1-get_arpege:81 - Checking if ARPEGE files exist on FTP server and verifying completeness...
2025-08-24 15:31:27,514 - INFO - fetchdata:68 - Listing files in remote directory: /share/meteofrance/Arpege_Orig on ftp1.meteo.dz (pattern: *SP1*20250824000*)...
2025-08-24 15:31:27,514 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-24 15:31:27,784 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-24 15:31:27,794 - INFO - fetchdata:81 - Found 9 files matching pattern '*SP1*20250824000*'.
2025-08-24 15:31:27,795 - INFO - 1-get_arpege:114 - All 9 expected ARPEGE forecast steps found on FTP server for date 20250824.
2025-08-24 15:31:27,795 - INFO - 1-get_arpege:133 - Found 9 matching ARPEGE files on FTP server:
2025-08-24 15:31:27,795 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:27,795 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:27,795 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:27,795 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:27,795 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:27,795 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:27,795 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:27,795 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:27,795 - INFO - 1-get_arpege:135 -   - W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:27,796 - INFO - 1-get_arpege:148 - Proceeding with FTP download using fetch_remote_files.
2025-08-24 15:31:27,796 - INFO - 1-get_arpege:149 - Attempting to download 9 files to /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 15:31:27,796 - INFO - fetchdata:171 - Starting FTP file fetching process for 9 files.
2025-08-24 15:31:27,796 - INFO - fetchdata:17 - Attempting to connect to FTP server ftp1.meteo.dz:21...
2025-08-24 15:31:28,011 - INFO - fetchdata:20 - Successfully connected and logged in to ftp1.meteo.dz.
2025-08-24 15:31:28,012 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 15:31:28,012 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:28,956 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:28,957 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 15:31:28,957 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:29,862 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:29,862 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 15:31:29,862 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:30,782 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:30,782 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 15:31:30,783 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:31,773 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:31,773 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 15:31:31,773 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:32,508 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:32,508 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 15:31:32,508 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:33,263 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:33,263 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 15:31:33,263 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:34,154 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:34,155 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 15:31:34,155 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:34,983 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:34,983 - INFO - fetchdata:227 - Local file W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 is missing. Downloading.
2025-08-24 15:31:34,983 - INFO - fetchdata:230 - Downloading /share/meteofrance/Arpege_Orig/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 to /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:35,346 - INFO - fetchdata:239 - Successfully downloaded W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:35,347 - INFO - fetchdata:257 - FTP client closed.
2025-08-24 15:31:35,347 - INFO - fetchdata:261 - FTP file fetching process completed.
2025-08-24 15:31:35,347 - INFO - 1-get_arpege:160 - FTP transfer process initiated by fetch_remote_files completed.
2025-08-24 15:31:35,347 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 15:31:35,347 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 15:31:35,347 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 15:31:35,347 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 15:31:35,347 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 15:31:35,347 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 15:31:35,347 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 15:31:35,347 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 15:31:35,347 - INFO - 1-get_arpege:167 - Verified: W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2 exists and is not empty.
2025-08-24 15:31:35,347 - INFO - 1-get_arpege:179 - Successfully verified all 9 files downloaded to '/home/aoumeur/BQRM_V01/sonelgaz/tmp'.
2025-08-24 15:31:35,347 - INFO - 1-get_arpege:182 - Attempting to run next program: 2-conv.py
2025-08-24 15:31:35,347 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/2-conv.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:31:36,141 - INFO - 2-conv:40 - --- Script '2-conv.py' started ---
2025-08-24 15:31:36,141 - INFO - 2-conv:41 - Using shared log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 15:31:36,141 - INFO - 2-conv:42 - Current working directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:31:36,141 - INFO - 2-conv:43 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:31:36,141 - INFO - 2-conv:44 - Parent directory dynamically set to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:31:36,141 - INFO - 2-conv:45 - Temporary directory for GRIB files: /home/aoumeur/BQRM_V01/sonelgaz/tmp
2025-08-24 15:31:36,141 - INFO - 2-conv:55 - Processing for date: 20250824
2025-08-24 15:31:36,141 - INFO - 2-conv:56 - Starting extraction of temperature from ARPEGE files.
2025-08-24 15:31:36,141 - INFO - 2-conv:65 - Found primary ARPEGE file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2. Processing this branch.
2025-08-24 15:31:36,141 - INFO - grib_processor:41 - Starting GRIB parameter extraction and merging for filter: 'shortName=2t'
2025-08-24 15:31:36,142 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2' to 't2m00-12.grib'.
2025-08-24 15:31:36,142 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:31:36,719 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:31:36,719 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2' to 't2m12-24.grib'.
2025-08-24 15:31:36,719 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:31:37,325 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:31:37,326 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2' to 't2m24-36.grib'.
2025-08-24 15:31:37,326 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:31:37,909 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:31:37,909 - INFO - grib_processor:54 - Extracting 'shortName=2t' from 'W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2' to 't2m36-48.grib'.
2025-08-24 15:31:37,909 - INFO - system_utils:36 - Executing command: grib_copy -w shortName=2t /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2 /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:31:38,474 - INFO - system_utils:47 - Command 'grib_copy' completed successfully.
2025-08-24 15:31:38,474 - INFO - grib_processor:69 - Merging 4 extracted GRIB files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 15:31:38,474 - INFO - file_operations:129 - Starting merge of 4 files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 15:31:38,488 - INFO - file_operations:141 - Successfully merged files into '/home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib'.
2025-08-24 15:31:38,488 - INFO - grib_processor:72 - Successfully merged all extracted files to: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 15:31:38,488 - INFO - grib_processor:79 - Deleting temporary extracted GRIB files.
2025-08-24 15:31:38,489 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m00-12.grib
2025-08-24 15:31:38,490 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m12-24.grib
2025-08-24 15:31:38,491 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m24-36.grib
2025-08-24 15:31:38,492 - INFO - file_operations:171 - Successfully deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/t2m36-48.grib
2025-08-24 15:31:38,492 - INFO - grib_processor:81 - Temporary GRIB files deleted.
2025-08-24 15:31:38,492 - INFO - grib_processor:85 - GRIB processing completed successfully.
2025-08-24 15:31:38,492 - INFO - 2-conv:90 - ARPEGE GRIB processing completed successfully. Final file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 15:31:38,492 - INFO - 2-conv:127 - Attempting to run next program: 3-create_forecast_table.py
2025-08-24 15:31:38,492 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/3-create_forecast_table.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:31:39,352 - INFO - 3-create_forecast_table:44 - --- Script '3-create_forecast_table.py' execution started. ---
2025-08-24 15:31:39,352 - INFO - 3-create_forecast_table:45 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 15:31:39,352 - INFO - 3-create_forecast_table:46 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:31:39,352 - INFO - 3-create_forecast_table:47 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:31:39,352 - INFO - 3-create_forecast_table:48 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:31:39,352 - INFO - 3-create_forecast_table:53 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:31:39,352 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 15:31:39,353 - INFO - 3-create_forecast_table:76 - Attempting to load station data from: /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 15:31:39,355 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/template/station_onm_officielle.csv
2025-08-24 15:31:39,365 - INFO - 3-create_forecast_table:82 - Successfully loaded 75 stations.
2025-08-24 15:31:39,373 - INFO - 3-create_forecast_table:95 - Attempting to open GRIB file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 15:31:39,600 - INFO - grib_processor:113 - GRIB file '2t_20250824.grib' opened successfully.
2025-08-24 15:31:39,600 - INFO - 3-create_forecast_table:98 - GRIB file resource successfully opened.
2025-08-24 15:31:39,600 - INFO - 3-create_forecast_table:115 - Starting GRIB data extraction for 2m temperature.
2025-08-24 15:31:39,600 - INFO - grib_processor:159 - Starting extraction of field '2t' for 75 stations across 25 time steps using old script's explicit loop logic.
2025-08-24 15:31:43,092 - INFO - grib_processor:205 - Finished GRIB data extraction for all specified time steps and stations.
2025-08-24 15:31:43,092 - INFO - 3-create_forecast_table:127 - Finished extraction of 2m temperature data from GRIB file and populated 't2m_XX' columns.
2025-08-24 15:31:43,137 - INFO - 3-create_forecast_table:144 - GRIB file resource closed successfully.
2025-08-24 15:31:43,137 - INFO - 3-create_forecast_table:150 - Calculating min and max temperatures across all time steps for each station.
2025-08-24 15:31:43,137 - INFO - numpy_utils:26 - Starting calculation of min/max values across time steps for each entity.
2025-08-24 15:31:43,137 - INFO - numpy_utils:49 - Min/Max temperatures calculated successfully.
2025-08-24 15:31:43,137 - INFO - 3-create_forecast_table:155 - Min/Max temperatures calculated successfully.
2025-08-24 15:31:43,138 - INFO - 3-create_forecast_table:163 - Converting results dictionary to pandas DataFrame.
2025-08-24 15:31:43,139 - INFO - 3-create_forecast_table:167 - DataFrame created successfully.
2025-08-24 15:31:43,163 - INFO - 3-create_forecast_table:180 - Attempting to save final table to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 15:31:43,168 - INFO - data_utils:145 - DataFrame successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 15:31:43,168 - INFO - 3-create_forecast_table:185 - Final table successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 15:31:43,168 - INFO - 3-create_forecast_table:192 - Attempting to run next program: 4-traitement_obs.py
2025-08-24 15:31:43,168 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/4-traitement_obs.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:31:43,974 - INFO - 4-traitement_obs:50 - Script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:31:43,975 - INFO - 4-traitement_obs:54 - BUFR base directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../../bufr_data/observations
2025-08-24 15:31:43,975 - INFO - 4-traitement_obs:60 - Output directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations
2025-08-24 15:31:43,975 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 15:31:43,975 - INFO - 4-traitement_obs:104 - Initialized DataFrame with 47 unique stations.
2025-08-24 15:31:43,975 - INFO - 4-traitement_obs:132 - Configured to process 5 time steps for observations.
2025-08-24 15:31:43,976 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508230600.bufr for key 'airTemperature'
2025-08-24 15:31:44,116 - INFO - 4-traitement_obs:160 - Merged data for t2m_06 into the main DataFrame.
2025-08-24 15:31:44,116 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231200.bufr for key 'airTemperature'
2025-08-24 15:31:44,216 - INFO - 4-traitement_obs:160 - Merged data for t2m_12 into the main DataFrame.
2025-08-24 15:31:44,217 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'airTemperature'
2025-08-24 15:31:44,317 - INFO - 4-traitement_obs:160 - Merged data for t2m_18 into the main DataFrame.
2025-08-24 15:31:44,318 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508232100.bufr for key 'airTemperature'
2025-08-24 15:31:44,345 - INFO - 4-traitement_obs:160 - Merged data for t2m_21 into the main DataFrame.
2025-08-24 15:31:44,346 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240000.bufr for key 'airTemperature'
2025-08-24 15:31:44,408 - INFO - 4-traitement_obs:160 - Merged data for t2m_24 into the main DataFrame.
2025-08-24 15:31:44,408 - WARNING - data_utils:48 - The following desired columns were not found in the DataFrame: ['t2m_00', 't2m_03', 't2m_09', 't2m_15']. Only existing columns will be selected.
2025-08-24 15:31:44,408 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 't2m_06', 't2m_12', 't2m_18', 't2m_21', 't2m_24']
2025-08-24 15:31:44,409 - INFO - 4-traitement_obs:178 - Final DataFrame head:
2025-08-24 15:31:44,412 - INFO - 4-traitement_obs:180 -   stationOrSiteName  t2m_06  t2m_12  t2m_18  t2m_21  t2m_24
0             ADRAR    29.1    44.0    43.2     NaN    33.3
1            ANNABA    22.0    29.0    26.1     NaN    19.7
2      B-B-ARRERIDJ    17.7    32.1    29.3     NaN     NaN
3             BATNA    18.5    35.1    29.0     NaN    20.5
4            BECHAR    30.1    38.0    35.2     NaN    31.7
2025-08-24 15:31:44,414 - INFO - 4-traitement_obs:192 - DataFrame successfully saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/../outputs/observations/observations_20250824.csv
2025-08-24 15:31:44,414 - INFO - 4-traitement_obs:198 - Attempting to run next program: 5-traitement_obs_min_max.py
2025-08-24 15:31:44,414 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/5-traitement_obs_min_max.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:31:45,223 - INFO - 5-traitement_obs_min_max:50 - --- Script Start ---
2025-08-24 15:31:45,224 - INFO - 5-traitement_obs_min_max:51 - Project Root: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:31:45,224 - INFO - 5-traitement_obs_min_max:52 - Script's Own Directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:31:45,224 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 15:31:45,224 - INFO - 5-traitement_obs_min_max:80 - Defined 4 regions with a total of 47 stations.
2025-08-24 15:31:45,224 - INFO - 5-traitement_obs_min_max:83 - Unique stations identified: 47
2025-08-24 15:31:45,224 - INFO - 5-traitement_obs_min_max:87 - Initial DataFrame created with all station names.
2025-08-24 15:31:45,224 - INFO - 5-traitement_obs_min_max:95 - Expected BUFR file for Tmin (today's 0600Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/24/Synop_202508240600.bufr
2025-08-24 15:31:45,225 - INFO - 5-traitement_obs_min_max:96 - Expected BUFR file for Tmax (yesterday's 1800Z): /home/aoumeur/BQRM_V01/sonelgaz/../bufr_data/observations/2025/08/23/Synop_202508231800.bufr
2025-08-24 15:31:45,225 - INFO - 5-traitement_obs_min_max:106 - Proceeding with available BUFR files.
2025-08-24 15:31:45,225 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/24/Synop_202508240600.bufr for key 'minimumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 15:31:45,364 - INFO - 5-traitement_obs_min_max:118 - Successfully merged Tmin data. Stations with Tmin: 87
2025-08-24 15:31:45,365 - INFO - grib_processor:235 - Processing BUFR file: /home/aoumeur/BQRM_V01/bufr_data/observations/2025/08/23/Synop_202508231800.bufr for key 'maximumTemperatureAtHeightAndOverPeriodSpecified'
2025-08-24 15:31:45,465 - INFO - 5-traitement_obs_min_max:133 - Successfully merged Tmax data. Stations with Tmax: 88
2025-08-24 15:31:45,465 - INFO - 5-traitement_obs_min_max:140 - Starting DataFrame cleaning and filtering.
2025-08-24 15:31:45,465 - INFO - data_utils:49 - Selecting columns: ['stationOrSiteName', 'tmin', 'tmax']
2025-08-24 15:31:45,469 - INFO - 5-traitement_obs_min_max:167 - Final cleaned DataFrame has 47 rows.
2025-08-24 15:31:45,471 - INFO - 5-traitement_obs_min_max:177 - Output directory ensured: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations
2025-08-24 15:31:45,472 - INFO - 5-traitement_obs_min_max:187 - Data successfully saved to /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 15:31:45,472 - INFO - 5-traitement_obs_min_max:194 - Attempting to run next program: 6-create_tables.py
2025-08-24 15:31:45,472 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/6-create_tables.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:31:45,968 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 15:31:45,968 - INFO - 6-create_tables:68 - Attempting to load data from outputs directory: /home/aoumeur/BQRM_V01/sonelgaz/outputs
2025-08-24 15:31:45,971 - INFO - data_utils:71 - Successfully loaded 75 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/arpege/station_arpege_20250824.csv
2025-08-24 15:31:45,996 - INFO - 6-create_tables:82 - Processing arpege data for 't_demain_arp'.
2025-08-24 15:31:45,997 - INFO - 6-create_tables:97 - Arpege data processed successfully.
2025-08-24 15:31:45,997 - INFO - 6-create_tables:111 - Loading and processing observations data.
2025-08-24 15:31:45,998 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 15:31:46,006 - INFO - 6-create_tables:128 - Observations data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/observations_20250824.csv
2025-08-24 15:31:46,006 - INFO - 6-create_tables:138 - Loading and processing observations min/max data.
2025-08-24 15:31:46,007 - INFO - data_utils:71 - Successfully loaded 47 rows from /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 15:31:46,013 - INFO - 6-create_tables:152 - Observations min/max data loaded and processed from: /home/aoumeur/BQRM_V01/sonelgaz/outputs/observations/tmin_tmax_20250824.csv
2025-08-24 15:31:46,013 - INFO - 6-create_tables:161 - Merging all processed dataframes into 'full_table'.
2025-08-24 15:31:46,016 - INFO - 6-create_tables:167 - Dataframes merged successfully.
2025-08-24 15:31:46,016 - INFO - 6-create_tables:173 - Reindexing columns and filling missing values in 'full_table'.
2025-08-24 15:31:46,018 - INFO - 6-create_tables:182 - Columns reindexed and missing values filled.
2025-08-24 15:31:46,018 - INFO - 6-create_tables:205 - Starting processing and saving Excel files for each region.
2025-08-24 15:31:46,018 - INFO - 6-create_tables:208 - Processing region: Ouest
2025-08-24 15:31:46,031 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx (Sheet: Ouest)
2025-08-24 15:31:46,031 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Ouest' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 15:31:46,031 - INFO - 6-create_tables:208 - Processing region: Centre
2025-08-24 15:31:46,041 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx (Sheet: Centre)
2025-08-24 15:31:46,042 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Centre' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 15:31:46,042 - INFO - 6-create_tables:208 - Processing region: Est
2025-08-24 15:31:46,052 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx (Sheet: Est)
2025-08-24 15:31:46,053 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Est' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 15:31:46,053 - INFO - 6-create_tables:208 - Processing region: Sud
2025-08-24 15:31:46,063 - INFO - data_utils:230 - DataFrame successfully saved to Excel file: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx (Sheet: Sud)
2025-08-24 15:31:46,064 - INFO - 6-create_tables:235 - Successfully saved Excel file for region 'Sud' to /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 15:31:46,064 - INFO - 6-create_tables:242 - All regional Excel files processed and created successfully.
2025-08-24 15:31:46,064 - INFO - 6-create_tables:246 - Attempting to run next program: 7-create_word.py
2025-08-24 15:31:46,064 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/7-create_word.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:31:46,601 - INFO - 7-create_word:50 - --- Script '7-create_word.py' execution started. ---
2025-08-24 15:31:46,601 - INFO - 7-create_word:51 - Logger configured. Logs will be saved to: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 15:31:46,601 - INFO - 7-create_word:52 - Current script directory: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:31:46,602 - INFO - 7-create_word:53 - Determined project root directory: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:31:46,602 - INFO - 7-create_word:54 - Current working directory (before change): /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:31:46,602 - INFO - 7-create_word:58 - Changed current working directory to: /home/aoumeur/BQRM_V01/sonelgaz
2025-08-24 15:31:46,602 - INFO - 7-create_word:73 - Processed dates - Today: 24-08-2025, Tomorrow: 25-08-2025
2025-08-24 15:31:46,602 - INFO - 7-create_word:199 - Defining file paths for Excel, Word template, and output.
2025-08-24 15:31:46,602 - INFO - 7-create_word:207 - Excel Ouest path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 15:31:46,602 - INFO - 7-create_word:208 - Excel Centre path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 15:31:46,602 - INFO - 7-create_word:209 - Excel Est path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 15:31:46,602 - INFO - 7-create_word:210 - Excel Sud path: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 15:31:46,602 - INFO - 7-create_word:211 - Word template path: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 15:31:46,602 - INFO - 7-create_word:212 - Output Word document path: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 15:31:46,602 - INFO - 7-create_word:216 - Loading Excel workbooks using pytaps.data_utils.load_excel_workbook...
2025-08-24 15:31:46,602 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx
2025-08-24 15:31:46,609 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Ouest.xlsx, active sheet: 'Ouest'
2025-08-24 15:31:46,609 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx
2025-08-24 15:31:46,615 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Centre.xlsx, active sheet: 'Centre'
2025-08-24 15:31:46,615 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx
2025-08-24 15:31:46,620 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Est.xlsx, active sheet: 'Est'
2025-08-24 15:31:46,621 - INFO - data_utils:281 - Attempting to load Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx
2025-08-24 15:31:46,626 - INFO - data_utils:284 - Successfully loaded Excel workbook: /home/aoumeur/BQRM_V01/sonelgaz/outputs/tab_reg/regions_Sud.xlsx, active sheet: 'Sud'
2025-08-24 15:31:46,626 - INFO - 7-create_word:222 - All Excel workbooks loaded successfully.
2025-08-24 15:31:46,627 - INFO - 7-create_word:230 - Loading Word template...
2025-08-24 15:31:46,681 - INFO - 7-create_word:234 - Successfully loaded Word template: /home/aoumeur/BQRM_V01/sonelgaz/template/Bulletin.docx
2025-08-24 15:31:46,681 - INFO - 7-create_word:245 - Updating dates in the Word document using local modify_paragraph function.
2025-08-24 15:31:46,682 - INFO - 7-create_word:96 - Found paragraph containing 'Bulletin du  DATE_TODAY' at index 7. Attempting to modify.
2025-08-24 15:31:46,683 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Bulletin du  DATE_TODAY' to 'Bulletin du 24-08-2025'.
2025-08-24 15:31:46,683 - INFO - 7-create_word:96 - Found paragraph containing 'Prévision valable pour la journée du : DATE_DEMAIN' at index 9. Attempting to modify.
2025-08-24 15:31:46,684 - INFO - 7-create_word:119 - Successfully modified paragraph from 'Prévision valable pour la journée du : DATE_DEMAIN' to 'Prévision valable pour la journée du : 25-08-2025'.
2025-08-24 15:31:46,684 - INFO - 7-create_word:249 - Dates in Word document updated successfully.
2025-08-24 15:31:46,684 - INFO - 7-create_word:256 - Updating all tables in the Word document with Excel data using local update_table function.
2025-08-24 15:31:46,684 - INFO - 7-create_word:136 - Starting update for Word table: 'Ouest Region Table' from Excel worksheet: 'Ouest'.
2025-08-24 15:31:47,321 - INFO - 7-create_word:174 - Applying formatting to table: 'Ouest Region Table'.
2025-08-24 15:31:47,357 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Ouest Region Table'.
2025-08-24 15:31:47,357 - INFO - 7-create_word:136 - Starting update for Word table: 'Centre Region Table' from Excel worksheet: 'Centre'.
2025-08-24 15:31:47,743 - INFO - 7-create_word:174 - Applying formatting to table: 'Centre Region Table'.
2025-08-24 15:31:47,771 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Centre Region Table'.
2025-08-24 15:31:47,771 - INFO - 7-create_word:136 - Starting update for Word table: 'Est Region Table' from Excel worksheet: 'Est'.
2025-08-24 15:31:48,498 - INFO - 7-create_word:174 - Applying formatting to table: 'Est Region Table'.
2025-08-24 15:31:48,536 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Est Region Table'.
2025-08-24 15:31:48,536 - INFO - 7-create_word:136 - Starting update for Word table: 'Sud Region Table' from Excel worksheet: 'Sud'.
2025-08-24 15:31:49,383 - INFO - 7-create_word:174 - Applying formatting to table: 'Sud Region Table'.
2025-08-24 15:31:49,424 - INFO - 7-create_word:195 - Finished updating and formatting table: 'Sud Region Table'.
2025-08-24 15:31:49,424 - INFO - 7-create_word:263 - All specified tables in Word document updated successfully.
2025-08-24 15:31:49,424 - INFO - 7-create_word:274 - Attempting to save the updated Word document to: /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 15:31:49,701 - INFO - 7-create_word:279 - Word document successfully saved as /home/aoumeur/BQRM_V01/sonelgaz/bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 15:31:49,701 - INFO - 7-create_word:283 - CONFIRMATION: File 'Bulletin_Sonelgaz_24-08-2025.docx' exists on disk at '/home/aoumeur/BQRM_V01/sonelgaz/bulletins' (size: 2962609 bytes).
2025-08-24 15:31:49,701 - INFO - 7-create_word:296 - Attempting to clean up temporary files in: /home/aoumeur/BQRM_V01/sonelgaz/tmp using pytap.file_operations.clean_directory.
2025-08-24 15:31:49,701 - INFO - 7-create_word:299 - Temporary files cleanup complete.
2025-08-24 15:31:49,701 - INFO - 7-create_word:306 - Attempting to run next program: 8-send_MSG.py
2025-08-24 15:31:49,702 - INFO - system_utils:36 - Executing command: /usr/bin/python3 /home/aoumeur/BQRM_V01/sonelgaz/scr/8-send_MSG.py /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log in directory: '/home/aoumeur/BQRM_V01/sonelgaz/scr'
2025-08-24 15:31:49,763 - INFO - 8-send_MSG:62 - Logger initialized for 8-send_MSG. Log file: /home/aoumeur/BQRM_V01/sonelgaz/scr/logs/sonelgaz.log
2025-08-24 15:31:49,763 - INFO - 8-send_MSG:63 - Starting Sonelgaz bulletin sending script.
2025-08-24 15:31:49,763 - DEBUG - date_time_utils:34 - Calculating YMD for 'today' (offset: 0) and 'yesterday' (offset: 0).
2025-08-24 15:31:49,763 - INFO - date_time_utils:56 - Processed dates - Today: 2025-08-24, Yesterday: 2025-08-23
2025-08-24 15:31:49,763 - DEBUG - 8-send_MSG:69 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 15:31:49,763 - DEBUG - 8-send_MSG:76 - Today's date components: Year=2025, Month=08, Day=24
2025-08-24 15:31:49,763 - DEBUG - 8-send_MSG:79 - Base data path determined as: /home/aoumeur/BQRM_V01/sonelgaz/scr
2025-08-24 15:31:49,763 - INFO - 8-send_MSG:85 - Expected bulletin file path: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 15:31:49,764 - DEBUG - file_operations:244 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:49,764 - WARNING - file_operations:242 - File not found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp/grib_2025082400_0000. Skipping this operation.
2025-08-24 15:31:49,764 - INFO - 8-send_MSG:99 - ARPEGE GRIB file found. Setting email subject/body for ARPEGE model.
2025-08-24 15:31:49,764 - DEBUG - file_operations:244 - File found: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 15:31:49,764 - INFO - 8-send_MSG:110 - Attempting to send email with bulletin: /home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx
2025-08-24 15:31:49,764 - INFO - email_utils:30 - Attempting to send email from 'pnt@meteo.dz' to ['aoumeurmohamed2404@gmail.com'] with subject: 'Bulletin Sonelgaz Du 24/08/2025 Généré avec ARPEGE'
2025-08-24 15:31:49,764 - DEBUG - email_utils:31 - Attachments list received by send_email: [PosixPath('/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx')]
2025-08-24 15:31:49,874 - DEBUG - email_utils:37 - Successfully logged into SMTP server.
2025-08-24 15:31:49,874 - DEBUG - email_utils:47 - Found 1 attachments to process.
2025-08-24 15:31:49,875 - DEBUG - email_utils:50 - Processing attachment: '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 15:31:49,875 - DEBUG - email_utils:54 - Attachment file found at '/home/aoumeur/BQRM_V01/sonelgaz/scr/../bulletins/Bulletin_Sonelgaz_24-08-2025.docx'. Attempting to open and attach.
2025-08-24 15:31:49,990 - DEBUG - email_utils:61 - Successfully attached file: 'Bulletin_Sonelgaz_24-08-2025.docx'
2025-08-24 15:31:50,592 - INFO - email_utils:71 - Email successfully sent to 'aoumeurmohamed2404@gmail.com'.
2025-08-24 15:31:50,599 - INFO - 8-send_MSG:123 - Bulletin email process completed successfully.
2025-08-24 15:31:50,599 - INFO - 8-send_MSG:131 - Attempting to clean up temporary directory: /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp
2025-08-24 15:31:50,600 - INFO - file_operations:283 - Starting cleanup of directory: /home/aoumeur/BQRM_V01/sonelgaz/tmp (Pattern: All files)
2025-08-24 15:31:50,612 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+49H60H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:50,627 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+25H36H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:50,641 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+00H12H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:50,654 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+61H72H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:50,667 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+73H84H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:50,682 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+37H48H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:50,697 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+13H24H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:50,710 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+85H96H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:50,717 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/W_fr-meteofrance,MODEL,ARPEGE+01+SP1+97H102H_C_LFPW_202508240000--.grib2
2025-08-24 15:31:50,719 - DEBUG - file_operations:292 - Deleted file: /home/aoumeur/BQRM_V01/sonelgaz/tmp/2t_20250824.grib
2025-08-24 15:31:50,719 - INFO - file_operations:300 - Finished cleanup. Successfully deleted 10 files from /home/aoumeur/BQRM_V01/sonelgaz/tmp.
2025-08-24 15:31:50,720 - INFO - 8-send_MSG:140 - Successfully cleaned 10 files from /home/aoumeur/BQRM_V01/sonelgaz/scr/../tmp.
2025-08-24 15:31:50,720 - INFO - 8-send_MSG:147 - Script execution finished.
2025-08-24 15:31:50,730 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:31:50,730 - INFO - 7-create_word:313 - Successfully executed 8-send_MSG.py.
2025-08-24 15:31:50,730 - INFO - 7-create_word:321 - --- Script '7-create_word.py' finished. ---
2025-08-24 15:31:50,816 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:31:50,817 - INFO - 6-create_tables:254 - Successfully executed 7-create_word.py.
2025-08-24 15:31:50,817 - INFO - 6-create_tables:263 - --- Script '6-create_tables.py' finished. ---
2025-08-24 15:31:50,889 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:31:50,890 - INFO - 5-traitement_obs_min_max:202 - Successfully executed 6-create_tables.py.
2025-08-24 15:31:50,890 - INFO - 5-traitement_obs_min_max:211 - --- Script '5-traitement_obs_min_max.py' finished. ---
2025-08-24 15:31:51,009 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:31:51,009 - INFO - 4-traitement_obs:206 - Successfully executed 5-traitement_obs_min_max.py.
2025-08-24 15:31:51,010 - INFO - 4-traitement_obs:215 - --- Script '4-traitement_obs.py' finished. ---
2025-08-24 15:31:51,133 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:31:51,133 - INFO - 3-create_forecast_table:199 - Successfully executed 4-traitement_obs.py.
2025-08-24 15:31:51,133 - INFO - 3-create_forecast_table:207 - --- Script '3-create_forecast_table.py' finished. ---
2025-08-24 15:31:51,255 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:31:51,255 - INFO - 2-conv:134 - Successfully executed 3-create_forecast_table.py.
2025-08-24 15:31:51,255 - INFO - 2-conv:139 - --- Script '2-conv.py' finished. ---
2025-08-24 15:31:51,357 - INFO - system_utils:47 - Command '/usr/bin/python3' completed successfully.
2025-08-24 15:31:51,357 - INFO - 1-get_arpege:188 - Successfully executed 2-conv.py.
2025-08-24 15:31:51,357 - INFO - 1-get_arpege:197 - --- Script '1-get_arpege.py' finished. ---
